webpackJsonp([1],{"+Bmb":function(t,e){},"//4g":function(t,e){},"/DWm":function(t,e){},"/e+j":function(t,e){},"/wd6":function(t,e){},"04Xo":function(t,e){},"0qD6":function(t,e){},"11g4":function(t,e){},"2AHa":function(t,e){},"2HgR":function(t,e){},"2lgB":function(t,e){},"3yuQ":function(t,e){},"49a/":function(t,e){},"50BM":function(t,e){},"5WKv":function(t,e){},"5XDc":function(t,e){},"6NqX":function(t,e){},"76vk":function(t,e){},"7CAq":function(t,e){},"7X2g":function(t,e){},"8e3o":function(t,e){},"9D4Q":function(t,e){},"9ONN":function(t,e){},A1bc:function(t,e){},A2x0:function(t,e){},BkkX:function(t,e){},C4Ne:function(t,e){},C4xO:function(t,e){},CmZB:function(t,e){},CxKR:function(t,e){},"Dw/o":function(t,e){},EI7Y:function(t,e){},EK8g:function(t,e){},FLcB:function(t,e){},GBW3:function(t,e){},GcXi:function(t,e){},HlAj:function(t,e){},I8i9:function(t,e){},ILj3:function(t,e){},IvHv:function(t,e){},Jbgx:function(t,e){},Jr6M:function(t,e){},LO6h:function(t,e){},LQQR:function(t,e){},LmAS:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App",components:{}},i,!1,function(t){a("FLcB")},null,null).exports,s=a("zL8q"),o=a.n(s),c=(a("tvR6"),a("XLwt")),l=a("/ocq"),u=a("BO1k"),d=a.n(u),h=a("Za4h"),f=a.n(h),p=a("7t+N"),v=a.n(p),y={methods:{toPrimary1:function(){this.$router.push("./primary1")},toPrimary2:function(){this.$router.push("./primary2")},toPrimary3:function(){this.$router.push("./primary3")},toPrimary4:function(){this.$router.push("./primary4")},toPrimary5:function(){this.$router.push("./primary5")},toPrimary6:function(){this.$router.push("./primary6")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([0,2]).on("zoom",function(){r.selectAll("g").attr("transform","translate("+f.a.event.translate+")scale("+f.a.event.scale+")")});var n=800,i=550,r=f.a.select("#graph").call(a);function s(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([n,i]).linkDistance(150).charge(-1500).on("tick",h).start();function s(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}r.selectAll("g").call(s());var o=f.a.scale.category20(),c=r.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath");r.append("g").selectAll(".edgelabel").data(t.edges).enter().append("text").attr({class:"edgelabel",id:function(t,e){return"edgepath"+e},dx:60,dy:0}).append("textPath").attr("xlink:href",function(t,e){return"#edgepath"+e}).style("pointer-events","none").text(function(t){return t.relation});var l=r.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return"诗词图谱"==t.name?35:25}).style("fill",function(t,e){return o(e)}).on("mouseover",function(e){var a=e.name;a||(a=e.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(a),v()("#info1 p").remove();var n=!0,i=!1,r=void 0;try{for(var s,o=d()(t.nodes);!(n=(s=o.next()).done);n=!0){var c=s.value;if(c.name==a||c.dynasty==a&&!c.name)for(var l in c.prop||c.name?c.prop?v()("#info1").append("<p><span>关键字:</span>诗集</p>"):v()("#info1").append("<p><span>关键字:</span>诗人</p><p><span>朝代:</span>"+c.dynasty+"</p>"):v()("#info1").append("<p><span>关键字:</span>朝代</p>"),c.prop)v()("#info1").append("<p><span>"+l+"</span>"+c.prop[l]+"</p>")}}catch(t){i=!0,r=t}finally{try{!n&&o.return&&o.return()}finally{if(i)throw r}}}).on("click",function(t){c.style("stroke-width",function(e){return e.source.name==t.name||e.target.name==t.name?e.focus&&t.focus?(e.focus=!1,1):(e.focus=!0,2.5):1}),l.style("stroke-width",1),t.focus=!t.focus,e!=t&&null!=e&&(e.focus=!1),t.focus?f.a.select(this).style("stroke-width",2.5):f.a.select(this).style("stroke-width",1),e=t}).call(s()),u=r.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(s());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/shouye.json",function(e,a){t=a,console.log(a),s(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],o=[];if(""==v()(this).val())f.a.json("static/json/shouye.json",function(t,e){console.log(e),s(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&o.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}r.empty(),c.nodes=i,c.edges=o,s(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:10,name:"唐代"},{value:3,name:"宋代"},{value:1,name:"明代"}]}]})}},mounted:function(){this.initGraph()}},m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("section",{staticClass:"mainbox"},[e("div",{staticClass:"column"},[e("svg",{attrs:{id:"graph"}})])])])},staticRenderFns:[]};var g=a("VU/8")(y,m,!1,function(t){a("LO6h")},"data-v-504ec6a7",null).exports,_={data:function(){return{loading:"false"}},methods:{LoginHome:function(){this.$router.push("./tang300")}},mounted:function(){var t="rgba(0, 0, 50, 1.0)",e="rgba(255,255,255,0.7)",a=1e4,n=document.createElement("canvas");n.width=window.innerWidth,n.height=window.innerHeight,n.style.cssText="\t\t    position:fixed;\t\t    top:0px;\t\t    left:0px;\t\t    z-index:-1;\t\t    opacity:1.0;\t\t    ",document.body.appendChild(n);var i=n.getContext("2d");(new Date).getTime();function r(t,e){return(e-t)*Math.random()+t}function s(){this.x=r(0,n.width),this.y=r(0,n.height);var t=r(.3,1.4),a=r(0,2*Math.PI);this.dx=Math.sin(a)*t,this.dy=Math.cos(a)*t,this.r=1.5,this.color=e}s.prototype.move=function(){this.x+=this.dx,this.x<0?(this.x=0,this.dx=-this.dx):this.x>n.width&&(this.x=n.width,this.dx=-this.dx),this.y+=this.dy,this.y<0?(this.y=0,this.dy=-this.dy):this.y>n.height&&(this.y=n.height,this.dy=-this.dy)},s.prototype.draw=function(){i.fillStyle=this.color,i.beginPath(),i.arc(this.x,this.y,this.r,0,2*Math.PI),i.closePath(),i.fill()};var o=[];var c=new s;c.dx=c.dy=0;function l(t,e,n){var r=t.x-e.x,s=t.y-e.y,o=r*r+s*s;if(o<2*a){if(o>a){if(t!==c)return;e.x+=.03*r,e.y+=.03*s}var l=.2*(1.05-o/a)*n;i.strokeStyle="rgba(255,255,255,"+l+")",i.beginPath(),i.lineWidth=1.5,i.moveTo(t.x,t.y),i.lineTo(e.x,e.y),i.closePath(),i.stroke()}}document.onmousemove=function(t){c.x=t.clientX,c.y=t.clientY},document.onmousedown=function(t){5,c.x=t.clientX,c.y=t.clientY},document.onmouseup=function(t){2.5,c.x=t.clientX,c.y=t.clientY},window.onmouseout=function(){c.x=null,c.y=null},function(t){for(var e=0;e<t;++e)o.push(new s)}(100),function e(){n.width=window.innerWidth,n.height=window.innerHeight,i.fillStyle=t,i.fillRect(0,0,n.width,n.height);for(var a=null==c.x?o:[c].concat(o),r=0;r<a.length;++r){for(var s=r+1;s<a.length;++s)l(a[r],a[s],1);a[r].draw(),a[r].move()}window.requestAnimationFrame(e)}()}},x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"login"},[this._m(0),this._v(" "),this._m(1),this._v(" "),e("div",[e("el-button",{staticClass:"btnstyle",attrs:{id:"btn",round:""},on:{click:this.LoginHome}},[this._v("\n\t\t\t开始诗词之旅\n\t\t")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("section",[e("canvas",{attrs:{id:"canvas"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("div",{staticClass:"text"},[e("p",[this._v("基于知识图谱的诗词可视化")])])])}]};var b=a("VU/8")(_,x,!1,function(t){a("8e3o")},null,null).exports,k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"homepage"},[a("el-container",[a("el-header",[a("h2",{staticClass:"homepagetitle"},[t._v("基于知识图谱的诗词可视化")]),t._v(" "),a("el-menu",{staticClass:"el-menu-demo mymenu",attrs:{"default-active":this.$route.path,router:"",mode:"horizontal"}},[a("el-submenu",{attrs:{index:"/primary1"}},[a("template",{slot:"title"},[t._v("课内阅读")]),t._v(" "),a("el-menu-item",{attrs:{index:"/primary1"}},[t._v("小学")]),t._v(" "),a("el-menu-item",{attrs:{index:"/junior1"}},[t._v("初中")]),t._v(" "),a("el-menu-item",{attrs:{index:"/high1"}},[t._v("高中")])],2),t._v(" "),a("el-submenu",{attrs:{index:"/chunjie"}},[a("template",{slot:"title"},[t._v("课外阅读")]),t._v(" "),a("el-menu-item",{attrs:{index:"/chunjie"}},[t._v("节日")]),t._v(" "),a("el-menu-item",{attrs:{index:"/chuntian"}},[t._v("季节")]),t._v(" "),a("el-menu-item",{attrs:{index:"/changjiang"}},[t._v("景物")]),t._v(" "),a("el-menu-item",{attrs:{index:"/aiguo"}},[t._v("情感")]),t._v(" "),a("el-menu-item",{attrs:{index:"/haofang"}},[t._v("风格")]),t._v(" "),a("el-menu-item",{attrs:{index:"/laoshi"}},[t._v("人物")]),t._v(" "),a("el-menu-item",{attrs:{index:"/zhanzheng"}},[t._v("其他")])],2),t._v(" "),a("el-menu-item",{attrs:{index:"/gaokao"}},[t._v("高考必背")]),t._v(" "),a("el-menu-item",{attrs:{index:"/tang"}},[t._v("诗人信息")]),t._v(" "),a("el-submenu",{attrs:{index:"/tangmap"}},[a("template",{slot:"title"},[t._v("籍贯地图")]),t._v(" "),a("el-menu-item",{attrs:{index:"/tangmap"}},[t._v("唐代")]),t._v(" "),a("el-menu-item",{attrs:{index:"/songmap"}},[t._v("宋代")])],2),t._v(" "),a("el-menu-item",{attrs:{index:"/"},on:{click:t.toLogin}},[t._v("回到首页")])],1)],1),t._v(" "),a("el-main",[a("router-view")],1)],1)],1)},staticRenderFns:[]};var C=a("VU/8")({data:function(){return{}},methods:{handleSelect:function(){this.$router.push()},toLogin:function(){}}},k,!1,function(t){a("5WKv")},"data-v-0ceb8ddc",null).exports,w={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},formatTooltip:function(t){this.directionvalue=this.value/50,console.log(this.directionvalue)},toPrimary1:function(){this.$router.push("./primary1")},toPrimary2:function(){this.$router.push("./primary2")},toPrimary3:function(){this.$router.push("./primary3")},toPrimary4:function(){this.$router.push("./primary4")},toPrimary5:function(){this.$router.push("./primary5")},toPrimary6:function(){this.$router.push("./primary6")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1500).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kenei/xiaoxue/一年级.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kenei/xiaoxue/一年级.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:10,name:"唐代"},{value:3,name:"宋代"},{value:1,name:"明代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn active",attrs:{round:"",type:"mini"},on:{click:t.toPrimary1}},[t._v("一年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary2}},[t._v("二年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary3}},[t._v("三年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary4}},[t._v("四年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary5}},[t._v("五年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary6}},[t._v("六年级")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("一年级")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李白")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("唐代")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("静夜思")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("赠汪伦")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("白居易")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("宋代")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春晓")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("孟浩然")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("杨万里")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("小池")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("悯农二首·其二")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("古朗月行（节选）")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("骆宾王")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var z=a("VU/8")(w,E,!1,function(t){a("twaZ")},"data-v-3ddf3444",null).exports,T={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},formatTooltip:function(t){this.directionvalue=this.value/50,console.log(this.directionvalue)},toPrimary1:function(){this.$router.push("./primary1")},toPrimary2:function(){this.$router.push("./primary2")},toPrimary3:function(){this.$router.push("./primary3")},toPrimary4:function(){this.$router.push("./primary4")},toPrimary5:function(){this.$router.push("./primary5")},toPrimary6:function(){this.$router.push("./primary6")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1500).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kenei/xiaoxue/二年级.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kenei/xiaoxue/二年级.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:8,name:"唐代"},{value:2,name:"宋代"},{value:1,name:"南北朝"},{value:2,name:"清代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},M={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn active",attrs:{round:"",type:"mini"},on:{click:t.toPrimary1}},[t._v("一年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary2}},[t._v("二年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary3}},[t._v("三年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary4}},[t._v("四年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary5}},[t._v("五年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary6}},[t._v("六年级")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("二年级")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李白")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王安石")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("小儿垂钓")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("绝句")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("杜甫")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("宋代")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("望庐山瀑布")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("柳宗元")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("江雪")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王安石")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("梅花")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("小儿垂钓")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("胡令能")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var j=a("VU/8")(T,M,!1,function(t){a("/e+j")},"data-v-c5d9e5c0",null).exports,$={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},formatTooltip:function(t){this.directionvalue=this.value/50,console.log(this.directionvalue)},toPrimary1:function(){this.$router.push("./primary1")},toPrimary2:function(){this.$router.push("./primary2")},toPrimary3:function(){this.$router.push("./primary3")},toPrimary4:function(){this.$router.push("./primary4")},toPrimary5:function(){this.$router.push("./primary5")},toPrimary6:function(){this.$router.push("./primary6")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1500).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kenei/xiaoxue/三年级.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kenei/xiaoxue/三年级.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:10,name:"唐代"},{value:8,name:"宋代"},{value:1,name:"清代"},{value:2,name:"先秦"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn active",attrs:{round:"",type:"mini"},on:{click:t.toPrimary1}},[t._v("一年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary2}},[t._v("二年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary3}},[t._v("三年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary4}},[t._v("四年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary5}},[t._v("五年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary6}},[t._v("六年级")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("三年级")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李白")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("唐代")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("宋代")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("韩非")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("白居易")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("宋代")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("忆江南")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("九月九日忆山东兄弟")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("采莲曲")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("早发白帝城")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王昌龄")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("杜甫")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("绝句")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var A=a("VU/8")($,I,!1,function(t){a("3yuQ")},"data-v-359becb0",null).exports,R={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},formatTooltip:function(t){this.directionvalue=this.value/50,console.log(this.directionvalue)},toPrimary1:function(){this.$router.push("./primary1")},toPrimary2:function(){this.$router.push("./primary2")},toPrimary3:function(){this.$router.push("./primary3")},toPrimary4:function(){this.$router.push("./primary4")},toPrimary5:function(){this.$router.push("./primary5")},toPrimary6:function(){this.$router.push("./primary6")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1500).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kenei/xiaoxue/四年级.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kenei/xiaoxue/四年级.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:12,name:"唐代"},{value:10,name:"宋代"},{value:2,name:"先秦"},{value:1,name:"元代"},{value:1,name:"近现代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},L={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn active",attrs:{round:"",type:"mini"},on:{click:t.toPrimary1}},[t._v("一年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary2}},[t._v("二年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary3}},[t._v("三年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary4}},[t._v("四年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary5}},[t._v("五年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary6}},[t._v("六年级")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("四年级")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李白")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("唐代")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王昌龄")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李清照")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("墨梅")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("宋代")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王冕")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王翰")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("凉州词")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("辛弃疾")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("清平乐.村居")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("夏日绝句")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("塞下曲")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var S=a("VU/8")(R,L,!1,function(t){a("C4Ne")},"data-v-b94e620a",null).exports,O={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},formatTooltip:function(t){this.directionvalue=this.value/50,console.log(this.directionvalue)},toPrimary1:function(){this.$router.push("./primary1")},toPrimary2:function(){this.$router.push("./primary2")},toPrimary3:function(){this.$router.push("./primary3")},toPrimary4:function(){this.$router.push("./primary4")},toPrimary5:function(){this.$router.push("./primary5")},toPrimary6:function(){this.$router.push("./primary6")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1500).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kenei/xiaoxue/五年级.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kenei/xiaoxue/五年级.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:11,name:"唐代"},{value:8,name:"宋代"},{value:2,name:"近现代"},{value:2,name:"清代"},{value:2,name:"先秦"},{value:2,name:"南北朝"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},B={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn active",attrs:{round:"",type:"mini"},on:{click:t.toPrimary1}},[t._v("一年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary2}},[t._v("二年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary3}},[t._v("三年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary4}},[t._v("四年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary5}},[t._v("五年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary6}},[t._v("六年级")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("五年级")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("唐代")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("孟郊")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("游子吟")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("纳兰性德")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("长相思")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("朱熹")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("观书有感")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王昌龄")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("从军行七首")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王之涣")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("凉州词")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("清代")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("宋代")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var X=a("VU/8")(O,B,!1,function(t){a("ILj3")},"data-v-0efefddb",null).exports,P={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},formatTooltip:function(t){this.directionvalue=this.value/50,console.log(this.directionvalue)},toPrimary1:function(){this.$router.push("./primary1")},toPrimary2:function(){this.$router.push("./primary2")},toPrimary3:function(){this.$router.push("./primary3")},toPrimary4:function(){this.$router.push("./primary4")},toPrimary5:function(){this.$router.push("./primary5")},toPrimary6:function(){this.$router.push("./primary6")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1500).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kenei/xiaoxue/六年级.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kenei/xiaoxue/六年级.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:10,name:"唐代"},{value:12,name:"宋代"},{value:2,name:"近现代"},{value:7,name:"先秦"},{value:2,name:"两汉"},{value:1,name:"明代"},{value:1,name:"清代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},q={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn active",attrs:{round:"",type:"mini"},on:{click:t.toPrimary1}},[t._v("一年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary2}},[t._v("二年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary3}},[t._v("三年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary4}},[t._v("四年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary5}},[t._v("五年级")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toPrimary6}},[t._v("六年级")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("六年级")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("于谦")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("石灰吟")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("孟浩然")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("过故人庄")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("长歌行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("杜牧")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("江南春")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("杜甫")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春夜喜雨")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("刘禹锡")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("浪淘沙")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("七律.长征")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("先秦")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Y=a("VU/8")(P,q,!1,function(t){a("eHgL")},"data-v-173306b9",null).exports,U={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toJonior1:function(){this.$router.push("./junior1")},toJonior2:function(){this.$router.push("./junior2")},toJonior3:function(){this.$router.push("./junior3")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1500).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kenei/chuzhong/初一.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kenei/chuzhong/初一.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:18,name:"唐代"},{value:1,name:"元代"},{value:5,name:"南北朝"},{value:6,name:"先秦"},{value:2,name:"两汉"},{value:6,name:"清代"},{value:11,name:"宋代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Z={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn active",attrs:{round:"",type:"mini"},on:{click:t.toJonior1}},[t._v("初一")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toJonior2}},[t._v("初二")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toJonior3}},[t._v("初三")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("初一")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("木兰诗")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("杜甫")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("望岳")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("刘禹锡")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("陋室铭")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("龚自珍")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("乙亥杂诗")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("陆游")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("乙亥杂诗")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("周敦颐")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("爱莲说")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李商隐")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("夜雨寄北")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var D=a("VU/8")(U,Z,!1,function(t){a("Q8pm")},"data-v-06063880",null).exports,G={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toJonior1:function(){this.$router.push("./junior1")},toJonior2:function(){this.$router.push("./junior2")},toJonior3:function(){this.$router.push("./junior3")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1500).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kenei/chuzhong/初二.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kenei/chuzhong/初二.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:19,name:"唐代"},{value:9,name:"宋代"},{value:5,name:"南北朝"},{value:16,name:"先秦"},{value:9,name:"两汉"},{value:4,name:"魏晋"},{value:2,name:"明代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},N={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn active",attrs:{round:"",type:"mini"},on:{click:t.toJonior1}},[t._v("初一")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toJonior2}},[t._v("初二")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toJonior3}},[t._v("初三")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("初二")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("陶渊明")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("饮酒")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("桃花源记")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("庄周")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("北冥有鱼")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("白居易")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("钱塘湖春行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("韩愈")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("马说")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("崔颢")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("黄鹤楼")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李白")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("送友人")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var W=a("VU/8")(G,N,!1,function(t){a("2AHa")},"data-v-e198671a",null).exports,H={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toJonior1:function(){this.$router.push("./junior1")},toJonior2:function(){this.$router.push("./junior2")},toJonior3:function(){this.$router.push("./junior3")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1500).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kenei/chuzhong/初三.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kenei/chuzhong/初三.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:9,name:"唐代"},{value:16,name:"宋代"},{value:6,name:"明代"},{value:4,name:"先秦"},{value:9,name:"两汉"},{value:1,name:"近现代"},{value:2,name:"元代"},{value:1,name:"清代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn active",attrs:{round:"",type:"mini"},on:{click:t.toJonior1}},[t._v("初一")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toJonior2}},[t._v("初二")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toJonior3}},[t._v("初三")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("初三")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("范仲淹")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("岳阳楼记")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("文天祥")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("过零丁洋")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("辛弃疾")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("破阵子")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("欧阳修")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("醉翁亭记")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("诸葛亮")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("出师表")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("纳兰性德")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("浣溪沙")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("鱼我所欲也")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var V=a("VU/8")(H,F,!1,function(t){a("0qD6")},"data-v-08dfdf5f",null).exports,J={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toHigh1:function(){this.$router.push("./high1")},toHigh2:function(){this.$router.push("./high2")},toHigh3:function(){this.$router.push("./high3")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1500).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kenei/gaozhong/必修一.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kenei/gaozhong/必修一.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:14,name:"先秦"},{value:13,name:"宋代"},{value:4,name:"两汉"},{value:1,name:"魏晋"},{value:10,name:"唐代"},{value:6,name:"清代"},{value:1,name:"五代"},{value:2,name:"元代"},{value:1,name:"明代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},K={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn active",attrs:{round:"",type:"mini"},on:{click:t.toHigh1}},[t._v("必修")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toHigh2}},[t._v("选修")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toHigh3}},[t._v("中国古代诗歌散文赏析（选修）")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("必修")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("司马迁")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("鸿门宴")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("杜甫")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("登高")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("陶渊明")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("归园田居")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("荀子")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("劝学")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("苏轼")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("赤壁赋")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("韩愈")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("师说")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("登岳阳楼")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Q=a("VU/8")(J,K,!1,function(t){a("CmZB")},"data-v-7c6db651",null).exports,tt={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toHigh1:function(){this.$router.push("./high1")},toHigh2:function(){this.$router.push("./high2")},toHigh3:function(){this.$router.push("./high3")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1500).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kenei/gaozhong/必修二.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kenei/gaozhong/必修二.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:7,name:"先秦"},{value:9,name:"唐代"},{value:8,name:"宋代"},{value:7,name:"两汉"},{value:1,name:"南北朝"},{value:6,name:"魏晋"},{value:2,name:"明代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},et={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn active",attrs:{round:"",type:"mini"},on:{click:t.toHigh1}},[t._v("必修")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toHigh2}},[t._v("选修")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toHigh3}},[t._v("中国古代诗歌散文赏析（选修）")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("选修")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李白")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("将进酒")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("蜀道难")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("屈原")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("离骚")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("陈情表")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("礼记")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("苏武传")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王羲之")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("兰亭集序")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李商隐")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("锦瑟")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春江花月夜")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var at=a("VU/8")(tt,et,!1,function(t){a("WyeB")},"data-v-732bb092",null).exports,nt={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toHigh1:function(){this.$router.push("./high1")},toHigh2:function(){this.$router.push("./high2")},toHigh3:function(){this.$router.push("./high3")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1500).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kenei/gaozhong/选修.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kenei/gaozhong/选修.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:2,name:"先秦"},{value:1,name:"南北朝"},{value:2,name:"魏晋"},{value:13,name:"唐代"},{value:9,name:"宋代"},{value:5,name:"清代"},{value:1,name:"元代"},{value:2,name:"两汉"},{value:4,name:"明代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},it={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn active",attrs:{round:"",type:"mini"},on:{click:t.toHigh1}},[t._v("必修")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toHigh2}},[t._v("选修")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toHigh3}},[t._v("中国古代诗歌散文赏析（选修）")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("中国古代诗歌散文赏析（选修）")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("苏轼")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("游兰溪")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("杜甫")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("登岳阳楼")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("旅夜书怀")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("鲍照")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("拟行路难")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("狱中杂记")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("屈原")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("湘夫人")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("司马迁")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("项羽之死")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李清照")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var rt=a("VU/8")(nt,it,!1,function(t){a("tWZF")},"data-v-711b8db2",null).exports,st={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toaiguo:function(){this.$router.push("./aiguo")},toaiqing:function(){this.$router.push("./aiqing")},todaowang:function(){this.$router.push("./daowang")},tolibie:function(){this.$router.push("./libie")},tolizhi:function(){this.$router.push("./lizhi")},tosinian:function(){this.$router.push("./sinian")},tosixiang:function(){this.$router.push("./sixiang")},tosongbie:function(){this.$router.push("./songbie")},toyouguoyoumin:function(){this.$router.push("./youguoyoumin")},toyouqing:function(){this.$router.push("./youqing")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/qinggan/爱国.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/qinggan/爱国.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:49,name:"唐代"},{value:167,name:"宋代"},{value:10,name:"先秦"},{value:1,name:"两汉"},{value:17,name:"清代"},{value:8,name:"近现代"},{value:14,name:"明代"},{value:3,name:"五代"},{value:5,name:"南北朝"},{value:3,name:"元代"},{value:1,name:"金朝"},{value:1,name:"魏晋"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},ot={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toaiguo}},[t._v("爱国")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toaiqing}},[t._v("爱情")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todaowang}},[t._v("悼亡")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolibie}},[t._v("离别")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolizhi}},[t._v("励志")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosinian}},[t._v("思念")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosixiang}},[t._v("思乡")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosongbie}},[t._v("送别")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyouguoyoumin}},[t._v("忧国忧民")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyouqing}},[t._v("友情")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("爱国")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}}),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("唐")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("静夜思")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("赠汪伦")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("白居易")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("宋代")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春晓")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("孟浩然")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("杨万里")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("小池")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("悯农二首·其二")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("古朗月行（节选）")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("骆宾王")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var ct=a("VU/8")(st,ot,!1,function(t){a("GBW3")},"data-v-3b3898b4",null).exports,lt={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toaiguo:function(){this.$router.push("./aiguo")},toaiqing:function(){this.$router.push("./aiqing")},todaowang:function(){this.$router.push("./daowang")},tolibie:function(){this.$router.push("./libie")},tolizhi:function(){this.$router.push("./lizhi")},tosinian:function(){this.$router.push("./sinian")},tosixiang:function(){this.$router.push("./sixiang")},tosongbie:function(){this.$router.push("./songbie")},toyouguoyoumin:function(){this.$router.push("./youguoyoumin")},toyouqing:function(){this.$router.push("./youqing")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-500).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/qinggan/爱情.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/qinggan/爱情.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:28,name:"先秦"},{value:103,name:"宋代"},{value:92,name:"唐代"},{value:12,name:"两汉"},{value:30,name:"清代"},{value:2,name:"金朝"},{value:18,name:"元代"},{value:11,name:"南北朝"},{value:24,name:"五代"},{value:3,name:"魏晋"},{value:3,name:"明代"},{value:1,name:"隋代"},{value:4,name:"近现代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},ut={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toaiguo}},[t._v("爱国")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toaiqing}},[t._v("爱情")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todaowang}},[t._v("悼亡")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolibie}},[t._v("离别")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolizhi}},[t._v("励志")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosinian}},[t._v("思念")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosixiang}},[t._v("思乡")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosongbie}},[t._v("送别")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyouguoyoumin}},[t._v("忧国忧民")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyouqing}},[t._v("友情")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("爱情")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("拔蒲二首")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("作蚕丝")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("登二妃庙")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春日行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("四愁诗")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("有所思")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("赠妇诗三首")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("白头吟")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("诀别书")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("定情诗")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("湖州竹枝词")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("七夕")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("采莲曲")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var dt=a("VU/8")(lt,ut,!1,function(t){a("aNMM")},"data-v-96b6aea4",null).exports,ht={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toaiguo:function(){this.$router.push("./aiguo")},toaiqing:function(){this.$router.push("./aiqing")},todaowang:function(){this.$router.push("./daowang")},tolibie:function(){this.$router.push("./libie")},tolizhi:function(){this.$router.push("./lizhi")},tosinian:function(){this.$router.push("./sinian")},tosixiang:function(){this.$router.push("./sixiang")},tosongbie:function(){this.$router.push("./songbie")},toyouguoyoumin:function(){this.$router.push("./youguoyoumin")},toyouqing:function(){this.$router.push("./youqing")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-700).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/qinggan/悼亡.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/qinggan/悼亡.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:10,name:"唐代"},{value:16,name:"清代"},{value:5,name:"先秦"},{value:22,name:"宋代"},{value:3,name:"魏晋"},{value:3,name:"近现代"},{value:1,name:"元代"},{value:2,name:"两汉"},{value:1,name:"南北朝"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},ft={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toaiguo}},[t._v("爱国")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toaiqing}},[t._v("爱情")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todaowang}},[t._v("悼亡")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolibie}},[t._v("离别")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolizhi}},[t._v("励志")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosinian}},[t._v("思念")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosixiang}},[t._v("思乡")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosongbie}},[t._v("送别")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyouguoyoumin}},[t._v("忧国忧民")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyouqing}},[t._v("友情")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("悼亡")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("楚宫")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李商隐")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("别房太尉墓")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("霜叶飞·重九")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("书琵琶背")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("思旧赋")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("悼室人")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("九歌·国殇")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("祭十二郎文")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("韩愈")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("悼室人")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("绿衣")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("屈原")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var pt=a("VU/8")(ht,ft,!1,function(t){a("Z1wC")},"data-v-a4dc6730",null).exports,vt={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toaiguo:function(){this.$router.push("./aiguo")},toaiqing:function(){this.$router.push("./aiqing")},todaowang:function(){this.$router.push("./daowang")},tolibie:function(){this.$router.push("./libie")},tolizhi:function(){this.$router.push("./lizhi")},tosinian:function(){this.$router.push("./sinian")},tosixiang:function(){this.$router.push("./sixiang")},tosongbie:function(){this.$router.push("./songbie")},toyouguoyoumin:function(){this.$router.push("./youguoyoumin")},toyouqing:function(){this.$router.push("./youqing")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-500).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/qinggan/离别.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/qinggan/离别.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:103,name:"唐代"},{value:2,name:"魏晋"},{value:5,name:"两汉"},{value:154,name:"宋代"},{value:4,name:"近现代"},{value:5,name:"明代"},{value:16,name:"南北朝"},{value:16,name:"清代"},{value:4,name:"先秦"},{value:8,name:"五代"},{value:11,name:"元代"},{value:2,name:"金朝"},{value:1,name:"隋代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},yt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toaiguo}},[t._v("爱国")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toaiqing}},[t._v("爱情")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todaowang}},[t._v("悼亡")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolibie}},[t._v("离别")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolizhi}},[t._v("励志")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosinian}},[t._v("思念")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosixiang}},[t._v("思乡")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosongbie}},[t._v("送别")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyouguoyoumin}},[t._v("忧国忧民")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyouqing}},[t._v("友情")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("离别")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("今别离")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("七夕二首")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("兰亭集序 ")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("客从远方来")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("留别妻")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("河传·棹举")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("凭栏人·闺怨")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("石城乐")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("舟中望月")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("卜算子·答施")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("示长安君")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("别宋常侍")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("别云间")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var mt=a("VU/8")(vt,yt,!1,function(t){a("mFds")},"data-v-2ab2ee58",null).exports,gt={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toaiguo:function(){this.$router.push("./aiguo")},toaiqing:function(){this.$router.push("./aiqing")},todaowang:function(){this.$router.push("./daowang")},tolibie:function(){this.$router.push("./libie")},tolizhi:function(){this.$router.push("./lizhi")},tosinian:function(){this.$router.push("./sinian")},tosixiang:function(){this.$router.push("./sixiang")},tosongbie:function(){this.$router.push("./songbie")},toyouguoyoumin:function(){this.$router.push("./youguoyoumin")},toyouqing:function(){this.$router.push("./youqing")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/qinggan/励志.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/qinggan/励志.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:29,name:"唐代"},{value:15,name:"宋代"},{value:2,name:"两汉"},{value:5,name:"先秦"},{value:7,name:"清代"},{value:3,name:"明代"},{value:2,name:"近现代"},{value:2,name:"魏晋"},{value:1,name:"南北朝"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},_t={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toaiguo}},[t._v("爱国")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toaiqing}},[t._v("爱情")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todaowang}},[t._v("悼亡")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolibie}},[t._v("离别")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolizhi}},[t._v("励志")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosinian}},[t._v("思念")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosixiang}},[t._v("思乡")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosongbie}},[t._v("送别")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyouguoyoumin}},[t._v("忧国忧民")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyouqing}},[t._v("友情")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("励志")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("欧阳修苦读")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("铁杵成针")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("勤学")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("过零丁洋")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("满江红·写怀")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("长歌行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("出师表")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("苔")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("登鹳雀楼")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("劝学")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("行路难")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("始闻秋风")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("滕王阁序")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var xt=a("VU/8")(gt,_t,!1,function(t){a("2lgB")},"data-v-75ec8fb9",null).exports,bt={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toaiguo:function(){this.$router.push("./aiguo")},toaiqing:function(){this.$router.push("./aiqing")},todaowang:function(){this.$router.push("./daowang")},tolibie:function(){this.$router.push("./libie")},tolizhi:function(){this.$router.push("./lizhi")},tosinian:function(){this.$router.push("./sinian")},tosixiang:function(){this.$router.push("./sixiang")},tosongbie:function(){this.$router.push("./songbie")},toyouguoyoumin:function(){this.$router.push("./youguoyoumin")},toyouqing:function(){this.$router.push("./youqing")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-800).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/qinggan/思念.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/qinggan/思念.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:135,name:"唐代"},{value:171,name:"宋代"},{value:4,name:"明代"},{value:38,name:"五代"},{value:13,name:"两汉"},{value:5,name:"魏晋"},{value:22,name:"南北朝"},{value:12,name:"先秦"},{value:43,name:"清代"},{value:7,name:"近现代"},{value:19,name:"元代"},{value:2,name:"金朝"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},kt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toaiguo}},[t._v("爱国")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toaiqing}},[t._v("爱情")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todaowang}},[t._v("悼亡")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolibie}},[t._v("离别")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolizhi}},[t._v("励志")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosinian}},[t._v("思念")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosixiang}},[t._v("思乡")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosongbie}},[t._v("送别")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyouguoyoumin}},[t._v("忧国忧民")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyouqing}},[t._v("友情")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("思念")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("钓雪亭")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("寒食上冢")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("在北题壁")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("踏莎行·春暮")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("夜书所见")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("在燕京作")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("水龙吟·秋兴")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春日")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("解连环·秋情")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("将母")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("玉楼春·春恨")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("满路花·冬")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("钓雪亭")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Ct=a("VU/8")(bt,kt,!1,function(t){a("CxKR")},"data-v-b47ffbca",null).exports,wt={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toaiguo:function(){this.$router.push("./aiguo")},toaiqing:function(){this.$router.push("./aiqing")},todaowang:function(){this.$router.push("./daowang")},tolibie:function(){this.$router.push("./libie")},tolizhi:function(){this.$router.push("./lizhi")},tosinian:function(){this.$router.push("./sinian")},tosixiang:function(){this.$router.push("./sixiang")},tosongbie:function(){this.$router.push("./songbie")},toyouguoyoumin:function(){this.$router.push("./youguoyoumin")},toyouqing:function(){this.$router.push("./youqing")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-700).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/qinggan/思乡.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/qinggan/思乡.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:175,name:"唐代"},{value:100,name:"宋代"},{value:21,name:"清代"},{value:18,name:"明代"},{value:7,name:"先秦"},{value:6,name:"两汉"},{value:2,name:"五代"},{value:17,name:"南北朝"},{value:1,name:"隋代"},{value:16,name:"元代"},{value:3,name:"魏晋"},{value:1,name:"金朝"},{value:1,name:"近现代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Et={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toaiguo}},[t._v("爱国")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toaiqing}},[t._v("爱情")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todaowang}},[t._v("悼亡")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolibie}},[t._v("离别")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolizhi}},[t._v("励志")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosinian}},[t._v("思念")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosixiang}},[t._v("思乡")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosongbie}},[t._v("送别")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyouguoyoumin}},[t._v("忧国忧民")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyouqing}},[t._v("友情")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("思乡")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("桂州腊夜")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("枫桥夜泊")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("归雁")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("日暮")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("回乡偶书")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("阁夜")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("天边行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("游九龙潭")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("西江夜行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("望月有感")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("寒食江畔")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("夜雨")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("寒食野望吟")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var zt=a("VU/8")(wt,Et,!1,function(t){a("jAP6")},"data-v-5c4ae6bc",null).exports,Tt={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toaiguo:function(){this.$router.push("./aiguo")},toaiqing:function(){this.$router.push("./aiqing")},todaowang:function(){this.$router.push("./daowang")},tolibie:function(){this.$router.push("./libie")},tolizhi:function(){this.$router.push("./lizhi")},tosinian:function(){this.$router.push("./sinian")},tosixiang:function(){this.$router.push("./sixiang")},tosongbie:function(){this.$router.push("./songbie")},toyouguoyoumin:function(){this.$router.push("./youguoyoumin")},toyouqing:function(){this.$router.push("./youqing")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/qinggan/送别.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/qinggan/送别.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:231,name:"唐代"},{value:129,name:"宋代"},{value:11,name:"明代"},{value:2,name:"隋代"},{value:2,name:"先秦"},{value:10,name:"南北朝"},{value:4,name:"五代"},{value:6,name:"清代"},{value:12,name:"元代"},{value:3,name:"两汉"},{value:1,name:"魏晋"},{value:1,name:"近现代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Mt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toaiguo}},[t._v("爱国")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toaiqing}},[t._v("爱情")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todaowang}},[t._v("悼亡")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolibie}},[t._v("离别")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolizhi}},[t._v("励志")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosinian}},[t._v("思念")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosixiang}},[t._v("思乡")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosongbie}},[t._v("送别")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyouguoyoumin}},[t._v("忧国忧民")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyouqing}},[t._v("友情")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("送别")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("别薛华")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("送人游塞")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("送人游塞")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("送人东游")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("冬夜送人")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("南邻")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春送僧")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("赤壁歌送别")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("送杨子")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("送卢主簿")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("送人东游")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("送友人南归")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("九日送别")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var jt=a("VU/8")(Tt,Mt,!1,function(t){a("HlAj")},"data-v-58eefe07",null).exports,$t={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toaiguo:function(){this.$router.push("./aiguo")},toaiqing:function(){this.$router.push("./aiqing")},todaowang:function(){this.$router.push("./daowang")},tolibie:function(){this.$router.push("./libie")},tolizhi:function(){this.$router.push("./lizhi")},tosinian:function(){this.$router.push("./sinian")},tosixiang:function(){this.$router.push("./sixiang")},tosongbie:function(){this.$router.push("./songbie")},toyouguoyoumin:function(){this.$router.push("./youguoyoumin")},toyouqing:function(){this.$router.push("./youqing")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/qinggan/忧国忧民.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/qinggan/忧国忧民.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:73,name:"唐代"},{value:44,name:"宋代"},{value:5,name:"明代"},{value:10,name:"先秦"},{value:5,name:"两汉"},{value:5,name:"明代"},{value:4,name:"元代"},{value:1,name:"五代"},{value:3,name:"魏晋"},{value:1,name:"南北朝"},{value:1,name:"近现代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},It={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toaiguo}},[t._v("爱国")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toaiqing}},[t._v("爱情")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todaowang}},[t._v("悼亡")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolibie}},[t._v("离别")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolizhi}},[t._v("励志")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosinian}},[t._v("思念")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosixiang}},[t._v("思乡")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosongbie}},[t._v("送别")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyouguoyoumin}},[t._v("忧国忧民")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyouqing}},[t._v("友情")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("忧国忧民")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春望")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("离骚")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("出塞")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("九歌·国殇")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("平陵东")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("秋望")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("旱云赋")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("扶风歌")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("冀州道中")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("秋兴八首")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春望")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("去蜀")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("登楼")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var At=a("VU/8")($t,It,!1,function(t){a("sYr9")},"data-v-2aa95889",null).exports,Rt={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toaiguo:function(){this.$router.push("./aiguo")},toaiqing:function(){this.$router.push("./aiqing")},todaowang:function(){this.$router.push("./daowang")},tolibie:function(){this.$router.push("./libie")},tolizhi:function(){this.$router.push("./lizhi")},tosinian:function(){this.$router.push("./sinian")},tosixiang:function(){this.$router.push("./sixiang")},tosongbie:function(){this.$router.push("./songbie")},toyouguoyoumin:function(){this.$router.push("./youguoyoumin")},toyouqing:function(){this.$router.push("./youqing")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/qinggan/友情.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/qinggan/友情.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:108,name:"唐代"},{value:51,name:"宋代"},{value:1,name:"明代"},{value:4,name:"南北朝"},{value:3,name:"清代"},{value:1,name:"魏晋"},{value:1,name:"先秦"},{value:2,name:"元代"},{value:2,name:"两汉"},{value:1,name:"金朝"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Lt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toaiguo}},[t._v("爱国")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toaiqing}},[t._v("爱情")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todaowang}},[t._v("悼亡")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolibie}},[t._v("离别")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolizhi}},[t._v("励志")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosinian}},[t._v("思念")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosixiang}},[t._v("思乡")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosongbie}},[t._v("送别")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyouguoyoumin}},[t._v("忧国忧民")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyouqing}},[t._v("友情")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("友情")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("醉留东野")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("赠友人三首")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("赠汪伦")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("送迁客")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("送别")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("送柴侍御")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("送远曲")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("夜别韦司士")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("赠友人三首")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("送友人")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("送卢主簿")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("山行留客")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("江楼月")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var St=a("VU/8")(Rt,Lt,!1,function(t){a("eZYF")},"data-v-71b7cd5a",null).exports,Ot={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toguiyuan:function(){this.$router.push("./guiyuan")},tohaofang:function(){this.$router.push("./haofang")},tohuaigu:function(){this.$router.push("./huaigu")},toshuqing:function(){this.$router.push("./shuqing")},towanyue:function(){this.$router.push("./wanyue")},toxishi:function(){this.$router.push("./xishi")},toyongwu:function(){this.$router.push("./yongwu")},tozheli:function(){this.$router.push("./zheli")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-800).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/fengge/闺怨.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/fengge/闺怨.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:55,name:"宋代"},{value:6,name:"清代"},{value:8,name:"先秦"},{value:4,name:"明代"},{value:37,name:"唐代"},{value:24,name:"五代"},{value:4,name:"两汉"},{value:10,name:"元代"},{value:1,name:"隋代"},{value:2,name:"南北朝"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Bt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toguiyuan}},[t._v("闺怨")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohaofang}},[t._v("豪放")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohuaigu}},[t._v("怀古")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshuqing}},[t._v("抒情")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.towanyue}},[t._v("婉约")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxishi}},[t._v("惜时")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyongwu}},[t._v("咏物")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozheli}},[t._v("哲理")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("闺怨")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春怨")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李白")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王维")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("早春行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李益")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("宫怨")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("江南曲")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("曹植")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("七哀")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("谢灵运")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("燕歌行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("施耐庵")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春思")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Xt=a("VU/8")(Ot,Bt,!1,function(t){a("11g4")},"data-v-2b0a378c",null).exports,Pt={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toguiyuan:function(){this.$router.push("./guiyuan")},tohaofang:function(){this.$router.push("./haofang")},tohuaigu:function(){this.$router.push("./huaigu")},toshuqing:function(){this.$router.push("./shuqing")},towanyue:function(){this.$router.push("./wanyue")},toxishi:function(){this.$router.push("./xishi")},toyongwu:function(){this.$router.push("./yongwu")},tozheli:function(){this.$router.push("./zheli")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-800).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/fengge/豪放.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/fengge/豪放.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:72,name:"宋代"},{value:10,name:"唐代"},{value:2,name:"近现代"},{value:11,name:"清代"},{value:5,name:"金朝"},{value:2,name:"明代"},{value:2,name:"元代"},{value:1,name:"隋代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},qt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toguiyuan}},[t._v("闺怨")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohaofang}},[t._v("豪放")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohuaigu}},[t._v("怀古")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshuqing}},[t._v("抒情")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.towanyue}},[t._v("婉约")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxishi}},[t._v("惜时")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyongwu}},[t._v("咏物")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozheli}},[t._v("哲理")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("豪放")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王翰")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("凉州词")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李白")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("梁园吟")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("沁园春·恨")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("夷门歌")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王维")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("一剪梅·咏柳")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("沁园春·观潮")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("陈维崧")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("醉落魄·咏鹰")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("纳兰性德")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("蝶恋花·出塞")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Yt=a("VU/8")(Pt,qt,!1,function(t){a("50BM")},"data-v-8ac70814",null).exports,Ut={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toguiyuan:function(){this.$router.push("./guiyuan")},tohaofang:function(){this.$router.push("./haofang")},tohuaigu:function(){this.$router.push("./huaigu")},toshuqing:function(){this.$router.push("./shuqing")},towanyue:function(){this.$router.push("./wanyue")},toxishi:function(){this.$router.push("./xishi")},toyongwu:function(){this.$router.push("./yongwu")},tozheli:function(){this.$router.push("./zheli")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-800).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/fengge/怀古.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/fengge/怀古.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:1,name:"先秦"},{value:8,name:"魏晋"},{value:1,name:"两汉"},{value:79,name:"唐代"},{value:14,name:"明代"},{value:10,name:"南北朝"},{value:1,name:"隋代"},{value:57,name:"宋代"},{value:1,name:"金朝"},{value:8,name:"元代"},{value:14,name:"清代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Zt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toguiyuan}},[t._v("闺怨")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohaofang}},[t._v("豪放")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohuaigu}},[t._v("怀古")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshuqing}},[t._v("抒情")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.towanyue}},[t._v("婉约")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxishi}},[t._v("惜时")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyongwu}},[t._v("咏物")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozheli}},[t._v("哲理")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("怀古")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("纳兰性德")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("蝶恋花")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("文征明")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("满江红")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王世贞")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("登太白楼")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李梦阳")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("秋望")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李商隐")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("于易水送别")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("泊秦淮")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("杜牧")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("黄鹤楼")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Dt=a("VU/8")(Ut,Zt,!1,function(t){a("LmAS")},"data-v-5f117728",null).exports,Gt={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toguiyuan:function(){this.$router.push("./guiyuan")},tohaofang:function(){this.$router.push("./haofang")},tohuaigu:function(){this.$router.push("./huaigu")},toshuqing:function(){this.$router.push("./shuqing")},towanyue:function(){this.$router.push("./wanyue")},toxishi:function(){this.$router.push("./xishi")},toyongwu:function(){this.$router.push("./yongwu")},tozheli:function(){this.$router.push("./zheli")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(180).charge(-500).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/fengge/抒情.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/fengge/抒情.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:344,name:"宋代"},{value:35,name:"近现代"},{value:371,name:"唐代"},{value:20,name:"两汉"},{value:88,name:"清代"},{value:24,name:"五代"},{value:17,name:"魏晋"},{value:7,name:"金朝"},{value:12,name:"先秦"},{value:18,name:"明代"},{value:17,name:"南北朝"},{value:44,name:"元代"},{value:1,name:"隋代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Nt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toguiyuan}},[t._v("闺怨")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohaofang}},[t._v("豪放")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohuaigu}},[t._v("怀古")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshuqing}},[t._v("抒情")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.towanyue}},[t._v("婉约")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxishi}},[t._v("惜时")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyongwu}},[t._v("咏物")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozheli}},[t._v("哲理")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("抒情")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("欧阳修")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("醉翁亭记")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("翁卷")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("山雨")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春日偶成")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("程颢")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春游")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王令")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李清照")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("偶成")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春残")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("朱熹")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("秋月")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Wt=a("VU/8")(Gt,Nt,!1,function(t){a("NmnT")},"data-v-1922bbf2",null).exports,Ht={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toguiyuan:function(){this.$router.push("./guiyuan")},tohaofang:function(){this.$router.push("./haofang")},tohuaigu:function(){this.$router.push("./huaigu")},toshuqing:function(){this.$router.push("./shuqing")},towanyue:function(){this.$router.push("./wanyue")},toxishi:function(){this.$router.push("./xishi")},toyongwu:function(){this.$router.push("./yongwu")},tozheli:function(){this.$router.push("./zheli")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-800).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/fengge/婉约.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/fengge/婉约.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:274,name:"宋代"},{value:35,name:"唐代"},{value:34,name:"五代"},{value:86,name:"清代"},{value:24,name:"明代"},{value:13,name:"元代"},{value:11,name:"近现代"},{value:4,name:"金朝"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Ft={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toguiyuan}},[t._v("闺怨")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohaofang}},[t._v("豪放")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohuaigu}},[t._v("怀古")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshuqing}},[t._v("抒情")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.towanyue}},[t._v("婉约")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxishi}},[t._v("惜时")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyongwu}},[t._v("咏物")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozheli}},[t._v("哲理")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("婉约")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("玉漏迟·咏怀")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("元好问")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("如意娘")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("已凉")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("温庭筠")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("梦江南·千万恨")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("白居易")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("长相思·汴水流")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("张大烈")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("阮郎归·立夏")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("叶小鸾")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("浣溪沙·初夏")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("清平乐·咏雨")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Vt=a("VU/8")(Ht,Ft,!1,function(t){a("//4g")},"data-v-1c52736f",null).exports,Jt={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toguiyuan:function(){this.$router.push("./guiyuan")},tohaofang:function(){this.$router.push("./haofang")},tohuaigu:function(){this.$router.push("./huaigu")},toshuqing:function(){this.$router.push("./shuqing")},towanyue:function(){this.$router.push("./wanyue")},toxishi:function(){this.$router.push("./xishi")},toyongwu:function(){this.$router.push("./yongwu")},tozheli:function(){this.$router.push("./zheli")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-800).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/fengge/惜时.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/fengge/惜时.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:2,name:"两汉"},{value:7,name:"宋代"},{value:9,name:"唐代"},{value:2,name:"魏晋"},{value:2,name:"明代"},{value:2,name:"南北朝"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Kt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toguiyuan}},[t._v("闺怨")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohaofang}},[t._v("豪放")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohuaigu}},[t._v("怀古")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshuqing}},[t._v("抒情")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.towanyue}},[t._v("婉约")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxishi}},[t._v("惜时")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyongwu}},[t._v("咏物")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozheli}},[t._v("哲理")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("惜时")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("长歌行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("汉乐府")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("颜真卿")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("劝学")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("苏轼")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("守岁")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春晓")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("钱福")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("明日歌")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("短歌行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王建")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("杜秋娘")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("金缕衣")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Qt=a("VU/8")(Jt,Kt,!1,function(t){a("dWFH")},"data-v-7cbed42a",null).exports,te={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toguiyuan:function(){this.$router.push("./guiyuan")},tohaofang:function(){this.$router.push("./haofang")},tohuaigu:function(){this.$router.push("./huaigu")},toshuqing:function(){this.$router.push("./shuqing")},towanyue:function(){this.$router.push("./wanyue")},toxishi:function(){this.$router.push("./xishi")},toyongwu:function(){this.$router.push("./yongwu")},tozheli:function(){this.$router.push("./zheli")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-800).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/fengge/咏物.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/fengge/咏物.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:9,name:"近现代"},{value:270,name:"宋代"},{value:219,name:"唐代"},{value:65,name:"清代"},{value:21,name:"元代"},{value:28,name:"明代"},{value:25,name:"南北朝"},{value:14,name:"两汉"},{value:4,name:"金朝"},{value:8,name:"先秦"},{value:2,name:"隋代"},{value:5,name:"魏晋"},{value:2,name:"五代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},ee={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toguiyuan}},[t._v("闺怨")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohaofang}},[t._v("豪放")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohuaigu}},[t._v("怀古")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshuqing}},[t._v("抒情")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.towanyue}},[t._v("婉约")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxishi}},[t._v("惜时")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyongwu}},[t._v("咏物")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozheli}},[t._v("哲理")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("咏物")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王冕")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("梅花")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("墨梅")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("秋莲")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("刘因")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("观梅有感")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("于谦")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("石灰吟")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("一剪梅·咏柳")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("陆容")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("咏竹五首")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("卜算子·咏梅")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("青松")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var ae=a("VU/8")(te,ee,!1,function(t){a("GcXi")},"data-v-872e72c0",null).exports,ne={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toguiyuan:function(){this.$router.push("./guiyuan")},tohaofang:function(){this.$router.push("./haofang")},tohuaigu:function(){this.$router.push("./huaigu")},toshuqing:function(){this.$router.push("./shuqing")},towanyue:function(){this.$router.push("./wanyue")},toxishi:function(){this.$router.push("./xishi")},toyongwu:function(){this.$router.push("./yongwu")},tozheli:function(){this.$router.push("./zheli")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-800).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/fengge/哲理.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/fengge/哲理.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:2,name:"近现代"},{value:55,name:"唐代"},{value:54,name:"宋代"},{value:5,name:"魏晋"},{value:56,name:"先秦"},{value:24,name:"两汉"},{value:17,name:"明代"},{value:7,name:"南北朝"},{value:16,name:"清代"},{value:1,name:"元代"},{value:2,name:"五代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},ie={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toguiyuan}},[t._v("闺怨")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohaofang}},[t._v("豪放")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohuaigu}},[t._v("怀古")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshuqing}},[t._v("抒情")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.towanyue}},[t._v("婉约")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxishi}},[t._v("惜时")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyongwu}},[t._v("咏物")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozheli}},[t._v("哲理")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("哲理")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("苏麟")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("断句")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("秋日偶成")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("登飞来峰")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春宵")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("掩耳盗铃")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("墨子")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("兼爱")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("庄周")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("庖丁解牛")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("曹刿论战")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("两小儿辩日")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("观德亭记")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var re=a("VU/8")(ne,ie,!1,function(t){a("xY3M")},"data-v-58c35488",null).exports,se={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochuntian:function(){this.$router.push("./chuntian")},toxiatian:function(){this.$router.push("./xiatian")},toqiutian:function(){this.$router.push("./qiutian")},todongtian:function(){this.$router.push("./dongtian")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-500).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jijie/春天.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jijie/春天.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:25,name:"唐代"},{value:43,name:"宋代"},{value:3,name:"明代"},{value:6,name:"元代"},{value:4,name:"清代"},{value:2,name:"魏晋"},{value:1,name:"南北朝"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},oe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochuntian}},[t._v("春天")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxiatian}},[t._v("夏天")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqiutian}},[t._v("秋天")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todongtian}},[t._v("冬天")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("春天")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春夜喜雨")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("江南春")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春江花月夜")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李白")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王昌龄")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("闺怨")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春晓")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春雨")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春生")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春题湖上")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("和乐天春词")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("落花落")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春日寄怀")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var ce=a("VU/8")(se,oe,!1,function(t){a("ghW0")},"data-v-79fc1764",null).exports,le={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochuntian:function(){this.$router.push("./chuntian")},toxiatian:function(){this.$router.push("./xiatian")},toqiutian:function(){this.$router.push("./qiutian")},todongtian:function(){this.$router.push("./dongtian")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-800).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jijie/夏天.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jijie/夏天.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:25,name:"唐代"},{value:43,name:"宋代"},{value:6,name:"元代"},{value:4,name:"清代"},{value:2,name:"魏晋"},{value:3,name:"明代"},{value:1,name:"南北朝"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},ue={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochuntian}},[t._v("春天")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxiatian}},[t._v("夏天")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqiutian}},[t._v("秋天")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todongtian}},[t._v("冬天")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("夏天")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("初夏游张园")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("夏日")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("初夏江村")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("谢灵运")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("夏夜")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李商隐")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("乐游原")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("暑旱苦热")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("北塘避暑")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("喜晴")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("幽居初夏")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("村居初夏")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("客中初夏")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var de=a("VU/8")(le,ue,!1,function(t){a("C4xO")},"data-v-7ce4502d",null).exports,he={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochuntian:function(){this.$router.push("./chuntian")},toxiatian:function(){this.$router.push("./xiatian")},toqiutian:function(){this.$router.push("./qiutian")},todongtian:function(){this.$router.push("./dongtian")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-500).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jijie/秋天.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jijie/秋天.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:130,name:"唐代"},{value:20,name:"元代"},{value:125,name:"宋代"},{value:13,name:"五代"},{value:6,name:"魏晋"},{value:3,name:"两汉"},{value:22,name:"清代"},{value:4,name:"南北朝"},{value:4,name:"隋代"},{value:11,name:"明代"},{value:2,name:"金朝"},{value:6,name:"近现代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},fe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochuntian}},[t._v("春天")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxiatian}},[t._v("夏天")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqiutian}},[t._v("秋天")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todongtian}},[t._v("冬天")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("秋天")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("白居易")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("秋雨夜眠")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("雨后秋凉")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("微雨夜行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("枫桥夜泊")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("在军登城楼")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("古怨别")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("齐安郡晚秋")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("早秋客舍")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("早秋山中作")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("南山田中行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("落叶")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("秋晚登古城")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var pe=a("VU/8")(he,fe,!1,function(t){a("jwMz")},"data-v-00006ef5",null).exports,ve={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochuntian:function(){this.$router.push("./chuntian")},toxiatian:function(){this.$router.push("./xiatian")},toqiutian:function(){this.$router.push("./qiutian")},todongtian:function(){this.$router.push("./dongtian")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-800).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jijie/冬天.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jijie/冬天.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:38,name:"唐代"},{value:13,name:"宋代"},{value:3,name:"南北朝"},{value:6,name:"元代"},{value:4,name:"清代"},{value:2,name:"近现代"},{value:1,name:"两汉"},{value:1,name:"魏晋"},{value:1,name:"金朝"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},ye={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochuntian}},[t._v("春天")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxiatian}},[t._v("夏天")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqiutian}},[t._v("秋天")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todongtian}},[t._v("冬天")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("冬天")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("冬柳")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("雪梅")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("天净沙·冬")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("江雪")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("悲青坂")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("苦寒吟")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("洛桥晚望")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("望蓟门")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李白")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("北风行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("冬日归旧山")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("昼夜乐·冬")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("关汉卿")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var me=a("VU/8")(ve,ye,!1,function(t){a("7CAq")},"data-v-53d1cac8",null).exports,ge={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochongyang:function(){this.$router.push("./chongyang")},tochunjie:function(){this.$router.push("./chunjie")},toduanwu:function(){this.$router.push("./duanwu")},tohanshi:function(){this.$router.push("./hanshi")},toqingming:function(){this.$router.push("./qingming")},toqixi:function(){this.$router.push("./qixi")},toyuanxiao:function(){this.$router.push("./yuanxiao")},tozhongqiu:function(){this.$router.push("./zhongqiu")},tojieri:function(){this.$router.push("./jieri")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-800).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jieri/春节.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jieri/春节.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:4,name:"明代"},{value:18,name:"宋代"},{value:14,name:"唐代"},{value:2,name:"清代"},{value:2,name:"元代"},{value:1,name:"近现代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},_e={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochongyang}},[t._v("重阳")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochunjie}},[t._v("春节")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toduanwu}},[t._v("端午")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohanshi}},[t._v("寒食")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqingming}},[t._v("清明")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqixi}},[t._v("七夕")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuanxiao}},[t._v("元宵")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozhongqiu}},[t._v("中秋")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tojieri}},[t._v("其他节日")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("春节")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("高阳台·除夜")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("韩疁")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("辛弃疾")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("除夜雪")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("除夜")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("文天祥")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("守岁")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("苏轼")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("元日")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("岁夜咏怀")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("除夜作")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("拜年")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("客中除夕")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var xe=a("VU/8")(ge,_e,!1,function(t){a("SYTp")},"data-v-222f7e09",null).exports,be={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochongyang:function(){this.$router.push("./chongyang")},tochunjie:function(){this.$router.push("./chunjie")},toduanwu:function(){this.$router.push("./duanwu")},tohanshi:function(){this.$router.push("./hanshi")},toqingming:function(){this.$router.push("./qingming")},toqixi:function(){this.$router.push("./qixi")},toyuanxiao:function(){this.$router.push("./yuanxiao")},tozhongqiu:function(){this.$router.push("./zhongqiu")},tojieri:function(){this.$router.push("./jieri")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-800).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jieri/端午.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jieri/端午.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:8,name:"唐代"},{value:16,name:"宋代"},{value:1,name:"元代"},{value:2,name:"清代"},{value:2,name:"明代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},ke={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochongyang}},[t._v("重阳")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochunjie}},[t._v("春节")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toduanwu}},[t._v("端午")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohanshi}},[t._v("寒食")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqingming}},[t._v("清明")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqixi}},[t._v("七夕")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuanxiao}},[t._v("元宵")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozhongqiu}},[t._v("中秋")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tojieri}},[t._v("其他节日")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("端午")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("端午")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李隆基")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("同州端午")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("己酉端午")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("屈原塔")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("端午三首")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("贺新郎·端午")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("浣溪沙·端午")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("屈原塔")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("苏轼")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("乙卯重五诗")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("端午三首")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("午日观竞渡")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Ce=a("VU/8")(be,ke,!1,function(t){a("I8i9")},"data-v-3d4fca6c",null).exports,we={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochongyang:function(){this.$router.push("./chongyang")},tochunjie:function(){this.$router.push("./chunjie")},toduanwu:function(){this.$router.push("./duanwu")},tohanshi:function(){this.$router.push("./hanshi")},toqingming:function(){this.$router.push("./qingming")},toqixi:function(){this.$router.push("./qixi")},toyuanxiao:function(){this.$router.push("./yuanxiao")},tozhongqiu:function(){this.$router.push("./zhongqiu")},tojieri:function(){this.$router.push("./jieri")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-800).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jieri/寒食.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jieri/寒食.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:21,name:"唐代"},{value:22,name:"宋代"},{value:2,name:"清代"},{value:3,name:"元代"},{value:2,name:"明代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Ee={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochongyang}},[t._v("重阳")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochunjie}},[t._v("春节")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toduanwu}},[t._v("端午")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohanshi}},[t._v("寒食")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqingming}},[t._v("清明")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqixi}},[t._v("七夕")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuanxiao}},[t._v("元宵")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozhongqiu}},[t._v("中秋")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tojieri}},[t._v("其他节日")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("寒食")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("寒食")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("寒食日作")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("寒食书事")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("赵元镇")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("壬辰寒食")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王安石")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("寒食上冢")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("诉衷情·寒食")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("周邦彦")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("琐窗寒·寒食")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("唐多令·寒食")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("朱孟德")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李清照")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var ze=a("VU/8")(we,Ee,!1,function(t){a("Rder")},"data-v-300638ca",null).exports,Te={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochongyang:function(){this.$router.push("./chongyang")},tochunjie:function(){this.$router.push("./chunjie")},toduanwu:function(){this.$router.push("./duanwu")},tohanshi:function(){this.$router.push("./hanshi")},toqingming:function(){this.$router.push("./qingming")},toqixi:function(){this.$router.push("./qixi")},toyuanxiao:function(){this.$router.push("./yuanxiao")},tozhongqiu:function(){this.$router.push("./zhongqiu")},tojieri:function(){this.$router.push("./jieri")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-800).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jieri/节日.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jieri/节日.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:31,name:"唐代"},{value:19,name:"宋代"},{value:5,name:"明代"},{value:1,name:"近现代"},{value:2,name:"元代"},{value:3,name:"两汉"},{value:1,name:"南北朝"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Me={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochongyang}},[t._v("重阳")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochunjie}},[t._v("春节")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toduanwu}},[t._v("端午")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohanshi}},[t._v("寒食")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqingming}},[t._v("清明")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqixi}},[t._v("七夕")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuanxiao}},[t._v("元宵")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozhongqiu}},[t._v("中秋")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tojieri}},[t._v("其他节日")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("其他节日")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李白")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("唐代")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("静夜思")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("关山月")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("寒食野望吟")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("已酉端午")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("西江月")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("阳关曲")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("青玉案·元夕")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("观灯乐行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("田家元日")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("月夜忆舍弟")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("古朗月行")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var je=a("VU/8")(Te,Me,!1,function(t){a("/DWm")},"data-v-05562168",null).exports,$e={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochongyang:function(){this.$router.push("./chongyang")},tochunjie:function(){this.$router.push("./chunjie")},toduanwu:function(){this.$router.push("./duanwu")},tohanshi:function(){this.$router.push("./hanshi")},toqingming:function(){this.$router.push("./qingming")},toqixi:function(){this.$router.push("./qixi")},toyuanxiao:function(){this.$router.push("./yuanxiao")},tozhongqiu:function(){this.$router.push("./zhongqiu")},tojieri:function(){this.$router.push("./jieri")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-800).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jieri/七夕.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jieri/七夕.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:13,name:"唐代"},{value:23,name:"宋代"},{value:1,name:"两汉"},{value:4,name:"元代"},{value:5,name:"清代"},{value:1,name:"五代"},{value:1,name:"南北朝"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Ie={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochongyang}},[t._v("重阳")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochunjie}},[t._v("春节")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toduanwu}},[t._v("端午")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohanshi}},[t._v("寒食")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqingming}},[t._v("清明")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqixi}},[t._v("七夕")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuanxiao}},[t._v("元宵")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozhongqiu}},[t._v("中秋")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tojieri}},[t._v("其他节日")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("七夕")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("行香子·七夕")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("诉衷情·七夕")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("菩萨蛮·七夕")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("七夕歌")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("辛未七夕")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("七夕曲")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李贺")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("孟浩然")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("七夕穿针")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("柳恽")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("柳梢青·七夕")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("范成大")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("鹊桥仙·七夕")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Ae=a("VU/8")($e,Ie,!1,function(t){a("Wftw")},"data-v-8a17d30c",null).exports,Re={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochongyang:function(){this.$router.push("./chongyang")},tochunjie:function(){this.$router.push("./chunjie")},toduanwu:function(){this.$router.push("./duanwu")},tohanshi:function(){this.$router.push("./hanshi")},toqingming:function(){this.$router.push("./qingming")},toqixi:function(){this.$router.push("./qixi")},toyuanxiao:function(){this.$router.push("./yuanxiao")},tozhongqiu:function(){this.$router.push("./zhongqiu")},tojieri:function(){this.$router.push("./jieri")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-800).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jieri/清明.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jieri/清明.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:10,name:"唐代"},{value:16,name:"宋代"},{value:2,name:"元代"},{value:4,name:"明代"},{value:1,name:"清代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Le={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochongyang}},[t._v("重阳")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochunjie}},[t._v("春节")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toduanwu}},[t._v("端午")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohanshi}},[t._v("寒食")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqingming}},[t._v("清明")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqixi}},[t._v("七夕")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuanxiao}},[t._v("元宵")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozhongqiu}},[t._v("中秋")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tojieri}},[t._v("其他节日")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("清明")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("清明日对酒")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("清明日对酒")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("清明即事")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("长安清明")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("黄庭坚")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("范成大")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("韦庄")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("温庭筠")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("清明")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("清明日")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("清明二首")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("郊行即事")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("壬戌清明作")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Se=a("VU/8")(Re,Le,!1,function(t){a("RStm")},"data-v-b6ec3dbe",null).exports,Oe={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochongyang:function(){this.$router.push("./chongyang")},tochunjie:function(){this.$router.push("./chunjie")},toduanwu:function(){this.$router.push("./duanwu")},tohanshi:function(){this.$router.push("./hanshi")},toqingming:function(){this.$router.push("./qingming")},toqixi:function(){this.$router.push("./qixi")},toyuanxiao:function(){this.$router.push("./yuanxiao")},tozhongqiu:function(){this.$router.push("./zhongqiu")},tojieri:function(){this.$router.push("./jieri")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-800).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jieri/元宵.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jieri/元宵.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:6,name:"唐代"},{value:29,name:"宋代"},{value:1,name:"金朝"},{value:3,name:"清代"},{value:1,name:"元代"},{value:6,name:"明代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Be={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochongyang}},[t._v("重阳")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochunjie}},[t._v("春节")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toduanwu}},[t._v("端午")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohanshi}},[t._v("寒食")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqingming}},[t._v("清明")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqixi}},[t._v("七夕")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuanxiao}},[t._v("元宵")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozhongqiu}},[t._v("中秋")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tojieri}},[t._v("其他节日")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("元宵")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("正月十五夜")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("汴京元夕")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("观灯乐行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("京都元夕")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("元好问")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("元夕无月")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("上元竹枝词")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("古蟾宫·元宵")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("观灯乐行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("符曾")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("唐寅")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李梦阳")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李商隐")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Xe=a("VU/8")(Oe,Be,!1,function(t){a("VLl6")},"data-v-30352a0f",null).exports,Pe={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochongyang:function(){this.$router.push("./chongyang")},tochunjie:function(){this.$router.push("./chunjie")},toduanwu:function(){this.$router.push("./duanwu")},tohanshi:function(){this.$router.push("./hanshi")},toqingming:function(){this.$router.push("./qingming")},toqixi:function(){this.$router.push("./qixi")},toyuanxiao:function(){this.$router.push("./yuanxiao")},tozhongqiu:function(){this.$router.push("./zhongqiu")},tojieri:function(){this.$router.push("./jieri")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-800).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jieri/中秋.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jieri/中秋.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:11,name:"唐代"},{value:32,name:"宋代"},{value:6,name:"明代"},{value:1,name:"元代"},{value:3,name:"清明"},{value:1,name:"近现代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},qe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochongyang}},[t._v("重阳")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochunjie}},[t._v("春节")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toduanwu}},[t._v("端午")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohanshi}},[t._v("寒食")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqingming}},[t._v("清明")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqixi}},[t._v("七夕")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuanxiao}},[t._v("元宵")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozhongqiu}},[t._v("中秋")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tojieri}},[t._v("其他节日")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("中秋")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("洞仙歌·中秋")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("十五夜望月")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("中秋玩月")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("琵琶仙·中秋")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("纳兰性德")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("洞仙歌·中秋")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("中秋对月")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("曹松")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("虎丘中秋夜")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("折桂令·中秋")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("中秋月")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("孟浩然")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("中秋")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Ye=a("VU/8")(Pe,qe,!1,function(t){a("A1bc")},"data-v-16b51e54",null).exports,Ue={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochongyang:function(){this.$router.push("./chongyang")},tochunjie:function(){this.$router.push("./chunjie")},toduanwu:function(){this.$router.push("./duanwu")},tohanshi:function(){this.$router.push("./hanshi")},toqingming:function(){this.$router.push("./qingming")},toqixi:function(){this.$router.push("./qixi")},toyuanxiao:function(){this.$router.push("./yuanxiao")},tozhongqiu:function(){this.$router.push("./zhongqiu")},tojieri:function(){this.$router.push("./jieri")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-800).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jieri/重阳.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jieri/重阳.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:27,name:"宋代"},{value:2,name:"近现代"},{value:23,name:"唐代"},{value:6,name:"清代"},{value:1,name:"南北朝"},{value:1,name:"五代"},{value:5,name:"元代"},{value:2,name:"魏晋"},{value:10,name:"明代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Ze={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochongyang}},[t._v("重阳")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochunjie}},[t._v("春节")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toduanwu}},[t._v("端午")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohanshi}},[t._v("寒食")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqingming}},[t._v("清明")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqixi}},[t._v("七夕")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuanxiao}},[t._v("元宵")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozhongqiu}},[t._v("中秋")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tojieri}},[t._v("其他节日")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("重阳")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("赵时春")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("原州九日")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("西夏重阳")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("采桑子·九日")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("九日水阁")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("西夏重阳")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王逊")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("九日闲居")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("风入松·九日")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("张可久")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("定风波·重阳")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("九日寄岑参")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("秋瑾")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var De,Ge=a("VU/8")(Ue,Ze,!1,function(t){a("vFll")},"data-v-71646a1c",null).exports,Ne=a("bOdI"),We=a.n(Ne),He={methods:(De={initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochangjiang:function(){this.$router.push("./changjiang")},todiming:function(){this.$router.push("./diming")},tofeng:function(){this.$router.push("./feng")},tohua:function(){this.$router.push("./hua")},tohuanghe:function(){this.$router.push("./huanghe")},toliushu:function(){this.$router.push("./liushu")},toma:function(){this.$router.push("./ma")},toniao:function(){this.$router.push("./niao")},toshanshui:function(){this.$router.push("./shanshui")},totianyuan:function(){this.$router.push("./tianyuan")},toxiejing:function(){this.$router.push("./xiejing")},toxue:function(){this.$router.push("./xue")},toyu:function(){this.$router.push("./yu")},toyueliang:function(){this.$router.push("/yueliang")}},We()(De,"tohua",function(){this.$router.push("/hua")}),We()(De,"initGraph",function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jingwu/长江.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jingwu/长江.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})}),We()(De,"initPie",function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:7,name:"唐代"},{value:5,name:"宋代"},{value:2,name:"明代"},{value:1,name:"清代"}]}]})}),De),mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Fe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochangjiang}},[t._v("长江")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohuanghe}},[t._v("黄河")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todiming}},[t._v("地名")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshanshui}},[t._v("山水")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totianyuan}},[t._v("田园")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxiejing}},[t._v("写景")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toliushu}},[t._v("柳树")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyueliang}},[t._v("月亮")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toma}},[t._v("马")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toniao}},[t._v("鸟")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tofeng}},[t._v("风")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxue}},[t._v("雪")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyu}},[t._v("雨")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohua}},[t._v("花")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("长江")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("晴江秋望")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("江上阻风")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("金陵望汉江")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("渡荆门送别")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("望天门山")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("崔季卿")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李白")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春别曲")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("梅雨")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("张籍")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("曾公亮")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李之仪")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("张孝祥")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Ve,Je=a("VU/8")(He,Fe,!1,function(t){a("kr0K")},"data-v-327f9bf2",null).exports,Ke={methods:(Ve={initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochangjiang:function(){this.$router.push("./changjiang")},todiming:function(){this.$router.push("./diming")},tofeng:function(){this.$router.push("./feng")},tohua:function(){this.$router.push("./hua")},tohuanghe:function(){this.$router.push("./huanghe")},toliushu:function(){this.$router.push("./liushu")},toma:function(){this.$router.push("./ma")},toniao:function(){this.$router.push("./niao")},toshanshui:function(){this.$router.push("./shanshui")},totianyuan:function(){this.$router.push("./tianyuan")},toxiejing:function(){this.$router.push("./xiejing")},toxue:function(){this.$router.push("./xue")},toyu:function(){this.$router.push("./yu")},toyueliang:function(){this.$router.push("/yueliang")}},We()(Ve,"tohua",function(){this.$router.push("/hua")}),We()(Ve,"initGraph",function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jingwu/地名.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jingwu/地名.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})}),We()(Ve,"initPie",function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:26,name:"唐代"},{value:8,name:"宋代"},{value:1,name:"两汉"},{value:2,name:"魏晋"},{value:2,name:"元代"},{value:1,name:"南北朝"},{value:4,name:"清代"},{value:1,name:"隋代"}]}]})}),Ve),mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Qe={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochangjiang}},[t._v("长江")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohuanghe}},[t._v("黄河")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todiming}},[t._v("地名")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshanshui}},[t._v("山水")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totianyuan}},[t._v("田园")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxiejing}},[t._v("写景")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toliushu}},[t._v("柳树")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyueliang}},[t._v("月亮")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toma}},[t._v("马")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toniao}},[t._v("鸟")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tofeng}},[t._v("风")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxue}},[t._v("雪")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyu}},[t._v("雨")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohua}},[t._v("花")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("地名")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("送人游吴")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("凉州词二首")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("成都曲")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("十七日观潮")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("醉蓬莱")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("夏日绝句")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李清照")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("真州绝句")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("曹雪芹")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("丁洲怀古")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("关汉卿")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("四愁诗")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("三都赋")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var ta,ea=a("VU/8")(Ke,Qe,!1,function(t){a("A2x0")},"data-v-347e720e",null).exports,aa={methods:(ta={initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochangjiang:function(){this.$router.push("./changjiang")},todiming:function(){this.$router.push("./diming")},tofeng:function(){this.$router.push("./feng")},tohua:function(){this.$router.push("./hua")},tohuanghe:function(){this.$router.push("./huanghe")},toliushu:function(){this.$router.push("./liushu")},toma:function(){this.$router.push("./ma")},toniao:function(){this.$router.push("./niao")},toshanshui:function(){this.$router.push("./shanshui")},totianyuan:function(){this.$router.push("./tianyuan")},toxiejing:function(){this.$router.push("./xiejing")},toxue:function(){this.$router.push("./xue")},toyu:function(){this.$router.push("./yu")},toyueliang:function(){this.$router.push("/yueliang")}},We()(ta,"tohua",function(){this.$router.push("/hua")}),We()(ta,"initGraph",function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jingwu/风.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jingwu/风.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})}),We()(ta,"initPie",function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:15,name:"唐代"},{value:12,name:"宋代"},{value:1,name:"两汉"},{value:2,name:"清代"},{value:4,name:"先秦"},{value:1,name:"明代"}]}]})}),ta),mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},na={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochangjiang}},[t._v("长江")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohuanghe}},[t._v("黄河")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todiming}},[t._v("地名")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshanshui}},[t._v("山水")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totianyuan}},[t._v("田园")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxiejing}},[t._v("写景")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toliushu}},[t._v("柳树")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyueliang}},[t._v("月亮")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toma}},[t._v("马")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toniao}},[t._v("鸟")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tofeng}},[t._v("风")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxue}},[t._v("雪")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyu}},[t._v("雨")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohua}},[t._v("花")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("风")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("秋风引")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("军城早秋")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("严武")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("初夏即事")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春风")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("野步")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("扫花游·秋声")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("风赋")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春思")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("南风歌")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("北风")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("落日忆山中")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("咏风")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var ia=a("VU/8")(aa,na,!1,function(t){a("Jr6M")},"data-v-9034afb8",null).exports,ra={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochangjiang:function(){this.$router.push("./changjiang")},todiming:function(){this.$router.push("./diming")},tofeng:function(){this.$router.push("./feng")},tohua:function(){this.$router.push("./hua")},tohuanghe:function(){this.$router.push("./huanghe")},toliushu:function(){this.$router.push("./liushu")},toma:function(){this.$router.push("./ma")},toniao:function(){this.$router.push("./niao")},toshanshui:function(){this.$router.push("./shanshui")},totianyuan:function(){this.$router.push("./tianyuan")},toxiejing:function(){this.$router.push("./xiejing")},toxue:function(){this.$router.push("./xue")},toyu:function(){this.$router.push("./yu")},toyueliang:function(){this.$router.push("/yueliang")},tuhua:function(){this.$router.push("/hua")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-700).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jingwu/花.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jingwu/花.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:72,name:"唐代"},{value:106,name:"宋代"},{value:5,name:"五代"},{value:1,name:"两汉"},{value:34,name:"清代"},{value:3,name:"金朝"},{value:2,name:"南北朝"},{value:11,name:"元代"},{value:1,name:"先秦"},{value:8,name:"明代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},sa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochangjiang}},[t._v("长江")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohuanghe}},[t._v("黄河")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todiming}},[t._v("地名")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshanshui}},[t._v("山水")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totianyuan}},[t._v("田园")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxiejing}},[t._v("写景")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toliushu}},[t._v("柳树")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyueliang}},[t._v("月亮")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toma}},[t._v("马")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toniao}},[t._v("鸟")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tofeng}},[t._v("风")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxue}},[t._v("雪")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyu}},[t._v("雨")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohua}},[t._v("花")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("花")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("野菊")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("腊前月季")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春日")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("牡丹吟")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("善赏花吟")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("嗅梅")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("咏石榴花")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("看梅绝句")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("落花")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("卜算子·兰")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("蜡梅")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("杏花")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("陆游")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var oa,ca=a("VU/8")(ra,sa,!1,function(t){a("04Xo")},"data-v-19f2c3cf",null).exports,la={methods:(oa={initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochangjiang:function(){this.$router.push("./changjiang")},todiming:function(){this.$router.push("./diming")},tofeng:function(){this.$router.push("./feng")},tohua:function(){this.$router.push("./hua")},tohuanghe:function(){this.$router.push("./huanghe")},toliushu:function(){this.$router.push("./liushu")},toma:function(){this.$router.push("./ma")},toniao:function(){this.$router.push("./niao")},toshanshui:function(){this.$router.push("./shanshui")},totianyuan:function(){this.$router.push("./tianyuan")},toxiejing:function(){this.$router.push("./xiejing")},toxue:function(){this.$router.push("./xue")},toyu:function(){this.$router.push("./yu")},toyueliang:function(){this.$router.push("/yueliang")}},We()(oa,"tohua",function(){this.$router.push("/hua")}),We()(oa,"initGraph",function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jingwu/黄河.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jingwu/黄河.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})}),We()(oa,"initPie",function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:8,name:"唐代"},{value:1,name:"宋代"},{value:1,name:"先秦"},{value:1,name:"金朝"},{value:2,name:"清代"},{value:2,name:"元代"},{value:2,name:"明代"},{value:1,name:"南北朝"}]}]})}),oa),mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},ua={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochangjiang}},[t._v("长江")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohuanghe}},[t._v("黄河")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todiming}},[t._v("地名")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshanshui}},[t._v("山水")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totianyuan}},[t._v("田园")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxiejing}},[t._v("写景")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toliushu}},[t._v("柳树")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyueliang}},[t._v("月亮")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toma}},[t._v("马")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toniao}},[t._v("鸟")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tofeng}},[t._v("风")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxue}},[t._v("雪")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyu}},[t._v("雨")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohua}},[t._v("花")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("黄河")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("书河上亭壁")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("渡黄河")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("黄河夜泊")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("黄河")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("浪淘沙·其一")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("刘禹锡")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("高适")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("公无渡河")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("宋琬")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("黄河行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("贡泰父")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("谢榛")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("范云")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var da,ha=a("VU/8")(la,ua,!1,function(t){a("7X2g")},"data-v-5030712a",null).exports,fa={methods:(da={initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochangjiang:function(){this.$router.push("./changjiang")},todiming:function(){this.$router.push("./diming")},tofeng:function(){this.$router.push("./feng")},tohua:function(){this.$router.push("./hua")},tohuanghe:function(){this.$router.push("./huanghe")},toliushu:function(){this.$router.push("./liushu")},toma:function(){this.$router.push("./ma")},toniao:function(){this.$router.push("./niao")},toshanshui:function(){this.$router.push("./shanshui")},totianyuan:function(){this.$router.push("./tianyuan")},toxiejing:function(){this.$router.push("./xiejing")},toxue:function(){this.$router.push("./xue")},toyu:function(){this.$router.push("./yu")},toyueliang:function(){this.$router.push("/yueliang")}},We()(da,"tohua",function(){this.$router.push("/hua")}),We()(da,"initGraph",function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jingwu/柳树.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jingwu/柳树.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})}),We()(da,"initPie",function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:7,name:"清代"},{value:22,name:"宋代"},{value:25,name:"唐代"},{value:1,name:"隋代"},{value:5,name:"五代"},{value:1,name:"先秦"},{value:1,name:"南北朝"},{value:2,name:"元代"},{value:3,name:"明代"}]}]})}),da),mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},pa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochangjiang}},[t._v("长江")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohuanghe}},[t._v("黄河")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todiming}},[t._v("地名")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshanshui}},[t._v("山水")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totianyuan}},[t._v("田园")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxiejing}},[t._v("写景")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toliushu}},[t._v("柳树")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyueliang}},[t._v("月亮")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toma}},[t._v("马")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toniao}},[t._v("鸟")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tofeng}},[t._v("风")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxue}},[t._v("雪")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyu}},[t._v("雨")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohua}},[t._v("花")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("柳树")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("花心动·柳")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("柳枝词")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("兰陵王·柳")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("落日忆山中")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("秋风引")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("村居苦寒")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("咏风")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("风赋")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春思")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("野步")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("北风行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("刘禹锡")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var va,ya=a("VU/8")(fa,pa,!1,function(t){a("p697")},"data-v-467a4877",null).exports,ma={methods:(va={initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochangjiang:function(){this.$router.push("./changjiang")},todiming:function(){this.$router.push("./diming")},tofeng:function(){this.$router.push("./feng")},tohua:function(){this.$router.push("./hua")},tohuanghe:function(){this.$router.push("./huanghe")},toliushu:function(){this.$router.push("./liushu")},toma:function(){this.$router.push("./ma")},toniao:function(){this.$router.push("./niao")},toshanshui:function(){this.$router.push("./shanshui")},totianyuan:function(){this.$router.push("./tianyuan")},toxiejing:function(){this.$router.push("./xiejing")},toxue:function(){this.$router.push("./xue")},toyu:function(){this.$router.push("./yu")},toyueliang:function(){this.$router.push("/yueliang")}},We()(va,"tohua",function(){this.$router.push("/hua")}),We()(va,"initGraph",function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jingwu/马.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jingwu/马.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})}),We()(va,"initPie",function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:29,name:"唐代"},{value:4,name:"先秦"},{value:4,name:"宋代"},{value:1,name:"清代"},{value:2,name:"两汉"}]}]})}),va),mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},ga={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochangjiang}},[t._v("长江")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohuanghe}},[t._v("黄河")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todiming}},[t._v("地名")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshanshui}},[t._v("山水")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totianyuan}},[t._v("田园")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxiejing}},[t._v("写景")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toliushu}},[t._v("柳树")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyueliang}},[t._v("月亮")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toma}},[t._v("马")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toniao}},[t._v("鸟")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tofeng}},[t._v("风")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxue}},[t._v("雪")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyu}},[t._v("雨")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohua}},[t._v("花")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("马")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("紫骝马")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("病马")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("瘦马图")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("马说")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("发白马")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李贺")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("韩愈")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李白")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("杜甫")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("刘彻")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("天马二首")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("白驹")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("书韩干牧马图")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var _a,xa=a("VU/8")(ma,ga,!1,function(t){a("iyi/")},"data-v-99e14336",null).exports,ba={methods:(_a={initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochangjiang:function(){this.$router.push("./changjiang")},todiming:function(){this.$router.push("./diming")},tofeng:function(){this.$router.push("./feng")},tohua:function(){this.$router.push("./hua")},tohuanghe:function(){this.$router.push("./huanghe")},toliushu:function(){this.$router.push("./liushu")},toma:function(){this.$router.push("./ma")},toniao:function(){this.$router.push("./niao")},toshanshui:function(){this.$router.push("./shanshui")},totianyuan:function(){this.$router.push("./tianyuan")},toxiejing:function(){this.$router.push("./xiejing")},toxue:function(){this.$router.push("./xue")},toyu:function(){this.$router.push("./yu")},toyueliang:function(){this.$router.push("/yueliang")}},We()(_a,"tohua",function(){this.$router.push("/hua")}),We()(_a,"initGraph",function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-700).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jingwu/鸟.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jingwu/鸟.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})}),We()(_a,"initPie",function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:35,name:"唐代"},{value:22,name:"宋代"},{value:1,name:"金朝"},{value:6,name:"先秦"},{value:4,name:"魏晋"},{value:5,name:"两汉"},{value:3,name:"元代"},{value:7,name:"清代"},{value:1,name:"五代"},{value:1,name:"南北朝"},{value:2,name:"明代"}]}]})}),_a),mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},ka={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochangjiang}},[t._v("长江")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohuanghe}},[t._v("黄河")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todiming}},[t._v("地名")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshanshui}},[t._v("山水")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totianyuan}},[t._v("田园")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxiejing}},[t._v("写景")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toliushu}},[t._v("柳树")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyueliang}},[t._v("月亮")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toma}},[t._v("马")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toniao}},[t._v("鸟")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tofeng}},[t._v("风")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxue}},[t._v("雪")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyu}},[t._v("雨")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohua}},[t._v("花")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("鸟")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("空城雀")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("早雁")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("归燕诗")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("咏雁")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("咏鸟")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("归雁")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("杜鹃行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("闻黄鹂")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("柳宗元")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("野田黄雀行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("杜牧")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("流莺")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李商隐")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Ca,wa=a("VU/8")(ba,ka,!1,function(t){a("ayON")},"data-v-677ff2a4",null).exports,Ea={methods:(Ca={initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochangjiang:function(){this.$router.push("./changjiang")},todiming:function(){this.$router.push("./diming")},tofeng:function(){this.$router.push("./feng")},tohua:function(){this.$router.push("./hua")},tohuanghe:function(){this.$router.push("./huanghe")},toliushu:function(){this.$router.push("./liushu")},toma:function(){this.$router.push("./ma")},toniao:function(){this.$router.push("./niao")},toshanshui:function(){this.$router.push("./shanshui")},totianyuan:function(){this.$router.push("./tianyuan")},toxiejing:function(){this.$router.push("./xiejing")},toxue:function(){this.$router.push("./xue")},toyu:function(){this.$router.push("./yu")},toyueliang:function(){this.$router.push("/yueliang")}},We()(Ca,"tohua",function(){this.$router.push("/hua")}),We()(Ca,"initGraph",function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-700).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jingwu/山水.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jingwu/山水.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})}),We()(Ca,"initPie",function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:72,name:"唐代"},{value:47,name:"宋代"},{value:3,name:"明代"},{value:2,name:"先秦"},{value:9,name:"南北朝"},{value:1,name:"两汉"},{value:2,name:"元代"},{value:12,name:"清代"},{value:2,name:"魏晋"},{value:9,name:"五代"},{value:2,name:"近现代"}]}]})}),Ca),mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},za={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochangjiang}},[t._v("长江")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohuanghe}},[t._v("黄河")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todiming}},[t._v("地名")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshanshui}},[t._v("山水")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totianyuan}},[t._v("田园")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxiejing}},[t._v("写景")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toliushu}},[t._v("柳树")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyueliang}},[t._v("月亮")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toma}},[t._v("马")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toniao}},[t._v("鸟")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tofeng}},[t._v("风")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxue}},[t._v("雪")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyu}},[t._v("雨")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohua}},[t._v("花")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("山水")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("望洞庭")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("滁州西涧")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("过故人庄")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("钱塘湖春行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("咏鹅")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("望岳")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("滕王阁序")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("夏日山中")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("游黄檗山")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("山中杂诗")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("与朱元思书")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("三峡")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("玉楼春")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Ta,Ma=a("VU/8")(Ea,za,!1,function(t){a("LQQR")},"data-v-02735a3a",null).exports,ja={methods:(Ta={initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochangjiang:function(){this.$router.push("./changjiang")},todiming:function(){this.$router.push("./diming")},tofeng:function(){this.$router.push("./feng")},tohua:function(){this.$router.push("./hua")},tohuanghe:function(){this.$router.push("./huanghe")},toliushu:function(){this.$router.push("./liushu")},toma:function(){this.$router.push("./ma")},toniao:function(){this.$router.push("./niao")},toshanshui:function(){this.$router.push("./shanshui")},totianyuan:function(){this.$router.push("./tianyuan")},toxiejing:function(){this.$router.push("./xiejing")},toxue:function(){this.$router.push("./xue")},toyu:function(){this.$router.push("./yu")},toyueliang:function(){this.$router.push("/yueliang")}},We()(Ta,"tohua",function(){this.$router.push("/hua")}),We()(Ta,"initGraph",function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-700).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jingwu/田园.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jingwu/田园.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})}),We()(Ta,"initPie",function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:59,name:"唐代"},{value:40,name:"宋代"},{value:18,name:"魏晋"},{value:1,name:"两汉"},{value:4,name:"明代"},{value:4,name:"清代"},{value:11,name:"元代"},{value:2,name:"先秦"},{value:1,name:"南北朝"},{value:1,name:"金朝"}]}]})}),Ta),mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},$a={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochangjiang}},[t._v("长江")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohuanghe}},[t._v("黄河")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todiming}},[t._v("地名")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshanshui}},[t._v("山水")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totianyuan}},[t._v("田园")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxiejing}},[t._v("写景")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toliushu}},[t._v("柳树")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyueliang}},[t._v("月亮")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toma}},[t._v("马")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toniao}},[t._v("鸟")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tofeng}},[t._v("风")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxue}},[t._v("雪")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyu}},[t._v("雨")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohua}},[t._v("花")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("田园")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("首春逢耕者")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春晚书山家")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("稻田")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("过故人庄")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("山行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("南园十三首")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春庄")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("过山农家")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("采莲词")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("落日")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("陆浑山庄")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春中田园作")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("张谷田舍")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Ia,Aa=a("VU/8")(ja,$a,!1,function(t){a("jUfG")},"data-v-320a6d06",null).exports,Ra={methods:(Ia={initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochangjiang:function(){this.$router.push("./changjiang")},todiming:function(){this.$router.push("./diming")},tofeng:function(){this.$router.push("./feng")},tohua:function(){this.$router.push("./hua")},tohuanghe:function(){this.$router.push("./huanghe")},toliushu:function(){this.$router.push("./liushu")},toma:function(){this.$router.push("./ma")},toniao:function(){this.$router.push("./niao")},toshanshui:function(){this.$router.push("./shanshui")},totianyuan:function(){this.$router.push("./tianyuan")},toxiejing:function(){this.$router.push("./xiejing")},toxue:function(){this.$router.push("./xue")},toyu:function(){this.$router.push("./yu")},toyueliang:function(){this.$router.push("/yueliang")}},We()(Ia,"tohua",function(){this.$router.push("/hua")}),We()(Ia,"initGraph",function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-700).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jingwu/写景.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jingwu/写景.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})}),We()(Ia,"initPie",function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:40,name:"唐代"},{value:23,name:"宋代"},{value:3,name:"清代"},{value:1,name:"魏晋"},{value:1,name:"元代"}]}]})}),Ia),mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},La={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochangjiang}},[t._v("长江")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohuanghe}},[t._v("黄河")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todiming}},[t._v("地名")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshanshui}},[t._v("山水")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totianyuan}},[t._v("田园")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxiejing}},[t._v("写景")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toliushu}},[t._v("柳树")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyueliang}},[t._v("月亮")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toma}},[t._v("马")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toniao}},[t._v("鸟")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tofeng}},[t._v("风")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxue}},[t._v("雪")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyu}},[t._v("雨")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohua}},[t._v("花")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("写景")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("夜雨寄北")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春晓")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("望洞庭")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("江南春")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("秋夕")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("黄鹤楼")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("登鹳雀楼")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("咏柳")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("题西林壁")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("题临安邸")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("望庐山瀑布")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("独坐敬亭山")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("鹿柴")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Sa,Oa=a("VU/8")(Ra,La,!1,function(t){a("Dw/o")},"data-v-7ec578ec",null).exports,Ba={methods:(Sa={initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochangjiang:function(){this.$router.push("./changjiang")},todiming:function(){this.$router.push("./diming")},tofeng:function(){this.$router.push("./feng")},tohua:function(){this.$router.push("./hua")},tohuanghe:function(){this.$router.push("./huanghe")},toliushu:function(){this.$router.push("./liushu")},toma:function(){this.$router.push("./ma")},toniao:function(){this.$router.push("./niao")},toshanshui:function(){this.$router.push("./shanshui")},totianyuan:function(){this.$router.push("./tianyuan")},toxiejing:function(){this.$router.push("./xiejing")},toxue:function(){this.$router.push("./xue")},toyu:function(){this.$router.push("./yu")},toyueliang:function(){this.$router.push("/yueliang")}},We()(Sa,"tohua",function(){this.$router.push("./hua")}),We()(Sa,"initGraph",function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jingwu/雪.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jingwu/雪.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})}),We()(Sa,"initPie",function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:32,name:"唐代"},{value:23,name:"宋代"},{value:4,name:"明代"},{value:5,name:"南北朝"},{value:12,name:"清代"},{value:9,name:"元代"},{value:1,name:"金朝"},{value:1,name:"近现代"}]}]})}),Sa),mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Xa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochangjiang}},[t._v("长江")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohuanghe}},[t._v("黄河")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todiming}},[t._v("地名")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshanshui}},[t._v("山水")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totianyuan}},[t._v("田园")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxiejing}},[t._v("写景")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toliushu}},[t._v("柳树")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyueliang}},[t._v("月亮")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toma}},[t._v("马")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toniao}},[t._v("鸟")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tofeng}},[t._v("风")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxue}},[t._v("雪")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyu}},[t._v("雨")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohua}},[t._v("花")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("雪")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("对雪")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春雪")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("望雪")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("蟾宫曲·雪")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("落梅风·咏雪")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("清平乐·雪")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("除夜雪")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("雪梅")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("钓雪亭")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("咏雪")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("雪里梅花诗")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("雪赋")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("洛阳春·雪")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Pa,qa=a("VU/8")(Ba,Xa,!1,function(t){a("EK8g")},"data-v-49a8a0ea",null).exports,Ya={methods:(Pa={initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochangjiang:function(){this.$router.push("./changjiang")},todiming:function(){this.$router.push("./diming")},tofeng:function(){this.$router.push("./feng")},tohua:function(){this.$router.push("./hua")},tohuanghe:function(){this.$router.push("./huanghe")},toliushu:function(){this.$router.push("./liushu")},toma:function(){this.$router.push("./ma")},toniao:function(){this.$router.push("./niao")},toshanshui:function(){this.$router.push("./shanshui")},totianyuan:function(){this.$router.push("./tianyuan")},toxiejing:function(){this.$router.push("./xiejing")},toxue:function(){this.$router.push("./xue")},toyu:function(){this.$router.push("./yu")}},We()(Pa,"tohua",function(){this.$router.push("./hua")}),We()(Pa,"toyueliang",function(){this.$router.push("/yueliang")}),We()(Pa,"initGraph",function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-700).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jingwu/雨.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jingwu/雨.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})}),We()(Pa,"initPie",function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:32,name:"唐代"},{value:48,name:"宋代"},{value:6,name:"元代"},{value:10,name:"清代"},{value:5,name:"五代"},{value:5,name:"明代"},{value:2,name:"魏晋"},{value:1,name:"先秦"},{value:3,name:"近现代"}]}]})}),Pa),mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Ua={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochangjiang}},[t._v("长江")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohuanghe}},[t._v("黄河")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todiming}},[t._v("地名")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshanshui}},[t._v("山水")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totianyuan}},[t._v("田园")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxiejing}},[t._v("写景")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toliushu}},[t._v("柳树")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyueliang}},[t._v("月亮")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toma}},[t._v("马")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toniao}},[t._v("鸟")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tofeng}},[t._v("风")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxue}},[t._v("雪")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyu}},[t._v("雨")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohua}},[t._v("花")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("雨")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("梅雨")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春夜喜雨")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("晨雨")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("长安夜雨")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("微雨夜行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("雨过山村")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("清平乐·咏雨")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("山雨")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("夏日杂诗")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("喜雨亭记")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春游湖")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("虞美人·梳楼")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("晚归遇雨")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Za,Da=a("VU/8")(Ya,Ua,!1,function(t){a("jbRJ")},"data-v-2bcc0988",null).exports,Ga={methods:(Za={initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tochangjiang:function(){this.$router.push("./changjiang")},todiming:function(){this.$router.push("./diming")},tofeng:function(){this.$router.push("./feng")},tohua:function(){this.$router.push("./hua")},tohuanghe:function(){this.$router.push("./huanghe")},toliushu:function(){this.$router.push("./liushu")},toma:function(){this.$router.push("./ma")},toniao:function(){this.$router.push("./niao")},toshanshui:function(){this.$router.push("./shanshui")},totianyuan:function(){this.$router.push("./tianyuan")},toxiejing:function(){this.$router.push("./xiejing")},toxue:function(){this.$router.push("./xue")},toyu:function(){this.$router.push("./yu")}},We()(Za,"tohua",function(){this.$router.push("./hua")}),We()(Za,"toyueliang",function(){this.$router.push("/yueliang")}),We()(Za,"initGraph",function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-700).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/jingwu/月亮.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/jingwu/月亮.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})}),We()(Za,"initPie",function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:39,name:"唐代"},{value:31,name:"宋代"},{value:1,name:"先秦"},{value:1,name:"两汉"},{value:6,name:"元代"},{value:2,name:"明代"},{value:2,name:"南北朝"},{value:6,name:"清代"}]}]})}),Za),mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Na={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochangjiang}},[t._v("长江")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohuanghe}},[t._v("黄河")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todiming}},[t._v("地名")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshanshui}},[t._v("山水")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totianyuan}},[t._v("田园")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxiejing}},[t._v("写景")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toliushu}},[t._v("柳树")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyueliang}},[t._v("月亮")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toma}},[t._v("马")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toniao}},[t._v("鸟")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tofeng}},[t._v("风")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxue}},[t._v("雪")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyu}},[t._v("雨")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tohua}},[t._v("花")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("月亮")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春江花月夜")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春山夜月")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("江楼月")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("静夜思")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("古朗月行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("月圆")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("蝶恋花·早行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("月出")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("香菱咏月")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("杨万里")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王昌龄")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李白")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("霜月")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Wa=a("VU/8")(Ga,Na,!1,function(t){a("9ONN")},"data-v-d9cf7422",null).exports,Ha={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toertong:function(){this.$router.push("./ertong")},tolaoshi:function(){this.$router.push("./laoshi")},tomuqin:function(){this.$router.push("./muqin")},toqitarenwu:function(){this.$router.push("./qitarenwu")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/renwu/儿童.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/renwu/儿童.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:7,name:"唐代"},{value:7,name:"宋代"},{value:1,name:"先秦"},{value:2,name:"清代"},{value:1,name:"南北朝"},{value:1,name:"明代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Fa={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toertong}},[t._v("儿童")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolaoshi}},[t._v("老师")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tomuqin}},[t._v("母亲")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqitarenwu}},[t._v("其他人物")]),t._v(" "),t._m(1)],1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("儿童")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("小儿垂钓")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("胡令能")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("两小儿辩日")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("牧童")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("池上")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("稚子弄冰")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("村晚")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("牧竖")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("牧童逮狼")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("蒲松龄")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("黄庭坚")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("牧童诗")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("舟过安仁")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Va=a("VU/8")(Ha,Fa,!1,function(t){a("2HgR")},"data-v-53397988",null).exports,Ja={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toertong:function(){this.$router.push("./ertong")},tolaoshi:function(){this.$router.push("./laoshi")},tomuqin:function(){this.$router.push("./muqin")},toqitarenwu:function(){this.$router.push("./qitarenwu")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/renwu/老师.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/renwu/老师.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:2,name:"唐代"},{value:1,name:"清代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Ka={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toertong}},[t._v("儿童")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolaoshi}},[t._v("老师")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tomuqin}},[t._v("母亲")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqitarenwu}},[t._v("其他人物")]),t._v(" "),t._m(1)],1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("老师")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("韩愈")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("无题")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李商隐")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("白居易")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("师说")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("新竹")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("唐代")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("郑燮")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("清代")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Qa=a("VU/8")(Ja,Ka,!1,function(t){a("TdMg")},"data-v-49690980",null).exports,tn={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toertong:function(){this.$router.push("./ertong")},tolaoshi:function(){this.$router.push("./laoshi")},tomuqin:function(){this.$router.push("./muqin")},toqitarenwu:function(){this.$router.push("./qitarenwu")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/renwu/母亲.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/renwu/母亲.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:6,name:"唐代"},{value:1,name:"宋代"},{value:5,name:"清代"},{value:1,name:"两汉"},{value:2,name:"先秦"},{value:3,name:"元代"},{value:2,name:"明代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},en={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toertong}},[t._v("儿童")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolaoshi}},[t._v("老师")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tomuqin}},[t._v("母亲")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqitarenwu}},[t._v("其他人物")]),t._v(" "),t._m(1)],1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("母亲")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("祝父母诗")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("忆母")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("短歌行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("游子吟")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("孟郊")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("母别子")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("思母")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("狱中上母书")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("将母")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王安石")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("别老母")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("慈乌夜啼")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("墨萱图")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var an=a("VU/8")(tn,en,!1,function(t){a("RKdN")},"data-v-702f7cfa",null).exports,nn={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},toertong:function(){this.$router.push("./ertong")},tolaoshi:function(){this.$router.push("./laoshi")},tomuqin:function(){this.$router.push("./muqin")},toqitarenwu:function(){this.$router.push("./qitarenwu")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-600).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/renwu/人物.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/renwu/人物.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:285,name:"唐代"},{value:73,name:"先秦"},{value:233,name:"宋代"},{value:36,name:"两汉"},{value:66,name:"清代"},{value:2,name:"金朝"},{value:35,name:"元代"},{value:26,name:"南北朝"},{value:25,name:"五代"},{value:31,name:"魏晋"},{value:33,name:"明代"},{value:1,name:"隋代"},{value:15,name:"近现代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},rn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toertong}},[t._v("儿童")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolaoshi}},[t._v("老师")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tomuqin}},[t._v("母亲")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqitarenwu}},[t._v("其他人物")]),t._v(" "),t._m(1)],1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("其他人物")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("塞下曲")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春晓")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("忆扬州")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("梅花落")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("卖炭翁")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("步虚")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("远师")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("琵琶行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("秋雨夜眠")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("怨情")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("别离")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("采莲曲")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("牧童词")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var sn=a("VU/8")(nn,rn,!1,function(t){a("cLDH")},"data-v-6e064e82",null).exports,on={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tobiansai:function(){this.$router.push("./biansai")},tochuci:function(){this.$router.push("./chuci")},todushu:function(){this.$router.push("./dushu")},tominyao:function(){this.$router.push("./minyao")},toshijing:function(){this.$router.push("./shijing")},toyuefu:function(){this.$router.push("./yuefu")},tozhanzheng:function(){this.$router.push("./zhanzheng")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/qita/边塞.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/qita/边塞.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:142,name:"唐代"},{value:11,name:"宋代"},{value:23,name:"清代"},{value:7,name:"南北朝"},{value:1,name:"魏晋"},{value:3,name:"元代"},{value:6,name:"明代"},{value:1,name:"金朝"},{value:2,name:"五代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},cn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tobiansai}},[t._v("边塞")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochuci}},[t._v("楚辞")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todushu}},[t._v("读书")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tominyao}},[t._v("民谣")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshijing}},[t._v("诗经")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuefu}},[t._v("乐府")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozhanzheng}},[t._v("战争")]),t._v(" "),t._m(1)],1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("边塞")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("塞下曲")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("凉州词")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("塞上逢故人")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("从军行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("渔家傲·秋思")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("秋望")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("杂诗")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("从军行二首")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("出塞作")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("梅花落")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("雁门太守行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("边城落日")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("逢入京使")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var ln=a("VU/8")(on,cn,!1,function(t){a("vkFP")},"data-v-28f29ce6",null).exports,un={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tobiansai:function(){this.$router.push("./biansai")},tochuci:function(){this.$router.push("./chuci")},todushu:function(){this.$router.push("./dushu")},tominyao:function(){this.$router.push("./minyao")},toshijing:function(){this.$router.push("./shijing")},toyuefu:function(){this.$router.push("./yuefu")},tozhanzheng:function(){this.$router.push("./zhanzheng")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/qita/楚辞.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/qita/楚辞.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:9,name:"楚辞"},{value:7,name:"两汉"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},dn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tobiansai}},[t._v("边塞")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochuci}},[t._v("楚辞")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todushu}},[t._v("读书")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tominyao}},[t._v("民谣")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshijing}},[t._v("诗经")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuefu}},[t._v("乐府")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozhanzheng}},[t._v("战争")]),t._v(" "),t._m(1)],1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("楚辞")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("屈原")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("离骚")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("九怀")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("哀时命")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("九叹")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("九思")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("九辩")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("刘向")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("东方朔")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王逸")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("九怀")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("天问")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("九歌")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var hn=a("VU/8")(un,dn,!1,function(t){a("j+DQ")},"data-v-197b9ace",null).exports,fn={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tobiansai:function(){this.$router.push("./biansai")},tochuci:function(){this.$router.push("./chuci")},todushu:function(){this.$router.push("./dushu")},tominyao:function(){this.$router.push("./minyao")},toshijing:function(){this.$router.push("./shijing")},toyuefu:function(){this.$router.push("./yuefu")},tozhanzheng:function(){this.$router.push("./zhanzheng")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/qita/读书.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/qita/读书.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:10,name:"唐代"},{value:18,name:"宋代"},{value:2,name:"明代"},{value:2,name:"魏晋"},{value:3,name:"清代"},{value:1,name:"近现代"},{value:1,name:"南北朝"},{value:1,name:"先秦"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},pn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tobiansai}},[t._v("边塞")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochuci}},[t._v("楚辞")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todushu}},[t._v("读书")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tominyao}},[t._v("民谣")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshijing}},[t._v("诗经")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuefu}},[t._v("乐府")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozhanzheng}},[t._v("战争")]),t._v(" "),t._m(1)],1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("读书")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("劝学")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("柏学士茅屋")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("舟中读书")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("劝学诗")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("读孟尝君传")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("观书有感")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("司马光好学")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("和董传留别")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("夜深")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("夜读兵书")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("颜真卿")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("咏史八首·")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("观书")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var vn=a("VU/8")(fn,pn,!1,function(t){a("utJ7")},"data-v-d7fe71e0",null).exports,yn={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tobiansai:function(){this.$router.push("./biansai")},tochuci:function(){this.$router.push("./chuci")},todushu:function(){this.$router.push("./dushu")},tominyao:function(){this.$router.push("./minyao")},toshijing:function(){this.$router.push("./shijing")},toyuefu:function(){this.$router.push("./yuefu")},tozhanzheng:function(){this.$router.push("./zhanzheng")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/qita/乐府.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/qita/乐府.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:109,name:"唐代"},{value:46,name:"两汉"},{value:17,name:"南北朝"},{value:12,name:"魏晋"},{value:2,name:"隋代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},mn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tobiansai}},[t._v("边塞")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochuci}},[t._v("楚辞")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todushu}},[t._v("读书")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tominyao}},[t._v("民谣")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshijing}},[t._v("诗经")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuefu}},[t._v("乐府")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozhanzheng}},[t._v("战争")]),t._v(" "),t._m(1)],1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("乐府")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("燕歌行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("渡辽水")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("将进酒")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("古从军行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("发白马")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("远别离")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("采莲曲")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("长歌行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("游子吟")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("久别离")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("怨歌行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("桃源行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("古朗月行")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var gn=a("VU/8")(yn,mn,!1,function(t){a("d/Yw")},"data-v-45242a94",null).exports,_n={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tobiansai:function(){this.$router.push("./biansai")},tochuci:function(){this.$router.push("./chuci")},todushu:function(){this.$router.push("./dushu")},tominyao:function(){this.$router.push("./minyao")},toshijing:function(){this.$router.push("./shijing")},toyuefu:function(){this.$router.push("./yuefu")},tozhanzheng:function(){this.$router.push("./zhanzheng")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/qita/民谣.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/qita/民谣.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:9,name:"先秦"},{value:7,name:"两汉"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},xn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tobiansai}},[t._v("边塞")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochuci}},[t._v("楚辞")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todushu}},[t._v("读书")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tominyao}},[t._v("民谣")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshijing}},[t._v("诗经")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuefu}},[t._v("乐府")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozhanzheng}},[t._v("战争")]),t._v(" "),t._m(1)],1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("民谣")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("风雨")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("巴女谣")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("君子于役")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("终风")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("南风歌")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("氓")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("静女")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("匈奴歌")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("神鸡童谣")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("鸡鸣歌")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("巴女谣")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("绵州巴歌")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("采葛")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var bn=a("VU/8")(_n,xn,!1,function(t){a("yPTM")},"data-v-b42b4f30",null).exports,kn={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tobiansai:function(){this.$router.push("./biansai")},tochuci:function(){this.$router.push("./chuci")},todushu:function(){this.$router.push("./dushu")},tominyao:function(){this.$router.push("./minyao")},toshijing:function(){this.$router.push("./shijing")},toyuefu:function(){this.$router.push("./yuefu")},tozhanzheng:function(){this.$router.push("./zhanzheng")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/qita/诗经.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/qita/诗经.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:304,name:"先秦"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Cn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tobiansai}},[t._v("边塞")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochuci}},[t._v("楚辞")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todushu}},[t._v("读书")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tominyao}},[t._v("民谣")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshijing}},[t._v("诗经")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuefu}},[t._v("乐府")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozhanzheng}},[t._v("战争")]),t._v(" "),t._m(1)],1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("诗经")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("甫田")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("无衣")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("采苓")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("卢令")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("节南山")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("桃夭")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("终风")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("鹤鸣")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("新台")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("何人斯")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("小旻")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("南有嘉鱼")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("缁衣")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var wn=a("VU/8")(kn,Cn,!1,function(t){a("IvHv")},"data-v-7d9651ed",null).exports,En={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)}),window.onload=function(){}},tobiansai:function(){this.$router.push("./biansai")},tochuci:function(){this.$router.push("./chuci")},todushu:function(){this.$router.push("./dushu")},tominyao:function(){this.$router.push("./minyao")},toshijing:function(){this.$router.push("./shijing")},toyuefu:function(){this.$router.push("./yuefu")},tozhanzheng:function(){this.$router.push("./zhanzheng")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/kewai/qita/战争.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/kewai/qita/战争.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"各朝代诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{top:"bottom"},series:[{name:"诗词数量",type:"pie",radius:["10%","70%"],center:["50%","50%"],roseType:"area",itemStyle:{borderRadius:8},label:{fontsize:5},labelLine:{length:2,length2:5},data:[{value:109,name:"唐代"},{value:18,name:"宋代"},{value:6,name:"明代"},{value:3,name:"南北朝"},{value:16,name:"先秦"},{value:9,name:"两汉"},{value:8,name:"近现代"},{value:1,name:"隋代"},{value:1,name:"金朝"},{value:1,name:"五代"},{value:5,name:"清代"}]}]})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},zn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tobiansai}},[t._v("边塞")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tochuci}},[t._v("楚辞")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.todushu}},[t._v("读书")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tominyao}},[t._v("民谣")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toshijing}},[t._v("诗经")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuefu}},[t._v("乐府")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tozhanzheng}},[t._v("战争")]),t._v(" "),t._m(1)],1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("战争")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春望")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("阁夜")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("塞下曲")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("从军行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("从军行二首")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("出塞")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("雁门太守行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("边城落日")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("战城南")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("发白马")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("司马将军歌")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("北上行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("岁暮")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Tn=a("VU/8")(En,zn,!1,function(t){a("oBW+")},"data-v-603db2f3",null).exports,Mn={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.offsetWidth()-.5)*.05*t,a=2*(e.clientY/document.body.offsetHeight()-.5)*.05*t})},0)})},totang:function(){this.$router.push("./tang300")},tosong:function(){this.$router.push("./song300")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/唐诗三百首.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/唐诗三百首.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"诗人诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},series:[{name:"诗词数量",type:"pie",selectedMode:"single",radius:[0,"30%"],label:{position:"inner",fontSize:14},labelLine:{show:!1},data:[{value:29,name:"王维"},{value:24,name:"李商隐"},{value:34,name:"李白",selected:!0}]},{name:"诗词数量",type:"pie",radius:["45%","60%"],labelLine:{length:10},label:{formatter:"{b}"},data:[{value:39,name:"杜甫"},{value:12,name:"韦应物"},{value:15,name:"孟浩然"},{value:11,name:"柳长卿"},{value:10,name:"杜牧"}]}],legend:{data:["王维","李商隐","李白","杜甫","韦应物","孟浩然","柳长卿","杜牧"],top:"bottom"}})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},jn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totang}},[t._v("唐诗三百首")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosong}},[t._v("宋词三百首")]),t._v(" "),t._m(1)],1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("唐诗三百首")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李白")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("行路难")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("唐代")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("将进酒")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("蜀道难")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("杜甫")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("陈子昂")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王勃")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("岑参")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王之涣")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("刘禹锡")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("望岳")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("旅夜抒怀")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("野望")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("温庭筠")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("孟浩然")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("登岳阳楼")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("高适")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("送杜少府之任蜀州")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var $n=a("VU/8")(Mn,jn,!1,function(t){a("Jbgx")},"data-v-37f8da46",null).exports,In={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.offsetWidth()-.5)*.05*t,a=2*(e.clientY/document.body.offsetHeight()-.5)*.05*t})},0)})},totang:function(){this.$router.push("./tang300")},tosong:function(){this.$router.push("./song300")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/宋词三百首.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/宋词三百首.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({title:{text:"诗人诗词数量统计",subtext:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},series:[{name:"诗词数量",type:"pie",selectedMode:"single",radius:[0,"30%"],label:{position:"inner",fontSize:14},labelLine:{show:!1},data:[{value:16,name:"辛弃疾"},{value:16,name:"苏轼"},{value:14,name:"李清照",selected:!0}]},{name:"诗词数量",type:"pie",radius:["45%","60%"],labelLine:{length:10},label:{formatter:"{b}"},data:[{value:12,name:"周邦彦"},{value:12,name:"李煜"},{value:9,name:"姜夔"},{value:9,name:"秦观"},{value:6,name:"韦庄"}]}],legend:{data:["辛弃疾","苏轼","李煜","李清照","姜夔","秦观","周邦彦","韦庄"],top:"bottom"}})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},An={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totang}},[t._v("唐诗三百首")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosong}},[t._v("宋词三百首")]),t._v(" "),t._m(1)],1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("宋词三百首")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("苏轼")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("辛弃疾")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("宋代")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("江城子")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("水调歌头")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("西江月")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("菩萨蛮")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("杨万里")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("范仲淹")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("欧阳修")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("晏殊")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("秦观")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("陆游")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("卜算子·咏梅")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("王安石")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("晏几道")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("鹧鸪天")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("蝶恋花")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("念奴娇·赤壁怀古")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Rn=a("VU/8")(In,An,!1,function(t){a("vWYO")},"data-v-2e5d9cd5",null).exports,Ln={methods:{initciyun:function(){var t=Math.PI/300,e=100,a=.05*t,n=-.05*t;function i(t){this.options=t,this.container=t.container,this.dataArr=t.data,this.init()}function r(t,e,a,n,i){this.options=i,this.dataArr=i.data,this.data=t,this.x=e,this.y=a,this.z=n}i.prototype.init=function(){for(var t=this.dataArr.length,a=[],n=0;n<t;n++){var i=Math.acos((2*(n+1)-1)/t-1),s=i*Math.sqrt(t*Math.PI),o=e*Math.cos(i),c=e*Math.sin(i)*Math.sin(s),l=e*Math.sin(i)*Math.cos(s),u="#"+Math.floor(16777215*Math.random()).toString(16);this.dataArr[n].style.color=u;var d=new r(this.dataArr[n],l,c,o,this.options);d.move(),a.push(d),this.animate()}this.newTags=a},i.prototype.rotateX=function(){var t=Math.cos(a),e=Math.sin(a);this.newTags.forEach(function(a){var n=a.y*t-a.z*e,i=a.z*t+a.y*e;a.y=n,a.z=i})},i.prototype.rotateY=function(){var t=Math.cos(n),e=Math.sin(n);this.newTags.forEach(function(a){var n=a.x*t-a.z*e,i=a.z*t+a.x*e;a.x=n,a.z=i})},i.prototype.animate=function(){var t=this;setInterval(function(){t.rotateX(),t.rotateY(),t.newTags.forEach(function(t){t.move()})},20)},r.prototype.move=function(){this.dataArr.length;var t=150/(150-this.z),a=(this.z+e)/200;this.data.style.left=this.x+"px",this.data.style.top=this.y+"px",this.data.style.fontSize=10*t+"px",this.data.style.opacity=a+.5},v()(document).ready(function(){setTimeout(function(){new i({data:document.getElementsByTagName("a"),container:document.getElementById("wrap")});document.addEventListener("mousemove",function(e){n=2*(e.clientX/document.body.getBoundingClientRect().width-.5)*.05*t,a=2*(e.clientY/document.body.getBoundingClientRect().height-.5)*.05*t})},0)})},toertong:function(){this.$router.push("./ertong")},tolaoshi:function(){this.$router.push("./laoshi")},tomuqin:function(){this.$router.push("./muqin")},toqitarenwu:function(){this.$router.push("./qitarenwu")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.name?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name)for(var p in h.prop||h.name?h.prop?v()("#info1").append("<p><span><b>类型:</b></span>诗集</p>"):v()("#info1").append("<p><span><b>类型:</b></span>诗人</p><p><span>朝代:</span>"+h.dynasty+"</p>"):v()("#info1").append("<p><span><b>类型:</b></span>朝代</p>"),h.prop){var y=p;y="content"==p?"内容":"译文",v()("#info1").append("<p><span><b>"+y+":</b></span>"+h.prop[p]+"</p>")}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(!a.name){m=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+m+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var g=new Image;g.onload=function(){},g.src="../../../../static/诗人图片/"+a.name+".jpg",g.fileSize>0||g.width>0&&g.height,g.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)?(c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})):(n=a.dynasty,c.style("stroke-width",function(t){return t.source.dynasty!=n||t.source.name?1:t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5)}),c.style("stroke",function(t){return t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"})),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/古诗三百首.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/古诗三百首.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initPie:function(){a("XLwt").init(document.getElementById("piechart")).setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},series:[{name:"诗词数量",type:"pie",selectedMode:"single",radius:[0,"30%"],label:{position:"inner",fontSize:14},labelLine:{show:!1},data:[{value:29,name:"王维"},{value:24,name:"李商隐"},{value:34,name:"李白",selected:!0}]},{name:"诗词数量",type:"pie",radius:["45%","60%"],labelLine:{length:10},label:{formatter:"{b}"},data:[{value:39,name:"杜甫"},{value:12,name:"韦应物"},{value:15,name:"孟浩然"},{value:11,name:"柳长卿"},{value:10,name:"杜牧"}]}],legend:{data:["王维","李商隐","李白","杜甫","韦应物","孟浩然","柳长卿","杜牧"],top:"bottom"}})}},mounted:function(){this.initciyun(),this.initGraph(),this.initPie()}},Sn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[t._m(1),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("古诗三百首")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"column"},[a("div",{staticClass:"ciyun"},[a("div",{staticClass:"chart"},[a("h2",[t._v("动态词云图")]),t._v(" "),a("div",{attrs:{id:"wrap"}},[a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("过零丁洋")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("绝句")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("春夜")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("夏日绝句")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("李清照")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("七步诗")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("曹植")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("汉乐府")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("长歌行")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("观沧海")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("曹操")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("陶渊明")]),t._v(" "),a("a",{staticClass:"tag",attrs:{href:"#/primary1"}},[t._v("归园田居")])])])]),t._v(" "),a("div",{staticClass:"pie"},[a("div",{staticClass:"piechart",attrs:{id:"piechart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"btnlist"},[e("div",{attrs:{id:"leibie"}},[e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var On=a("VU/8")(Ln,Sn,!1,function(t){a("/wd6")},"data-v-00e45370",null).exports,Bn={methods:{tojinchao:function(){this.$router.push("./jinchao")},tolianghan:function(){this.$router.push("./lianghan")},tomingchao:function(){this.$router.push("./mingdai")},tonanbeichao:function(){this.$router.push("./nanbeichao")},toqingchao:function(){this.$router.push("./qing")},tosongchao:function(){this.$router.push("./song")},tosuichao:function(){this.$router.push("./sui")},totangchao:function(){this.$router.push("./tang")},toweijin:function(){this.$router.push("./weijin")},towudai:function(){this.$router.push("./wudai")},toxianqin:function(){this.$router.push("./xianqin")},toyuanchao:function(){this.$router.push("./yuan")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-800).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){if(t.name)return 25;return t.dynasty.indexOf("省")>0?40:30}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name){var p=h;if(h.name)v()("#info1").append("<p><span>关键字:</span>诗人信息</p>"),v()("#info1").append("<p><span>"+p.info+"</span></p>");else{p.dynasty.indexOf("省")>0?v()("#info1").append("<p><span>关键字:</span>省级地区</p>"):p.dynasty.indexOf("市")>0?v()("#info1").append("<p><span>关键字:</span>市级地区</p>"):p.dynasty.indexOf("县")>0?v()("#info1").append("<p><span>关键字:</span>县级地区</p>"):v()("#info1").append("<p><span>关键字:</span>不详</p>")}}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(!a.name){y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var m=new Image;m.onload=function(){},m.src="../../../../static/诗人图片/"+a.name+".jpg",m.fileSize>0||m.width>0&&m.height,m.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)||(n=a.dynasty),c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"}),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/shiren/金朝诗人.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/shiren/金朝诗人.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initRadar:function(){a("XLwt").init(document.getElementById("radarchart")).setOption({title:{text:"各省份诗人数量",left:"center"},tooltip:{trigger:"axis"},radar:[{indicator:[{text:"山西省",max:10},{text:"河南省",max:10},{text:"河北省",max:10},{text:"山东省",max:10},{text:"内蒙古",max:10}],center:["50%","50%"],radius:100}],series:[{type:"radar",tooltip:{trigger:"item"},areaStyle:{},data:[{value:[6,2,6,3,3],name:"各省市诗人数量"}]}]})},initBar:function(){a("XLwt").init(document.getElementById("barchart")).setOption({title:{text:"TOP10诗人",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:[{type:"category",data:["元好问","王寂","段成己","刘迎","蔡圭","刘仲尹","赵沨","完颜亮","邓千江","马钰"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"诗词数量",type:"bar",barWidth:"40%",data:[928,291,273,78,44,43,31,18,12,3]}]})}},mounted:function(){this.initGraph(),this.initRadar(),this.initBar()}},Xn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxianqin}},[t._v("先秦")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolianghan}},[t._v("两汉")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toweijin}},[t._v("魏晋")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tonanbeichao}},[t._v("南北朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosuichao}},[t._v("隋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totangchao}},[t._v("唐朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.towudai}},[t._v("五代")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosongchao}},[t._v("宋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tojinchao}},[t._v("金朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuanchao}},[t._v("元朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tomingchao}},[t._v("明朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqingchao}},[t._v("清朝")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("金朝")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column"},[e("div",{staticClass:"top"},[e("div",{staticClass:"barchart",attrs:{id:"barchart"}})]),this._v(" "),e("div",{staticClass:"radar"},[e("div",{staticClass:"radarchart",attrs:{id:"radarchart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Pn=a("VU/8")(Bn,Xn,!1,function(t){a("RHDf")},"data-v-b47bd292",null).exports,qn={methods:{tojinchao:function(){this.$router.push("./jinchao")},tolianghan:function(){this.$router.push("./lianghan")},tomingchao:function(){this.$router.push("./mingdai")},tonanbeichao:function(){this.$router.push("./nanbeichao")},toqingchao:function(){this.$router.push("./qing")},tosongchao:function(){this.$router.push("./song")},tosuichao:function(){this.$router.push("./sui")},totangchao:function(){this.$router.push("./tang")},toweijin:function(){this.$router.push("./weijin")},towudai:function(){this.$router.push("./wudai")},toxianqin:function(){this.$router.push("./xianqin")},toyuanchao:function(){this.$router.push("./yuan")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){if(t.name)return 25;return t.dynasty.indexOf("省")>0?40:30}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name){var p=h;if(h.name)v()("#info1").append("<p><span>关键字:</span>诗人信息</p>"),v()("#info1").append("<p><span>"+p.info+"</span></p>");else{p.dynasty.indexOf("省")>0?v()("#info1").append("<p><span>关键字:</span>省级地区</p>"):p.dynasty.indexOf("市")>0?v()("#info1").append("<p><span>关键字:</span>市级地区</p>"):p.dynasty.indexOf("县")>0?v()("#info1").append("<p><span>关键字:</span>县级地区</p>"):v()("#info1").append("<p><span>关键字:</span>不详</p>")}}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(!a.name){y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var m=new Image;m.onload=function(){},m.src="../../../../static/诗人图片/"+a.name+".jpg",m.fileSize>0||m.width>0&&m.height,m.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)||(n=a.dynasty),c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"}),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/shiren/两汉诗人.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/shiren/两汉诗人.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initRadar:function(){a("XLwt").init(document.getElementById("radarchart")).setOption({title:{text:"各省份诗人数量",left:"center"},tooltip:{trigger:"axis"},radar:[{indicator:[{text:"四川省",max:15},{text:"陕西省",max:15},{text:"山东省",max:15},{text:"河南省",max:15},{text:"甘肃省",max:15}],center:["50%","50%"],radius:100}],series:[{type:"radar",tooltip:{trigger:"item"},areaStyle:{},data:[{value:[5,11,7,12,4],name:"各省市诗人数量"}]}]})},initBar:function(){a("XLwt").init(document.getElementById("barchart")).setOption({title:{text:"TOP10诗人",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:[{type:"category",data:["曹植","王褒","王粲","曹操","刘桢","张衡","司马迁","刘向","班固","刘彻"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"诗词数量",type:"bar",barWidth:"40%",data:[194,111,34,33,29,28,27,21,21,16]}]})}},mounted:function(){this.initGraph(),this.initRadar(),this.initBar()}},Yn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxianqin}},[t._v("先秦")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolianghan}},[t._v("两汉")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toweijin}},[t._v("魏晋")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tonanbeichao}},[t._v("南北朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosuichao}},[t._v("隋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totangchao}},[t._v("唐朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.towudai}},[t._v("五代")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosongchao}},[t._v("宋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tojinchao}},[t._v("金朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuanchao}},[t._v("元朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tomingchao}},[t._v("明朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqingchao}},[t._v("清朝")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("两汉")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column"},[e("div",{staticClass:"top"},[e("div",{staticClass:"barchart",attrs:{id:"barchart"}})]),this._v(" "),e("div",{staticClass:"radar"},[e("div",{staticClass:"radarchart",attrs:{id:"radarchart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Un=a("VU/8")(qn,Yn,!1,function(t){a("oPDm")},"data-v-d13c2af0",null).exports,Zn={methods:{tojinchao:function(){this.$router.push("./jinchao")},tolianghan:function(){this.$router.push("./lianghan")},tomingchao:function(){this.$router.push("./mingdai")},tonanbeichao:function(){this.$router.push("./nanbeichao")},toqingchao:function(){this.$router.push("./qing")},tosongchao:function(){this.$router.push("./song")},tosuichao:function(){this.$router.push("./sui")},totangchao:function(){this.$router.push("./tang")},toweijin:function(){this.$router.push("./weijin")},towudai:function(){this.$router.push("./wudai")},toxianqin:function(){this.$router.push("./xianqin")},toyuanchao:function(){this.$router.push("./yuan")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){if(t.name)return 25;return t.dynasty.indexOf("省")>0?40:30}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name){var p=h;if(h.name)v()("#info1").append("<p><span>关键字:</span>诗人信息</p>"),v()("#info1").append("<p><span>"+p.info+"</span></p>");else{p.dynasty.indexOf("省")>0?v()("#info1").append("<p><span>关键字:</span>省级地区</p>"):p.dynasty.indexOf("市")>0?v()("#info1").append("<p><span>关键字:</span>市级地区</p>"):p.dynasty.indexOf("县")>0?v()("#info1").append("<p><span>关键字:</span>县级地区</p>"):v()("#info1").append("<p><span>关键字:</span>不详</p>")}}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(!a.name){y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var m=new Image;m.onload=function(){},m.src="../../../../static/诗人图片/"+a.name+".jpg",m.fileSize>0||m.width>0&&m.height,m.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)||(n=a.dynasty),c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"}),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/shiren/明代诗人.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/shiren/明代诗人.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initRadar:function(){a("XLwt").init(document.getElementById("radarchart")).setOption({title:{text:"各省份诗人数量",left:"center"},tooltip:{trigger:"axis"},radar:[{indicator:[{text:"浙江省",max:25},{text:"上海市",max:25},{text:"江苏省",max:25},{text:"湖北省",max:25},{text:"山东省",max:25}],center:["50%","50%"],radius:100}],series:[{type:"radar",tooltip:{trigger:"item"},areaStyle:{},data:[{value:[10,5,24,5,4],name:"各省市诗人数量"}]}]})},initBar:function(){a("XLwt").init(document.getElementById("barchart")).setOption({title:{text:"TOP10诗人",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:[{type:"category",data:["王世贞","李梦阳","杨士奇","刘基","袁宏道","何景明","李东阳","徐渭","杨慎","王夫之"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"诗词数量",type:"bar",barWidth:"40%",data:[6924,2173,2064,1695,1663,1631,1553,1545,1542,1505]}]})}},mounted:function(){this.initGraph(),this.initRadar(),this.initBar()}},Dn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxianqin}},[t._v("先秦")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolianghan}},[t._v("两汉")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toweijin}},[t._v("魏晋")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tonanbeichao}},[t._v("南北朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosuichao}},[t._v("隋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totangchao}},[t._v("唐朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.towudai}},[t._v("五代")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosongchao}},[t._v("宋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tojinchao}},[t._v("金朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuanchao}},[t._v("元朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tomingchao}},[t._v("明朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqingchao}},[t._v("清朝")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("明朝")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column"},[e("div",{staticClass:"top"},[e("div",{staticClass:"barchart",attrs:{id:"barchart"}})]),this._v(" "),e("div",{staticClass:"radar"},[e("div",{staticClass:"radarchart",attrs:{id:"radarchart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Gn=a("VU/8")(Zn,Dn,!1,function(t){a("6NqX")},"data-v-64712de3",null).exports,Nn={methods:{tojinchao:function(){this.$router.push("./jinchao")},tolianghan:function(){this.$router.push("./lianghan")},tomingchao:function(){this.$router.push("./mingdai")},tonanbeichao:function(){this.$router.push("./nanbeichao")},toqingchao:function(){this.$router.push("./qing")},tosongchao:function(){this.$router.push("./song")},tosuichao:function(){this.$router.push("./sui")},totangchao:function(){this.$router.push("./tang")},toweijin:function(){this.$router.push("./weijin")},towudai:function(){this.$router.push("./wudai")},toxianqin:function(){this.$router.push("./xianqin")},toyuanchao:function(){this.$router.push("./yuan")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){if(t.name)return 25;return t.dynasty.indexOf("省")>0?40:30}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name){var p=h;if(h.name)v()("#info1").append("<p><span>关键字:</span>诗人信息</p>"),v()("#info1").append("<p><span>"+p.info+"</span></p>");else{p.dynasty.indexOf("省")>0?v()("#info1").append("<p><span>关键字:</span>省级地区</p>"):p.dynasty.indexOf("市")>0?v()("#info1").append("<p><span>关键字:</span>市级地区</p>"):p.dynasty.indexOf("县")>0?v()("#info1").append("<p><span>关键字:</span>县级地区</p>"):v()("#info1").append("<p><span>关键字:</span>不详</p>")}}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(!a.name){y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var m=new Image;m.onload=function(){},m.src="../../../../static/诗人图片/"+a.name+".jpg",m.fileSize>0||m.width>0&&m.height,m.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)||(n=a.dynasty),c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"}),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/shiren/南北朝诗人.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/shiren/南北朝诗人.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initRadar:function(){a("XLwt").init(document.getElementById("radarchart")).setOption({title:{text:"各省份诗人数量",left:"center"},tooltip:{trigger:"axis"},radar:[{indicator:[{text:"浙江省",max:20},{text:"山东省",max:20},{text:"江苏省",max:20},{text:"河南省",max:20},{text:"河北省",max:20}],center:["50%","50%"],radius:100}],series:[{type:"radar",tooltip:{trigger:"item"},areaStyle:{},data:[{value:[9,18,19,16,5],name:"各省市诗人数量"}]}]})},initBar:function(){a("XLwt").init(document.getElementById("barchart")).setOption({title:{text:"TOP10诗人",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:[{type:"category",data:["庾信","沈约","谢朓","鲍照","萧纲","江淹","何逊","萧衍","吴均","谢灵运"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"诗词数量",type:"bar",barWidth:"40%",data:[507,426,302,296,277,221,157,155,154,147]}]})}},mounted:function(){this.initGraph(),this.initRadar(),this.initBar()}},Wn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxianqin}},[t._v("先秦")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolianghan}},[t._v("两汉")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toweijin}},[t._v("魏晋")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tonanbeichao}},[t._v("南北朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosuichao}},[t._v("隋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totangchao}},[t._v("唐朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.towudai}},[t._v("五代")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosongchao}},[t._v("宋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tojinchao}},[t._v("金朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuanchao}},[t._v("元朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tomingchao}},[t._v("明朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqingchao}},[t._v("清朝")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("南北朝")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column"},[e("div",{staticClass:"top"},[e("div",{staticClass:"barchart",attrs:{id:"barchart"}})]),this._v(" "),e("div",{staticClass:"radar"},[e("div",{staticClass:"radarchart",attrs:{id:"radarchart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Hn=a("VU/8")(Nn,Wn,!1,function(t){a("s/qf")},"data-v-2f42d990",null).exports,Fn={methods:{tojinchao:function(){this.$router.push("./jinchao")},tolianghan:function(){this.$router.push("./lianghan")},tomingchao:function(){this.$router.push("./mingdai")},tonanbeichao:function(){this.$router.push("./nanbeichao")},toqingchao:function(){this.$router.push("./qing")},tosongchao:function(){this.$router.push("./song")},tosuichao:function(){this.$router.push("./sui")},totangchao:function(){this.$router.push("./tang")},toweijin:function(){this.$router.push("./weijin")},towudai:function(){this.$router.push("./wudai")},toxianqin:function(){this.$router.push("./xianqin")},toyuanchao:function(){this.$router.push("./yuan")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){if(t.name)return 25;return t.dynasty.indexOf("省")>0?40:30}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name){var p=h;if(h.name)v()("#info1").append("<p><span>关键字:</span>诗人信息</p>"),v()("#info1").append("<p><span>"+p.info+"</span></p>");else{p.dynasty.indexOf("省")>0?v()("#info1").append("<p><span>关键字:</span>省级地区</p>"):p.dynasty.indexOf("市")>0?v()("#info1").append("<p><span>关键字:</span>市级地区</p>"):p.dynasty.indexOf("县")>0?v()("#info1").append("<p><span>关键字:</span>县级地区</p>"):v()("#info1").append("<p><span>关键字:</span>不详</p>")}}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(!a.name){y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var m=new Image;m.onload=function(){},m.src="../../../../static/诗人图片/"+a.name+".jpg",m.fileSize>0||m.width>0&&m.height,m.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)||(n=a.dynasty),c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"}),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/shiren/清代诗人.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/shiren/清代诗人.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initRadar:function(){a("XLwt").init(document.getElementById("radarchart")).setOption({title:{text:"各省份诗人数量",left:"center"},tooltip:{trigger:"axis"},radar:[{indicator:[{text:"浙江省",max:25},{text:"山东省",max:25},{text:"江苏省",max:25},{text:"广东省",max:25},{text:"安徽省",max:25},{text:"湖南省",max:25}],center:["50%","50%"],radius:100}],series:[{type:"radar",tooltip:{trigger:"item"},areaStyle:{},data:[{value:[23,6,24,6,11,5],name:"各省市诗人数量"}]}]})},initBar:function(){a("XLwt").init(document.getElementById("barchart")).setOption({title:{text:"TOP10诗人",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:[{type:"category",data:["屈大均","姚燮","陈恭尹","丘逢甲","陈维崧","黄遵宪","姚鼐","龚自珍","洪亮吉","顾炎武"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"诗词数量",type:"bar",barWidth:"40%",data:[6719,3916,1873,1786,1730,838,730,659,444,404]}]})}},mounted:function(){this.initGraph(),this.initRadar(),this.initBar()}},Vn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxianqin}},[t._v("先秦")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolianghan}},[t._v("两汉")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toweijin}},[t._v("魏晋")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tonanbeichao}},[t._v("南北朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosuichao}},[t._v("隋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totangchao}},[t._v("唐朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.towudai}},[t._v("五代")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosongchao}},[t._v("宋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tojinchao}},[t._v("金朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuanchao}},[t._v("元朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tomingchao}},[t._v("明朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqingchao}},[t._v("清朝")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("清朝")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column"},[e("div",{staticClass:"top"},[e("div",{staticClass:"barchart",attrs:{id:"barchart"}})]),this._v(" "),e("div",{staticClass:"radar"},[e("div",{staticClass:"radarchart",attrs:{id:"radarchart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var Jn=a("VU/8")(Fn,Vn,!1,function(t){a("9D4Q")},"data-v-0b5dab8c",null).exports,Kn={methods:{tojinchao:function(){this.$router.push("./jinchao")},tolianghan:function(){this.$router.push("./lianghan")},tomingchao:function(){this.$router.push("./mingdai")},tonanbeichao:function(){this.$router.push("./nanbeichao")},toqingchao:function(){this.$router.push("./qing")},tosongchao:function(){this.$router.push("./song")},tosuichao:function(){this.$router.push("./sui")},totangchao:function(){this.$router.push("./tang")},toweijin:function(){this.$router.push("./weijin")},towudai:function(){this.$router.push("./wudai")},toxianqin:function(){this.$router.push("./xianqin")},toyuanchao:function(){this.$router.push("./yuan")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){if(t.name)return 25;return t.dynasty.indexOf("省")>0?40:30}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name){var p=h;if(h.name)v()("#info1").append("<p><span>关键字:</span>诗人信息</p>"),v()("#info1").append("<p><span>"+p.info+"</span></p>");else{p.dynasty.indexOf("省")>0?v()("#info1").append("<p><span>关键字:</span>省级地区</p>"):p.dynasty.indexOf("市")>0?v()("#info1").append("<p><span>关键字:</span>市级地区</p>"):p.dynasty.indexOf("县")>0?v()("#info1").append("<p><span>关键字:</span>县级地区</p>"):v()("#info1").append("<p><span>关键字:</span>不详</p>")}}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(!a.name){y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var m=new Image;m.onload=function(){},m.src="../../../../static/诗人图片/"+a.name+".jpg",m.fileSize>0||m.width>0&&m.height,m.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)||(n=a.dynasty),c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"}),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/shiren/宋代诗人.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/shiren/宋代诗人.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initRadar:function(){a("XLwt").init(document.getElementById("radarchart")).setOption({title:{text:"各省份诗人数量",left:"center"},tooltip:{trigger:"axis"},radar:[{indicator:[{text:"浙江省",max:20},{text:"江西省",max:20},{text:"河南省",max:20},{text:"福建省",max:20},{text:"山东省",max:20},{text:"安徽省",max:20}],center:["50%","50%"],radius:100}],series:[{type:"radar",tooltip:{trigger:"item"},areaStyle:{},data:[{value:[19,19,12,9,6,5],name:"各省市诗人数量"}]}]})},initBar:function(){a("XLwt").init(document.getElementById("barchart")).setOption({title:{text:"TOP10诗人",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:[{type:"category",data:["陆游","苏轼","刘克庄","杨万里","梅尧臣","黄庭坚","范成大","欧阳修","辛弃疾","王安石"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"诗词数量",type:"bar",barWidth:"40%",data:[10452,3357,5453,5030,3222,2642,2323,1341,905,1931]}]})}},mounted:function(){this.initGraph(),this.initRadar(),this.initBar()}},Qn={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxianqin}},[t._v("先秦")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolianghan}},[t._v("两汉")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toweijin}},[t._v("魏晋")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tonanbeichao}},[t._v("南北朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosuichao}},[t._v("隋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totangchao}},[t._v("唐朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.towudai}},[t._v("五代")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosongchao}},[t._v("宋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tojinchao}},[t._v("金朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuanchao}},[t._v("元朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tomingchao}},[t._v("明朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqingchao}},[t._v("清朝")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("宋朝")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column"},[e("div",{staticClass:"top"},[e("div",{staticClass:"barchart",attrs:{id:"barchart"}})]),this._v(" "),e("div",{staticClass:"radar"},[e("div",{staticClass:"radarchart",attrs:{id:"radarchart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var ti=a("VU/8")(Kn,Qn,!1,function(t){a("Ou2Z")},"data-v-1cfe5c46",null).exports,ei={methods:{tojinchao:function(){this.$router.push("./jinchao")},tolianghan:function(){this.$router.push("./lianghan")},tomingchao:function(){this.$router.push("./mingdai")},tonanbeichao:function(){this.$router.push("./nanbeichao")},toqingchao:function(){this.$router.push("./qing")},tosongchao:function(){this.$router.push("./song")},tosuichao:function(){this.$router.push("./sui")},totangchao:function(){this.$router.push("./tang")},toweijin:function(){this.$router.push("./weijin")},towudai:function(){this.$router.push("./wudai")},toxianqin:function(){this.$router.push("./xianqin")},toyuanchao:function(){this.$router.push("./yuan")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){if(t.name)return 25;return t.dynasty.indexOf("省")>0?40:30}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name){var p=h;if(h.name)v()("#info1").append("<p><span>关键字:</span>诗人信息</p>"),v()("#info1").append("<p><span>"+p.info+"</span></p>");else{p.dynasty.indexOf("省")>0?v()("#info1").append("<p><span>关键字:</span>省级地区</p>"):p.dynasty.indexOf("市")>0?v()("#info1").append("<p><span>关键字:</span>市级地区</p>"):p.dynasty.indexOf("县")>0?v()("#info1").append("<p><span>关键字:</span>县级地区</p>"):v()("#info1").append("<p><span>关键字:</span>不详</p>")}}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(!a.name){y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var m=new Image;m.onload=function(){},m.src="../../../../static/诗人图片/"+a.name+".jpg",m.fileSize>0||m.width>0&&m.height,m.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)||(n=a.dynasty),c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"}),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/shiren/隋代诗人.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/shiren/隋代诗人.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initRadar:function(){a("XLwt").init(document.getElementById("radarchart")).setOption({title:{text:"各省份诗人数量",left:"center"},tooltip:{trigger:"axis"},radar:[{indicator:[{text:"陕西省",max:100},{text:"浙江省",max:100},{text:"安徽省",max:100},{text:"福建省",max:100},{text:"河南省",max:100}],center:["50%","50%"],radius:100}],series:[{type:"radar",tooltip:{trigger:"item"},areaStyle:{},data:[{value:[60,73,85,40,50],name:"各省市诗人数量"}]}]})},initBar:function(){a("XLwt").init(document.getElementById("barchart")).setOption({title:{text:"TOP10诗人",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:[{type:"category",data:["李白","杜甫","白居易","郭嘉龙","呼帅亮","田萌萌","郭小白1","郭小白2","郭小白3","郭小白4"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"诗词数量",type:"bar",barWidth:"40%",data:[120,200,150,80,70,110,130,185,85,320]}]})}},mounted:function(){this.initGraph(),this.initRadar(),this.initBar()}},ai={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxianqin}},[t._v("先秦")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolianghan}},[t._v("两汉")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toweijin}},[t._v("魏晋")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tonanbeichao}},[t._v("南北朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosuichao}},[t._v("隋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totangchao}},[t._v("唐朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.towudai}},[t._v("五代")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosongchao}},[t._v("宋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tojinchao}},[t._v("金朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuanchao}},[t._v("元朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tomingchao}},[t._v("明朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqingchao}},[t._v("清朝")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("隋朝")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column"},[e("div",{staticClass:"top"},[e("div",{staticClass:"barchart",attrs:{id:"barchart"}})]),this._v(" "),e("div",{staticClass:"radar"},[e("div",{staticClass:"radarchart",attrs:{id:"radarchart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var ni=a("VU/8")(ei,ai,!1,function(t){a("5XDc")},"data-v-50bd5c71",null).exports,ii={methods:{tojinchao:function(){this.$router.push("./jinchao")},tolianghan:function(){this.$router.push("./lianghan")},tomingchao:function(){this.$router.push("./mingdai")},tonanbeichao:function(){this.$router.push("./nanbeichao")},toqingchao:function(){this.$router.push("./qing")},tosongchao:function(){this.$router.push("./song")},tosuichao:function(){this.$router.push("./sui")},totangchao:function(){this.$router.push("./tang")},toweijin:function(){this.$router.push("./weijin")},towudai:function(){this.$router.push("./wudai")},toxianqin:function(){this.$router.push("./xianqin")},toyuanchao:function(){this.$router.push("./yuan")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){if(t.name)return 25;return t.dynasty.indexOf("省")>0?40:30}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name){var p=h;if(h.name)v()("#info1").append("<p><span>关键字:</span>诗人信息</p>"),v()("#info1").append("<p><span>"+p.info+"</span></p>");else{p.dynasty.indexOf("省")>0?v()("#info1").append("<p><span>关键字:</span>省级地区</p>"):p.dynasty.indexOf("市")>0?v()("#info1").append("<p><span>关键字:</span>市级地区</p>"):p.dynasty.indexOf("县")>0?v()("#info1").append("<p><span>关键字:</span>县级地区</p>"):v()("#info1").append("<p><span>关键字:</span>不详</p>")}}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(!a.name){y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var m=new Image;m.onload=function(){},m.src="../../../../static/诗人图片/"+a.name+".jpg",m.fileSize>0||m.width>0&&m.height,m.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)||(n=a.dynasty),c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"}),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/shiren/唐代诗人.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/shiren/唐代诗人.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initRadar:function(){a("XLwt").init(document.getElementById("radarchart")).setOption({title:{text:"各省份诗人数量",left:"center"},tooltip:{trigger:"axis"},radar:[{indicator:[{text:"浙江省",max:20},{text:"陕西省",max:20},{text:"山西省",max:20},{text:"河南省",max:20},{text:"安徽省",max:20},{text:"江苏省",max:20}],center:["50%","50%"],radius:100}],series:[{type:"radar",tooltip:{trigger:"item"},areaStyle:{},data:[{value:[14,10,14,17,7,6],name:"各省市诗人数量"}]}]})},initBar:function(){a("XLwt").init(document.getElementById("barchart")).setOption({title:{text:"TOP10诗人",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:[{type:"category",data:["白居易","杜甫","李白","齐己","刘禹锡","元稹","贯休","李商隐","韦应物","陆龟蒙"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"诗词数量",type:"bar",barWidth:"40%",data:[3085,1378,1185,814,812,720,600,597,589,588]}]})}},mounted:function(){this.initGraph(),this.initRadar(),this.initBar()}},ri={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxianqin}},[t._v("先秦")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolianghan}},[t._v("两汉")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toweijin}},[t._v("魏晋")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tonanbeichao}},[t._v("南北朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosuichao}},[t._v("隋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totangchao}},[t._v("唐朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.towudai}},[t._v("五代")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosongchao}},[t._v("宋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tojinchao}},[t._v("金朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuanchao}},[t._v("元朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tomingchao}},[t._v("明朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqingchao}},[t._v("清朝")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("唐朝")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column"},[e("div",{staticClass:"top"},[e("div",{staticClass:"barchart",attrs:{id:"barchart"}})]),this._v(" "),e("div",{staticClass:"radar"},[e("div",{staticClass:"radarchart",attrs:{id:"radarchart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var si=a("VU/8")(ii,ri,!1,function(t){a("76vk")},"data-v-179710b4",null).exports,oi={methods:{tojinchao:function(){this.$router.push("./jinchao")},tolianghan:function(){this.$router.push("./lianghan")},tomingchao:function(){this.$router.push("./mingdai")},tonanbeichao:function(){this.$router.push("./nanbeichao")},toqingchao:function(){this.$router.push("./qing")},tosongchao:function(){this.$router.push("./song")},tosuichao:function(){this.$router.push("./sui")},totangchao:function(){this.$router.push("./tang")},toweijin:function(){this.$router.push("./weijin")},towudai:function(){this.$router.push("./wudai")},toxianqin:function(){this.$router.push("./xianqin")},toyuanchao:function(){this.$router.push("./yuan")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){if(t.name)return 25;return t.dynasty.indexOf("省")>0?40:30}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name){var p=h;if(h.name)v()("#info1").append("<p><span>关键字:</span>诗人信息</p>"),v()("#info1").append("<p><span>"+p.info+"</span></p>");else{p.dynasty.indexOf("省")>0?v()("#info1").append("<p><span>关键字:</span>省级地区</p>"):p.dynasty.indexOf("市")>0?v()("#info1").append("<p><span>关键字:</span>市级地区</p>"):p.dynasty.indexOf("县")>0?v()("#info1").append("<p><span>关键字:</span>县级地区</p>"):v()("#info1").append("<p><span>关键字:</span>不详</p>")}}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(!a.name){y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var m=new Image;m.onload=function(){},m.src="../../../../static/诗人图片/"+a.name+".jpg",m.fileSize>0||m.width>0&&m.height,m.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)||(n=a.dynasty),c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"}),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/shiren/魏晋诗人.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/shiren/魏晋诗人.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initRadar:function(){a("XLwt").init(document.getElementById("radarchart")).setOption({title:{text:"各省份诗人数量",left:"center"},tooltip:{trigger:"axis"},radar:[{indicator:[{text:"山东省",max:15},{text:"河南省",max:15},{text:"河北省",max:15},{text:"四川省",max:15},{text:"安徽省",max:15},{text:"山西省",max:15}],center:["50%","50%"],radius:100}],series:[{type:"radar",tooltip:{trigger:"item"},areaStyle:{},data:[{value:[12,12,11,2,8,3],name:"各省市诗人数量"}]}]})},initBar:function(){a("XLwt").init(document.getElementById("barchart")).setOption({title:{text:"TOP10诗人",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:[{type:"category",data:["陆机","陶渊明","傅玄","张载","曹丕","阮籍","郭璞","嵇康","张华","潘岳"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"诗词数量",type:"bar",barWidth:"40%",data:[137,134,120,109,69,61,60,58,51,23]}]})}},mounted:function(){this.initGraph(),this.initRadar(),this.initBar()}},ci={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxianqin}},[t._v("先秦")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolianghan}},[t._v("两汉")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toweijin}},[t._v("魏晋")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tonanbeichao}},[t._v("南北朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosuichao}},[t._v("隋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totangchao}},[t._v("唐朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.towudai}},[t._v("五代")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosongchao}},[t._v("宋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tojinchao}},[t._v("金朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuanchao}},[t._v("元朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tomingchao}},[t._v("明朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqingchao}},[t._v("清朝")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("魏晋")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column"},[e("div",{staticClass:"top"},[e("div",{staticClass:"barchart",attrs:{id:"barchart"}})]),this._v(" "),e("div",{staticClass:"radar"},[e("div",{staticClass:"radarchart",attrs:{id:"radarchart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var li=a("VU/8")(oi,ci,!1,function(t){a("BkkX")},"data-v-550ef3ec",null).exports,ui={methods:{tojinchao:function(){this.$router.push("./jinchao")},tolianghan:function(){this.$router.push("./lianghan")},tomingchao:function(){this.$router.push("./mingdai")},tonanbeichao:function(){this.$router.push("./nanbeichao")},toqingchao:function(){this.$router.push("./qing")},tosongchao:function(){this.$router.push("./song")},tosuichao:function(){this.$router.push("./sui")},totangchao:function(){this.$router.push("./tang")},toweijin:function(){this.$router.push("./weijin")},towudai:function(){this.$router.push("./wudai")},toxianqin:function(){this.$router.push("./xianqin")},toyuanchao:function(){this.$router.push("./yuan")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){if(t.name)return 25;return t.dynasty.indexOf("省")>0?40:30}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name){var p=h;if(h.name)v()("#info1").append("<p><span>关键字:</span>诗人信息</p>"),v()("#info1").append("<p><span>"+p.info+"</span></p>");else{p.dynasty.indexOf("省")>0?v()("#info1").append("<p><span>关键字:</span>省级地区</p>"):p.dynasty.indexOf("市")>0?v()("#info1").append("<p><span>关键字:</span>市级地区</p>"):p.dynasty.indexOf("县")>0?v()("#info1").append("<p><span>关键字:</span>县级地区</p>"):v()("#info1").append("<p><span>关键字:</span>不详</p>")}}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(!a.name){y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var m=new Image;m.onload=function(){},m.src="../../../../static/诗人图片/"+a.name+".jpg",m.fileSize>0||m.width>0&&m.height,m.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)||(n=a.dynasty),c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"}),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/shiren/五代诗人.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/shiren/五代诗人.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initRadar:function(){a("XLwt").init(document.getElementById("radarchart")).setOption({title:{text:"各省份诗人数量",left:"center"},tooltip:{trigger:"axis"},radar:[{indicator:[{text:"河北省",max:10},{text:"江苏省",max:10},{text:"安徽省",max:10},{text:"山东省",max:10},{text:"四川省",max:10},{text:"广东省",max:10}],center:["50%","50%"],radius:100}],series:[{type:"radar",tooltip:{trigger:"item"},areaStyle:{},data:[{value:[7,4,3,2,2,2],name:"各省市诗人数量"}]}]})},initBar:function(){a("XLwt").init(document.getElementById("barchart")).setOption({title:{text:"TOP10诗人",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:[{type:"category",data:["李中","冯延巳","李煜","孙光宪","和凝","谭用之","毛文锡","李珣","顾夐","修睦"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"诗词数量",type:"bar",barWidth:"40%",data:[301,154,69,61,55,45,38,36,27,27]}]})}},mounted:function(){this.initGraph(),this.initRadar(),this.initBar()}},di={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxianqin}},[t._v("先秦")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolianghan}},[t._v("两汉")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toweijin}},[t._v("魏晋")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tonanbeichao}},[t._v("南北朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosuichao}},[t._v("隋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totangchao}},[t._v("唐朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.towudai}},[t._v("五代")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosongchao}},[t._v("宋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tojinchao}},[t._v("金朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuanchao}},[t._v("元朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tomingchao}},[t._v("明朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqingchao}},[t._v("清朝")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("五代")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column"},[e("div",{staticClass:"top"},[e("div",{staticClass:"barchart",attrs:{id:"barchart"}})]),this._v(" "),e("div",{staticClass:"radar"},[e("div",{staticClass:"radarchart",attrs:{id:"radarchart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var hi=a("VU/8")(ui,di,!1,function(t){a("dcPL")},"data-v-0548c949",null).exports,fi={methods:{tojinchao:function(){this.$router.push("./jinchao")},tolianghan:function(){this.$router.push("./lianghan")},tomingchao:function(){this.$router.push("./mingdai")},tonanbeichao:function(){this.$router.push("./nanbeichao")},toqingchao:function(){this.$router.push("./qing")},tosongchao:function(){this.$router.push("./song")},tosuichao:function(){this.$router.push("./sui")},totangchao:function(){this.$router.push("./tang")},toweijin:function(){this.$router.push("./weijin")},towudai:function(){this.$router.push("./wudai")},toxianqin:function(){this.$router.push("./xianqin")},toyuanchao:function(){this.$router.push("./yuan")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){if(t.name)return 25;return t.dynasty.indexOf("省")>0?40:30}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name){var p=h;if(h.name)v()("#info1").append("<p><span>关键字:</span>诗人信息</p>"),v()("#info1").append("<p><span>"+p.info+"</span></p>");else{p.dynasty.indexOf("省")>0?v()("#info1").append("<p><span>关键字:</span>省级地区</p>"):p.dynasty.indexOf("市")>0?v()("#info1").append("<p><span>关键字:</span>市级地区</p>"):p.dynasty.indexOf("县")>0?v()("#info1").append("<p><span>关键字:</span>县级地区</p>"):v()("#info1").append("<p><span>关键字:</span>不详</p>")}}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(!a.name){y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var m=new Image;m.onload=function(){},m.src="../../../../static/诗人图片/"+a.name+".jpg",m.fileSize>0||m.width>0&&m.height,m.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)||(n=a.dynasty),c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"}),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/shiren/先秦诗人.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/shiren/先秦诗人.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initRadar:function(){a("XLwt").init(document.getElementById("radarchart")).setOption({title:{text:"各省份诗人数量",left:"center"},tooltip:{trigger:"axis"},radar:[{indicator:[{text:"山东省",max:10},{text:"河南省",max:10},{text:"山西省",max:10},{text:"湖北省",max:10},{text:"河北省",max:10},{text:"江苏省",max:10}],center:["50%","50%"],radius:100}],series:[{type:"radar",tooltip:{trigger:"item"},areaStyle:{},data:[{value:[8,8,1,2,1,1],name:"各省市诗人数量"}]}]})},initBar:function(){a("XLwt").init(document.getElementById("barchart")).setOption({title:{text:"TOP10诗人",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:[{type:"category",data:["左丘明","屈原","韩非","宋玉","庄周","公羊高","荀子","李斯","谷梁赤","项羽"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"诗词数量",type:"bar",barWidth:"40%",data:[41,33,10,7,5,3,2,2,2,1]}]})}},mounted:function(){this.initGraph(),this.initRadar(),this.initBar()}},pi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxianqin}},[t._v("先秦")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolianghan}},[t._v("两汉")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toweijin}},[t._v("魏晋")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tonanbeichao}},[t._v("南北朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosuichao}},[t._v("隋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totangchao}},[t._v("唐朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.towudai}},[t._v("五代")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosongchao}},[t._v("宋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tojinchao}},[t._v("金朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuanchao}},[t._v("元朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tomingchao}},[t._v("明朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqingchao}},[t._v("清朝")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("先秦")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column"},[e("div",{staticClass:"top"},[e("div",{staticClass:"barchart",attrs:{id:"barchart"}})]),this._v(" "),e("div",{staticClass:"radar"},[e("div",{staticClass:"radarchart",attrs:{id:"radarchart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var vi=a("VU/8")(fi,pi,!1,function(t){a("+Bmb")},"data-v-3e03b8d6",null).exports,yi={methods:{tojinchao:function(){this.$router.push("./jinchao")},tolianghan:function(){this.$router.push("./lianghan")},tomingchao:function(){this.$router.push("./mingdai")},tonanbeichao:function(){this.$router.push("./nanbeichao")},toqingchao:function(){this.$router.push("./qing")},tosongchao:function(){this.$router.push("./song")},tosuichao:function(){this.$router.push("./sui")},totangchao:function(){this.$router.push("./tang")},toweijin:function(){this.$router.push("./weijin")},towudai:function(){this.$router.push("./wudai")},toxianqin:function(){this.$router.push("./xianqin")},toyuanchao:function(){this.$router.push("./yuan")},initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)")),l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){if(t.name)return 25;return t.dynasty.indexOf("省")>0?40:30}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){(n=a.name)||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var n,i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;if(h.name==n||h.dynasty==n&&!h.name){var p=h;if(h.name)v()("#info1").append("<p><span>关键字:</span>诗人信息</p>"),v()("#info1").append("<p><span>"+p.info+"</span></p>");else{p.dynasty.indexOf("省")>0?v()("#info1").append("<p><span>关键字:</span>省级地区</p>"):p.dynasty.indexOf("市")>0?v()("#info1").append("<p><span>关键字:</span>市级地区</p>"):p.dynasty.indexOf("县")>0?v()("#info1").append("<p><span>关键字:</span>县级地区</p>"):v()("#info1").append("<p><span>关键字:</span>不详</p>")}}}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(!a.name){y=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+y+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var m=new Image;m.onload=function(){},m.src="../../../../static/诗人图片/"+a.name+".jpg",m.fileSize>0||m.width>0&&m.height,m.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),(n=a.name)||(n=a.dynasty),c.style("stroke-width",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.focus&&a.focus?(t.focus=!1,1):(t.focus=!0,2.5):1}),c.style("stroke",function(t){return t.source.name==n||t.target.name==n||t.source.dynasty==n||t.target.dynasty==n?t.click&&a.click?(t.click=!1,"#666666"):(t.click=!0,"#666666"):"#666666"}),l.style("stroke-width",1),a.click=!a.click,a.focus=!a.focus,e!=a&&null!=e&&(e.click=!1),a.focus?(f.a.select(this).style("stroke-width",2.5),f.a.select(this).style("stroke","#666666")):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1),f.a.select(this).style("stroke","#666666")),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/shiren/元代诗人.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/shiren/元代诗人.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})},initRadar:function(){a("XLwt").init(document.getElementById("radarchart")).setOption({title:{text:"各省份诗人数量",left:"center"},tooltip:{trigger:"axis"},radar:[{indicator:[{text:"浙江省",max:20},{text:"山西省",max:20},{text:"江西省",max:20},{text:"河北省",max:20},{text:"山东省",max:20},{text:"河南省",max:20}],center:["50%","50%"],radius:100}],series:[{type:"radar",tooltip:{trigger:"item"},areaStyle:{},data:[{value:[17,7,8,9,6,5,5],name:"各省市诗人数量"}]}]})},initBar:function(){a("XLwt").init(document.getElementById("barchart")).setOption({title:{text:"TOP10诗人",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:[{type:"category",data:["杨维桢","仇远","张翥","王冕","萨都剌","耶律楚材","赵秉文","范梈","贝琼","叶颙"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"诗词数量",type:"bar",barWidth:"40%",data:[955,870,831,820,775,727,640,626,591,569]}]})}},mounted:function(){this.initGraph(),this.initRadar(),this.initBar()}},mi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[t._m(0),t._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"btnlist"},[a("div",{attrs:{id:"leibie"}},[a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toxianqin}},[t._v("先秦")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tolianghan}},[t._v("两汉")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toweijin}},[t._v("魏晋")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tonanbeichao}},[t._v("南北朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosuichao}},[t._v("隋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.totangchao}},[t._v("唐朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.towudai}},[t._v("五代")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tosongchao}},[t._v("宋朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tojinchao}},[t._v("金朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toyuanchao}},[t._v("元朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.tomingchao}},[t._v("明朝")]),t._v(" "),a("el-button",{staticClass:"btn",attrs:{round:"",type:"mini"},on:{click:t.toqingchao}},[t._v("清朝")])],1),t._v(" "),t._m(1)]),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(2),t._v(" "),a("h2",{staticStyle:{display:"inline-block"}},[t._v("元朝")]),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(3)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column"},[e("div",{staticClass:"top"},[e("div",{staticClass:"barchart",attrs:{id:"barchart"}})]),this._v(" "),e("div",{staticClass:"radar"},[e("div",{staticClass:"radarchart",attrs:{id:"radarchart"}})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var gi=a("VU/8")(yi,mi,!1,function(t){a("EI7Y")},"data-v-51cf7f22",null).exports,_i={methods:{initGraph:function(){var t,e,a=f.a.behavior.zoom().scaleExtent([.25,2]).on("zoom",n);function n(){s.selectAll("g").attr("transform","translate("+a.translate()+")scale("+a.scale()+")")}f.a.selectAll(".zoomBtn").on("click",function(){f.a.event.target;var t,e,s,o,c=[i/2,r/2],l=a.scaleExtent(),u=a.translate(),d={x:u[0],y:u[1],k:a.scale()};if(f.a.event.preventDefault(),t="zoom_in"===this.id?2:-2,(e=a.scale()*(1+.2*t))<l[0]||e>l[1])return!1;s=[(c[0]-d.x)/d.k,(c[1]-d.y)/d.k],d.k=e,o=[s[0]*d.k+d.x,s[1]*d.k+d.y],d.x+=c[0]-o[0],d.y+=c[1]-o[1],function(t,e){f.a.transition().duration(350).tween("zoom",function(){var i=f.a.interpolate(a.translate(),t),r=f.a.interpolate(a.scale(),e);return function(t){a.scale(r(t)).translate(i(t)),n()}})}([d.x,d.y],d.k)});var i=800,r=550,s=f.a.select("#graph").call(a);function o(t){var a=f.a.layout.force().nodes(t.nodes).links(t.edges).size([i,r]).linkDistance(150).charge(-1e3).on("tick",h).start();function n(){return a.drag().on("dragstart",function(t){f.a.event.sourceEvent.stopPropagation()})}s.selectAll("g").call(n());var o=f.a.scale.category20(),c=(s.append("marker").attr("id","resolved").attr("markerUnits","userSpaceOnUse").attr("viewBox","0 -5 10 10").attr("refX",40).attr("refY",0).attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").attr("stroke-width",3).append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#ccc"),s.append("g").attr("class","LINE").selectAll("line").data(t.edges).enter().append("line").attr("from",function(t){return t.source.dynasty?t.source.dynasty:t.source.name}).attr("to",function(t){return t.target.dynasty?t.target.dynasty:t.target.name}).style("stroke","#ccc").style("stroke-width",2).attr("id",function(t,e){return"edgepath"+e}).attr("class","edgepath").attr("marker-end","url(#resolved)"));s.append("g").selectAll(".edgelabel").data(t.edges).enter().append("text").attr({class:"edgelabel",id:function(t,e){return"edgepath"+e},dx:60,dy:0}).append("textPath").attr("xlink:href",function(t,e){return"#edgepath"+e}).style("pointer-events","none").text(function(t){return t.relation});var l=s.append("g").attr("class","CIRCLE").selectAll("circle").data(t.nodes).enter().append("circle").attr("name",function(t){return t.name?t.name:t.dynasty}).style("stroke",function(t){return"#666666"}).style("stroke-width","1").attr("r",function(t){return t.prop?25:40}).style("fill",function(t,e){return o(e)}).on("mouseover",function(t){}).on("click",function(a){var n=a.name;n||(n=a.dynasty),f.a.select("#img1").attr("src","data/2.jpg"),v()("#info1 h4").css("color","#555").text(n),v()("#info1 p").remove();var i=!0,r=!1,s=void 0;try{for(var o,u=d()(t.nodes);!(i=(o=u.next()).done);i=!0){var h=o.value;h.name==n&&(h.prop?(v()("#info1").append("<p><span><b>关键字:</b></span>诗文</p>"),v()("#info1").append("<p><span><b>内容:</b></span>"+h.prop.content+"</p>")):v()("#info1").append("<p><span><b>关键字:</b></span>诗人</p>"))}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}if(a.prop){var p=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+p+".jpg")}if(!a.name){p=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+p+".jpg")}if(a.name&&!a.prop){v()(".myimg").attr("src","../../../../static/诗人图片/"+a.name+".jpg");var y=new Image;y.onload=function(){},y.src="../../../../static/诗人图片/"+a.name+".jpg",y.fileSize>0||y.width>0&&y.height,y.onerror=function(){var t=Math.floor(22*Math.random());v()(".myimg").attr("src","../../../../static/img/"+t+".jpg")}}v()("#tip").show(1e3),c.style("stroke-width",function(t){return t.source.name==a.name||t.target.name==a.name?t.click&&a.click?(t.click=!1,1):(t.click=!0,3):1}),l.style("stroke-width",1),a.focus=!a.focus,e!=a&&null!=e&&(e.focus=!1),a.focus?f.a.select(this).style("stroke-width",2.5):(v()("#tip").hide(1e3),f.a.select(this).style("stroke-width",1)),e=a}).call(n()),u=s.append("g").attr("class","TEXT").selectAll("text").data(t.nodes).enter().append("text").attr("name",function(t){return t.name?t.name:t.dynasty}).style("fill","#000").attr("text-anchor","middle").text(function(t){return t.name?t.name:t.dynasty}).call(n());function h(){c.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),l.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),u.attr("x",function(t){return t.x}).attr("y",function(t){return t.y+5})}a.on("tick",h)}f.a.json("static/json/gaokao/高考.json",function(e,a){t=a,console.log(a),o(a),v()("#mode span").click(function(t){v()("#mode span").removeClass("active"),v()(this).addClass("active"),"节点"==v()(this).text()?(v()(".TEXT text").hide(),v()(".CIRCLE circle").show()):"文字"==v()(this).text()?(v()(".TEXT text").show(),v()(".CIRCLE circle").hide()):(v()(".TEXT text").show(),v()(".CIRCLE circle").show())})});v()(".column input").keyup(function(e){if(13==e.keyCode){var a,n;v()("#graph").empty();var i=[],r=[];if(""==v()(this).val())f.a.json("static/json/gaokao/高考.json",function(t,e){console.log(e),o(e)});else{var c={nodes:[],edges:[]},l=v()(this).val(),u=!0,h=!1,p=void 0;try{for(var y,m=d()(t.nodes);!(u=(y=m.next()).done);u=!0){var g=y.value,_=g.name;if(_||(_=g.dynasty),_.indexOf(l)>=0||l.indexOf(_)>=0){i.push(g);var x=!0,b=!1,k=void 0;try{for(var C,w=d()(t.edges);!(x=(C=w.next()).done);x=!0){var E=C.value,z=E.source.name;z||(z=E.source.dynasty);var T=E.target.name;T||(T=E.target.dynasty),z!=_&&T!=_||(-1==i.indexOf(E.source)&&i.push(E.source),-1==i.indexOf(E.target)&&i.push(E.target))}}catch(t){b=!0,k=t}finally{try{!x&&w.return&&w.return()}finally{if(b)throw k}}}}}catch(t){h=!0,p=t}finally{try{!u&&m.return&&m.return()}finally{if(h)throw p}}var M=!0,j=!1,$=void 0;try{for(var I,A=d()(t.edges);!(M=(I=A.next()).done);M=!0){var R=I.value;a=R.source,n=R.target,-1!=i.indexOf(a)&&-1!=i.indexOf(n)&&r.push(R)}}catch(t){j=!0,$=t}finally{try{!M&&A.return&&A.return()}finally{if(j)throw $}}s.empty(),c.nodes=i,c.edges=r,o(c),1}}})}},mounted:function(){this.initGraph()}},xi={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("section",{staticClass:"mainbox"},[a("div",{staticClass:"column"},[a("div",{staticClass:"ti"},[a("el-collapse",{attrs:{accordion:""}},[a("el-collapse-item",[a("template",{slot:"title"},[t._v("《论语》（共十则）")]),t._v(" "),a("div",[t._v("1.《论语》中，指出学习与思考必须紧密结合的句子是：学而不思则罔，思而不学则殆。")]),t._v(" "),a("div",[t._v("2.《论语》中强调只要善于学习，到处都有老师的句子是：三人行，必有我师焉。")]),t._v(" "),a("div",[t._v("3.《论语》中孔子强调学习态度要端正，切莫不懂装懂的句子是：知之为知之，不知为不知。\n            ")]),t._v(" "),a("div",[t._v("4.《论语》中强调让别人成为自己修身养性的镜子，学习好的，摒弃不好的句子是：见贤思齐焉，见不贤而内自省也。\n            ")]),t._v(" "),a("div",[t._v("5.《论语》中孔子强调不仅能学习别人的优点，也能看出别人的缺点，更要引以为戒的句子是：择其善者而从之，其不善者而改之。\n            ")]),t._v(" "),a("div",[t._v("6.《论语》中孔子认为只有胸怀宽广、意志坚定的人才能称为“士”的句子是：士不可以不弘毅，任重而道远。\n            ")]),t._v(" "),a("div",[t._v("7.《论语》中讲在艰难困苦的环境中才能考验出一个人坚强不屈的品质的句子还是：岁寒，然后知松柏之后凋也。\n            ")])],2),t._v(" "),a("el-collapse-item",{attrs:{title:"《孟子·鱼我所欲也》"}},[a("div",[t._v("1.《鱼我所欲也》文中与“嗟来之食”的意思相一致的句子是：呼尔而与之，行道之人弗受；蹴尔而与之，乞人不屑也。\n            ")]),t._v(" "),a("div",[t._v("2.《鱼我所欲也》文中全篇的中心论点的句子是：舍生而取义者也。\n            ")]),t._v(" "),a("div",[t._v("3.《鱼我所欲也》文中表明“我”不会做“苟且偷生之事”的句子是：所欲有甚于生者，所恶有甚于死者。\n            ")]),t._v(" "),a("div",[t._v("4.《鱼我所欲也》文中作者说人人都有向善之心而贤者能做到坚持不懈的句子是：非独贤者有是心也，人皆有之，贤者能勿丧耳。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《孟子·生于忧患死于安乐》"}},[a("div",[t._v("1.《生于忧患，死于安乐》中指出了艰苦磨炼益处的句子是：所以动心忍性，曾益其所不能。\n            ")]),t._v(" "),a("div",[t._v("2.《生于忧患，死于安乐》中从内外两个方面说明了导致亡国的原因的句子是：入则无法家拂士，出则无敌国外患者。\n            ")]),t._v(" "),a("div",[t._v("3.《生于忧患，死于安乐》中总结全文，归纳中心论点的句子是：然后知生于忧患，而死于安乐也。\n            ")]),t._v(" "),a("div",[t._v("4.《生于忧患，死于安乐》中说明人才必须经过艰苦磨炼的作用的句子是：故天将降大任于是人也，必先苦其心志，劳其筋骨，饿其体肤，空乏其身，行拂乱其所为，所以动心忍性，曾益其所不能。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《左传·曹刿论战》"}},[a("div",[t._v("1.《曹刿论战》中曹刿请见鲁庄公的根本原因是：肉食者鄙，未能远谋。\n            ")]),t._v(" "),a("div",[t._v("2.《曹刿论战》中表现曹刿“取信于民”的战略思想的句子：小大之狱，虽不能察，必以情。\n            ")]),t._v(" "),a("div",[t._v("3.《曹刿论战》中能体现曹刿军事思想的句子是：夫战，勇气也。\n            ")]),t._v(" "),a("div",[t._v("4.《曹刿论战》中表明鲁庄公把取胜的希望寄托在人民的拥护上的句子是：小大之狱，虽不能察，必以情。\n            ")]),t._v(" "),a("div",[t._v("5.《曹刿论战》中曹刿断定敌方确系溃败的依据是：吾视其辙乱，望其旗靡。\n            ")]),t._v(" "),a("div",[t._v('6.《曹刿论战》中曹刿认为"可以一战"的条件是：小大之狱，虽不能察，必以情。\n            ')]),t._v(" "),a("div",[t._v("7.《曹刿论战》中能体现曹刿军事思想的句子是：彼竭我盈，故克之；辙乱旗靡，故逐之。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《战国策·邹忌讽齐王纳谏》"}},[a("div",[t._v("1.《邹忌讽齐王纳谏》中描写邹忌外貌的句子：邹忌修八尺有余，而形貌昳丽。\n          ")]),t._v(" "),a("div",[t._v("2.《邹忌讽齐王纳谏》中写邹忌经过思索，找出妻、妾、客认为自己比徐公美的原因的句子是：吾妻之美我者，私我也；妾之美我者，畏我也；客之美我者，欲有求于我也。\n          ")]),t._v(" "),a("div",[t._v("3.《邹忌讽齐王纳谏》中写齐王受邹忌启发，用悬赏的方法广泛征求臣民意见的句子是：群臣吏民，能面刺寡人之过者，受上赏；上书谏寡人者，受中赏；能谤讥于市朝，闻寡人之耳者，受下赏。\n          ")]),t._v(" "),a("div",[t._v("4.《邹忌讽齐王纳谏》中邹忌的讽谏最后收到了效果的句子是：燕、赵、韩、魏闻之，皆朝于齐。\n          ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《前出师表》诸葛亮"}},[a("div",[t._v("1.《出师表》中表示作者感恩图报的句子是：不效则治臣之罪，以告先帝之灵。\n           ")]),t._v(" "),a("div",[t._v("2.《出师表》中诸葛亮分析先汉兴隆的原因是：亲贤臣，远小人。\n           ")]),t._v(" "),a("div",[t._v("3.《出师表》中叙述诸葛亮追随先帝驱驰的原因是：先帝不以臣卑鄙，猥自枉屈，三顾臣于草庐之中，咨臣以当世之事，由是感激。\n           ")]),t._v(" "),a("div",[t._v("4.当任命一个人来挽救局面，人们常引用的《出师表》中的一句名言是：受任于败军之际，奉命于危难之间。\n           ")]),t._v(" "),a("div",[t._v("5.《出师表》中表明作者志趣的句子：苟全性命于乱世，不求闻达于诸侯。\n           ")]),t._v(" "),a("div",[t._v("6.《出师表》中诸葛亮劝刘禅对宫中、府中官员的赏罚要坚持同一标准的句子：陈罚减否，不宜异同。\n           ")]),t._v(" "),a("div",[t._v("7.《出师表》中作者指出出师战略目标的句子：当奖率三军，北定中原，庶竭驽钝，攘除奸凶，兴复汉室，还于旧都。\n           ")]),t._v(" "),a("div",[t._v("8.《出师表》中诸葛亮向后主提出严明赏罚建议的语句是：若有作奸犯科及为忠善者，宜付有司论其刑赏。\n           ")]),t._v(" "),a("div",[t._v("9.《出师表》中叙述诸葛亮追随先帝驱驰原因是：先帝不以臣卑鄙，猥自枉屈，三顾臣于草庐之中，咨臣以当世之事，由是感激，遂许先帝以驱驰。\n           ")]),t._v(" "),a("div",[t._v("10.《出师表》中指出出师战略目标的句子是：当奖率三军，北定中原，庶竭驽钝，攘除奸凶，兴复汉室，还于旧都。\n           ")]),t._v(" "),a("div",[t._v("11.《出师表》中作者向后主提出的三条建议是：①开张圣听；②宫中府中，俱为一体，陟罚臧否，不宜异同；③亲贤臣，远小人。\n           ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《桃花源记》陶渊明"}},[a("div",[t._v("1.《桃花源记》中描写桃花源中人幸福生活的语句：黄发垂髫，并怡然自乐。\n           ")]),t._v(" "),a("div",[t._v("2.《桃花源记》中描写桃源人来此绝境的原因的句子：自云先世避秦时乱，率妻子邑人来此绝境，不复出焉，遂与外人间隔。\n           ")]),t._v(" "),a("div",[t._v("3.《桃花源记》中描写桃源人生活环境的句子是：土地平旷，屋舍俨然，有良田美池桑竹之属，阡陌交通，鸡犬相闻。\n           ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《三峡》郦道元"}},[a("div",[t._v("1.《三峡》中写山连绵不断（长）的句子：自三峡七百里中，两岸连山，略无阙处。\n           ")]),t._v(" "),a("div",[t._v("2.《三峡》中描写两岸悬崖陡峭雄伟险峻的一句是:重岩叠嶂，隐天蔽日，自非亭午夜分，不见曦月。\n           ")]),t._v(" "),a("div",[t._v("3.《三峡》中从侧面烘托山峰陡峭幽邃的一句是: 自非亭午夜分，不见曦月。\n           ")]),t._v(" "),a("div",[t._v("4.《三峡》中写水势凶险的句子：至于夏水襄陵，沿溯阻绝。\n           ")]),t._v(" "),a("div",[t._v("5.《三峡》中写水流湍急的句子：有时朝发白帝，暮到江陵。其间千二百里，虽乘奔御风，不以疾也。\n           ")]),t._v(" "),a("div",[t._v("6.《三峡》中写春冬三峡水的特点的句子：则素湍绿潭，回清倒影。\n           ")]),t._v(" "),a("div",[t._v("7.《三峡》中烘托三峡秋景凄凉的语句是:空谷传响，哀转久绝。\n           ")]),t._v(" "),a("div",[t._v("8.《三峡》中引用渔歌反衬三峡深秋清幽寂静的句子是：巴东三峡巫峡长，猿鸣三声泪沾裳。\n           ")]),t._v(" "),a("div",[t._v("9.《三峡》中从色彩上对三峡景物进行描写的句子是:则素湍绿潭，回清倒影。\n           ")]),t._v(" "),a("div",[t._v("10.《三峡》中有一句话把三峡春冬季节山水草木的秀丽景色概括无遗，这句话是：清荣峻茂。\n           ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《马说》韩愈"}},[a("div",[t._v("1.《马说》本文的中心论点是：世有伯乐，然后有千里马。\n           ")]),t._v(" "),a("div",[t._v("2.《马说》中千里马的悲惨遭遇是：祇辱于奴隶人之手，骈死于槽枥之间。\n           ")]),t._v(" "),a("div",[t._v("3.《马说》中千里马被埋没的根本原因是：食马者不知其能千里而食也。\n           ")]),t._v(" "),a("div",[t._v("4.《马说》中千里马被埋没的直接原因是：食不饱，力不足，才美不外见，且欲与常马等不可得。\n           ")]),t._v(" "),a("div",[t._v("5.《马说 》中食马者“不知马”的具体表现是：策之不以其道，食之不能尽其材，鸣之而不能通其意。\n           ")]),t._v(" "),a("div",[t._v("6.《马说 》中对“食马者”的无知发出强烈的谴责的语句是：且欲与常马等不可得，安求其能千里也？\n           ")]),t._v(" "),a("div",[t._v("7.《马说 》中表明愚妄无知，平庸浅薄的统治者对千里马的不公正的待遇的句子是：策之不以其道，食之不能尽其材，鸣之而不能通其意。\n           ")]),t._v(" "),a("div",[t._v("8.《马说》中表明作者对千里马被埋没的感叹的句子是：其真无马邪？其真不知马也。\n           ")]),t._v(" "),a("div",[t._v("9.《马说》中能表明千里马外在特征的句子是：马之千里者，一食或尽粟一石。\n           ")]),t._v(" "),a("div",[t._v("10.《马说》中运用设问句表达作者心中感慨的句子是：其真无马邪？其真不知马也。\n           ")]),t._v(" "),a("div",[t._v("11.美往往存在于平凡的事物当中，有时我们为了刻意的追求完美，往往忽略了身边的美，使其遭受不应有的遭遇，使我们为之遗憾痛心，这种遭遇与《马说》中千里马的遭遇相似，相应的句子是：祇辱于奴隶人之手，骈死于槽枥之间。\n           ")]),t._v(" "),a("div",[t._v("12.《马说》中点明伯乐对千里马的命运起决定作用的句子是：世有伯乐，然后有千里马。\n           ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《陋室铭》刘禹锡"}},[a("div",[t._v("1.《陋室铭》中暗示虽陋室而不陋，点明文章主旨的语句是：斯是陋室，惟吾德馨。\n           ")]),t._v(" "),a("div",[t._v("2.《陋室铭》中表现正反面虚实结合写主人生活情趣的高雅，衬托陋室不陋的语句是：可以调素琴，阅金经，无丝竹之乱耳，无案牍之劳形。\n           ")]),t._v(" "),a("div",[t._v("3.《陋室铭》中写陋室来往客人之高雅的诗句是：谈笑有鸿儒，往来无白丁。\n           ")]),t._v(" "),a("div",[t._v("4.《陋室铭》中描写陋室优美的自然环境句子是：苔痕上阶绿，草色入帘青。\n           ")]),t._v(" "),a("div",[t._v("5.《陋室铭》中反映作者以古代贤人自况的思想境界，暗示陋室不陋是：谈笑有鸿儒，往来无白丁。\n           ")]),t._v(" "),a("div",[t._v("6.《陋室铭》中引用孔子的话，画龙点睛，总结全文的句子是：“何陋之有？”。\n           ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《小石潭记》柳宗元"}},[a("div",[t._v("1.《小石潭记》中作者抓住景物的特点，运用形象的比喻，描写溪身、溪水的语句是：斗折蛇行，明灭可见。\n          ")]),t._v(" "),a("div",[t._v("2.《小石潭记》中描写潭周围树木的语句是青树翠蔓，蒙络摇缀，参差披拂。\n          ")]),t._v(" "),a("div",[t._v("3.《小石潭记》描绘了小石潭的石、水、游鱼、树木，着意渲染了寂寥无人，凄神寒骨，悄怆幽邃的气氛，抒发自己在寂寞处境中悲凉凄怆的心绪。\n          ")]),t._v(" "),a("div",[t._v("4.《小石潭记》中写潭中鱼游来游去，非常活跃的语句是：俶尔远逝，往来翕忽。\n          ")]),t._v(" "),a("div",[t._v("5.《小石潭记》中写出小石潭源头悠远、两岸弯曲的语句是：其岸势犬牙差互，不可知其源。\n          ")]),t._v(" "),a("div",[t._v("6.《小石潭记》中侧面写潭水清澈的句子是：皆若空游无所依，日光下澈，影布石上。\n          ")]),t._v(" "),a("div",[t._v("7.《小石潭记》中表现地理环境使作者内心忧伤凄凉的句子是：凄神寒骨，悄怆幽邃。\n          ")]),t._v(" "),a("div",[t._v("8.《小石潭记》中写游鱼自由轻灵游动的姿态的句子是：潭中鱼可百许头，皆若空游无所依。\n          ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《岳阳楼记》范仲淹"}},[a("div",[t._v("1.《岳阳楼记》中从空间上形容湖面上的广阔浩渺的句子是：衔远山，吞长江，浩浩汤汤，横无际涯。\n           ")]),t._v(" "),a("div",[t._v("2.《岳阳楼记》中时间上表现景象的千变万化的句子是：朝晖夕阴，气象万千。\n           ")]),t._v(" "),a("div",[t._v("3.《岳阳楼记》中写迁客骚人雨天登楼观景时的普遍心理状态的句子是：登斯楼也，则有去国怀乡，忧谗畏讥，满目萧然，感极而悲者矣。\n           ")]),t._v(" "),a("div",[t._v("4.《岳阳楼记》中写天气晴好时迁客骚人欢乐所激发的思想感情句子是：登斯楼也，心旷神怡，宠辱偕忘，把酒临风，其喜洋洋者矣。\n           ")]),t._v(" "),a("div",[t._v("5.《岳阳楼记》中描述“古仁人”的阔大胸襟的句子是：不以物喜，不以己悲。\n           ")]),t._v(" "),a("div",[t._v("6.《岳阳楼记》中2.由“古仁人”的阔大胸襟和高尚道德而得出的论断是：居庙堂之高则忧其民，处江湖之远则忧其君。\n           ")]),t._v(" "),a("div",[t._v("7.《岳阳楼记》中抒写作者政治抱负的句子是：先天下之忧而忧，后天下之乐而乐。\n           ")]),t._v(" "),a("div",[t._v("8.《岳阳楼记》中借鸟欢鱼跃描绘晴明之景的句子是：沙鸥翔集，锦鳞游泳。\n           ")]),t._v(" "),a("div",[t._v("9.《岳阳楼记》中文中动静结合，描写洞庭湖月夜美景的句子是：浮光跃金，静影沉璧。\n           ")]),t._v(" "),a("div",[t._v("10.《岳阳楼记》中范仲淹赞扬滕子京政绩的句于是：政通人和，百废具兴。\n           ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《醉翁亭记》欧阳修"}},[a("div",[t._v("1.《醉翁亭记》中 写出醉翁言在此而意在彼，情趣所在的句子是：醉翁之意不在酒，在乎山水之间也。\n           ")]),t._v(" "),a("div",[t._v("2.《醉翁亭记》中描绘山间朝暮之景的句子：若夫日出而林霏开，云归而岩穴暝。\n           ")]),t._v(" "),a("div",[t._v("3.《醉翁亭记》中本文以色彩鲜明的语言，描绘春夏之景的句子：野芳发而幽香，佳木秀而繁阴。\n           ")]),t._v(" "),a("div",[t._v("4.《醉翁亭记》中体现全文核心命意及醉翁命名之意的句子是：醉翁之意不在酒，在乎山水之间也。\n           ")]),t._v(" "),a("div",[t._v("5.《醉翁亭记》中表达作者复杂感情的句子是：人知从太守游而乐，而不知太守之乐其乐也。\n           ")]),t._v(" "),a("div",[t._v("6.《醉翁亭记》中文中贯穿全文主线的句子是：山水之乐，得之心而寓之酒也。\n           ")]),t._v(" "),a("div",[t._v("7.《醉翁亭记》中文中点明全文主旨的句子是：人知从太守游而乐，而不知太守之乐其乐也。\n           ")]),t._v(" "),a("div",[t._v("8.《醉翁亭记》中概括描述滁州地理环境特征（领起全文）的句子是：环滁皆山也。\n           ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《爱莲说》周敦颐"}},[a("div",[t._v("1.《爱莲说》中描写莲花高洁质朴的句子是：出淤泥而不染，濯清涟而不妖\n           ")]),t._v(" "),a("div",[t._v("2.《爱莲说》中最能概括莲花高贵品质的句子是（主旨句）：莲， 花之君子者也。\n           ")]),t._v(" "),a("div",[t._v("3.周敦颐《爱莲说》:咏莲名句：予独爱莲之出淤泥而不染，濯清涟而不妖，中通外直，不蔓不枝，香远益清，亭亭净植，可远观而不可亵玩焉。\n           ")]),t._v(" "),a("div",[t._v("4.公园花展，观赏牡丹的人总比观赏其它花的人多,用《爱莲说》中的话来说，就是：牡丹之爱，宜乎众矣。\n           ")]),t._v(" "),a("div",[t._v("5.《爱莲说》中表现主人不受世俗羁绊，对世俗生活厌弃的句子是：莲之爱，同予者何人？\n           ")]),t._v(" "),a("div",[t._v("6.《爱莲说》中描写莲美好形象的句子是：出淤泥而不染，濯清涟而不妖，中通外直，不蔓不枝，香远益清，亭亭净植。\n           ")]),t._v(" "),a("div",[t._v("7.《爱莲说》中与“近朱者赤，近墨者黑”相对比，集中表现莲高洁品质，现在人们常用来比喻某些人不与世俗同流合污而又洁自好的句子是：出淤泥而不染，濯清涟而不妖。\n           ")]),t._v(" "),a("div",[t._v("8.《爱莲说》中比喻君子美名远扬的语句是：香远益清。\n           ")]),t._v(" "),a("div",[t._v("9.《爱莲说》中写君子行为方正，通达事理，不攀附权贵的句子是：中通外直，不蔓不枝。\n           ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《记承天寺夜游》苏轼"}},[a("div",[t._v("1.《记承天寺夜游》中描写月光美景的语句是：庭下如积水空明，水中藻、荇交横，盖竹柏影也。\n           ")]),t._v(" "),a("div",[t._v("2.《记承天寺夜游》中表达作者微妙复杂的感情语句是：何夜无月，何处无竹柏？但少闲人如吾两人者耳。\n           ")]),t._v(" "),a("div",[t._v("3.《记承天寺夜游》中作者游承天寺的原因：月色入户，欣然起行。念无与为乐者。\n           ")]),t._v(" "),a("div",[t._v("4.《记承天寺夜游》中的“庭下如积水空明，水中藻、荇交横，盖竹柏影也。”一句，描绘了一个空明澄，疏影摇曳，亦真亦幻的美妙境界。\n           ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《送东阳马生序》宋濂"}},[a("div",[t._v("1.《送东阳马生序》中点明作者写作此文的原因的语句是：其将归见其亲也，余故道为学之难以告之。\n           ")]),t._v(" "),a("div",[t._v("2.《送东阳马生序》中人们愿意借书给自己，那时因为作者很守信，这些句子是：录毕，走送之，不敢稍逾约。\n           ")]),t._v(" "),a("div",[t._v("3.《送东阳马生序》中表现作者在寒冬腊月中勤学品质的句子是：天大寒，砚冰坚，手指不可屈伸，弗之怠。\n           ")]),t._v(" "),a("div",[t._v("4.《送东阳马生序》中表现作者向“乡之先达”谦恭、虚心地求学的句子是：余立侍左右，援疑质理，俯身倾耳以请；或遇其叱咄，色愈恭，礼愈至，不敢出一言以复俟其欣悦，则又请焉。\n           ")]),t._v(" "),a("div",[t._v("5.《送东阳马生序》中作者回忆“从师”经历中感叹岁月艰辛的句子是：寓逆旅，主人日再食，无鲜肥滋味之享。余则缊袍敝衣处其间，略无慕艳意，盖余之勤且艰若此。\n           ")]),t._v(" "),a("div",[t._v("6.《送东阳马生序》中表达作者求学的经历中“苦中有乐”的句子是：以中有足乐者，不知口体之奉不若人也。\n           ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《诗经·关睢》"}},[t._v("\n\n          1.小伙子一般都喜欢美丽而又贤慧的姑娘，《关雎》一诗中的“窈窕淑女，君子好逑” 这两句就是佐证。\n          ")]),t._v(" "),a("el-collapse-item",{attrs:{title:"《诗经·蒹葭》"}},[a("div",[t._v("1.《蒹葭》中能印证“上穷碧落下黄泉，两处茫茫皆不见”的寻找追求的诗句：蒹葭苍苍，白露为霜。所谓伊人，在水一方。溯洄从之，道阻且长。溯游从之，宛在水中央。\n           ")]),t._v(" "),a("div",[t._v("2.《诗经•蒹葭》中于浓浓的秋凉之中折射出人物淡淡的凄婉之情的句子是：蒹葭苍苍，白露为霜；所谓伊人，在水一方。\n           ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《观沧海》曹操"}},[a("div",[t._v("1.《观沧海》中，最能表达作者博大胸襟的句子是: 日月之行，若出其中。星汉灿烂，若出其里。\n          ")]),t._v(" "),a("div",[t._v("2.《观沧海》一诗中，描写草木景色的句子是：树木从生，百草丰茂。\n          ")]),t._v(" "),a("div",[t._v("3.《观沧海》一诗中写大海水波动荡，山岛高耸突兀的句子是：水何澹澹，山岛竦峙。\n          ")]),t._v(" "),a("div",[t._v("4.《观沧海》一诗中对景物作总写的句子是：水何澹澹，山岛竦峙。\n          ")]),t._v(" "),a("div",[t._v("5.《观沧海》一诗中详细写诗人见到的景象的句子是：树木从生，百草丰茂。秋风萧瑟，洪波涌起。\n          ")]),t._v(" "),a("div",[t._v("6.《观沧海》一诗中描写诗人想象中的景象的句子是：日月之行，若出其中。星汉灿烂，若出其里。\n          ")]),t._v(" "),a("div",[t._v("7.《观沧海》一诗的主要表达方式是描写，但是也有两句诗是叙事的，这两句诗是：东临碣石，以观沧海。\n          ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《饮酒》陶渊明"}},[a("div",[t._v("1.陶渊明《饮酒》中表现了怡然自得，恬淡闲适，热爱自然，旷达胸襟的诗句是：采菊东篱下，悠悠见南山。\n           ")]),t._v(" "),a("div",[t._v("2.陶渊明的《饮酒》中表明诗人决意摆脱尘世的干扰，过闲适恬静的生活的诗句是：结庐在人境，而无车马喧。“而无车马喧”的原因是：心远地自偏。\n           ")]),t._v(" "),a("div",[t._v("3.陶渊明的《饮酒》中表明作者本想说明白，却又不可言传的诗句是：此中有真意，欲辨已忘言。\n           ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《送杜少府之任蜀州》王勃"}},[a("div",[t._v("1.王勃的《送杜少府之任蜀州》在叙将别之时，气势宏伟，已寓不必伤别之意，为下文抒情情奠定基调的诗句是：城阙辅三秦，风烟望五津。\n           ")]),t._v(" "),a("div",[t._v("2.王勃《送杜少府之任蜀州》中可用来鼓励和安慰朋友，道出了古今上下几千年人们心声的名句是：海内存知己，天涯若比邻。\n           ")]),t._v(" "),a("div",[t._v("3.王勃《送杜少府之任蜀州》中劝慰友人不要哀伤，表达出诗人豁达，爽朗的胸怀的诗句：与君离别意，同是宦游人。\n           ")]),t._v(" "),a("div",[t._v("4.王勃《送杜少府之任蜀州》中表明不要因为离别而伤感的诗句是：无为在歧路，儿女共沾巾。\n           ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《次北固山下》王湾"}},[a("div",[t._v("1.王湾在《次北固山下》一诗中描绘涨潮时水面宽阔，帆船顺风而行的句子是：潮平两岸阔，风正一帆悬。\n           ")]),t._v(" "),a("div",[t._v("2.《次北固山下》一诗中，表现时序变迁，新旧交替这一自然规律的诗句是：海日生残夜，江春入旧年。\n           ")]),t._v(" "),a("div",[t._v("3.《次北固山下》一诗中游子思乡情深的诗句是：乡书何处达？归雁洛阳边。\n           ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《使至塞上》王维"}},[a("div",[t._v("1.王维在《使至塞上》一诗中，描绘奇特壮美的塞外风光的句子是：大漠孤烟直，长河落日圆。\n            ")]),t._v(" "),a("div",[t._v("2.王维在《使至塞上》一诗中，以比喻表达诗人惆怅．抑郁心情的语句是：征蓬出汉塞，归雁入胡天。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《闻王昌龄左迁龙标遥有此寄》李白"}},[a("div",[t._v("1.李白在《闻王昌龄左迁龙标遥有此寄》中，把明月人格化，表达对友人不幸遭贬的深切同情与关怀的名句是：我寄愁心与明月，随君直到夜郎西。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《行路难》李白"}},[a("div",[t._v("1.李白的《行路难》中通过“停杯投箸不能食，拔剑四顾心茫然。”两句的动作细节刻画，形象地揭示了他内心的苦闷抑郁。\n             ")]),t._v(" "),a("div",[t._v("2.李白《行路难》中形象生动地描写“行路难”的诗句是：欲渡黄河冰塞川，将登太行雪暗天。\n             ")]),t._v(" "),a("div",[t._v("3.李白《行路难》中体现李白积极进取精神，抒发远大志向的诗句是：长风破浪会有时，直挂云帆济沧海。\n             ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《望岳》杜甫"}},[a("div",[t._v("1.杜甫在《望岳》中，借齐鲁大地烘托泰山拔地而起，参天耸立形象的语句是：岱宗夫如何？齐鲁青未了。\n            ")]),t._v(" "),a("div",[t._v("2.杜甫在《望岳》中，虚实结合，描写泰山神奇秀丽，巍峨高大的诗句是：造化钟神秀，阴阳割昏晓。\n            ")]),t._v(" "),a("div",[t._v("3.杜甫在《望岳》中表现泰山高峻，幽深的诗句：荡胸生层云，决眦入归鸟。\n            ")]),t._v(" "),a("div",[t._v("4.杜甫在《望岳》中表达不畏困难，敢于攀登绝顶，俯视一切的雄心壮志的诗句是：会当凌绝顶，一览众山小。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《春望》杜甫"}},[a("div",[t._v("1.杜甫在《春望》一诗中写国都沦陷，山河依旧，春天来临却杂草丛生且表现长安春日满目凄凉，传达出诗人忧国伤时之情的诗句是：国破山河在，城春草木深。\n            ")]),t._v(" "),a("div",[t._v("2.杜甫的《春望》中诗人感时伤别，见明丽之景诱发内心伤感（或运用拟人手法抒发伤感之情）的诗句是：感时花溅泪，恨别鸟惊心。\n            ")]),t._v(" "),a("div",[t._v("3.杜甫的《春望》中，春天的花开鸟鸣反而使诗人杜甫生出忧国和思乡之情的诗句是：感时花溅泪，恨别鸟惊心。\n            ")]),t._v(" "),a("div",[t._v("4.杜甫在《春望》一诗中悲哀国破家亡，伤感离乱之痛，表现他爱国，念家的美好情操，诗中能够表现他忧愁而日益衰老的句子是：白头搔更短，浑欲不胜簪。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《茅屋为秋风所破歌》杜甫"}},[a("div",[t._v("1.杜甫《茅屋为秋风所破歌》中描写到被子的两句是：布衾多年冷似铁，骄儿恶卧蹋里裂。\n            ")]),t._v(" "),a("div",[t._v("2.杜甫《茅屋为秋风所破歌》中关心民间疾苦，同情劳动人民，表现诗人虽身处逆境仍然能乐观向上的诗句是：安得广厦千万间，大庇天下寒士俱欢颜。\n            ")]),t._v(" "),a("div",[t._v("3.杜甫《茅屋为秋风所破歌》中表现杜甫舍己为人，至死不悔的决心的两句是：何时眼前突兀见此屋，吾庐独破受冻死亦足！\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《白雪歌送武判官归京》岑参"}},[a("div",[t._v("1.岑参的《白雪歌送武判官归京》中以春花喻冬雪（或以春景写冬景）的两句诗是：忽如一夜春风来，千树万树梨花开。\n            ")]),t._v(" "),a("div",[t._v("2.岑参在《白雪歌送武判官归京》中表达对朋友依依不舍之情的诗句是：山回路转不见君，雪上空留马行处。\n            ")]),t._v(" "),a("div",[t._v("3.岑参的《白雪歌送武判官归京》中从视觉角度看，色彩鲜明，红白映衬的两句诗是：纷纷暮雪下辕门，风掣红旗冻不翻。\n            ")]),t._v(" "),a("div",[t._v("4.岑参的《白雪歌送武判官归京》中借自然景物写凄凉寒冷景象（或描写塞外风狂雪早的句子是：北风卷地白草折，胡天八月即飞雪。\n            ")]),t._v(" "),a("div",[t._v("5.岑参的《白雪歌送武判官归京》中写沙漠冰封，愁云惨淡的景象（或起承上启下过渡作用）的诗句是：瀚海阑干百丈冰，愁云惨淡万里凝。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《早春呈水部张十八员外》韩愈"}},[a("div",[t._v("1.《早春呈水部张十八员外》中写出了早春的细雨蒙蒙，春色若隐若现，报告了春天早来的消息的诗句是：天街小雨润如酥，草色遥看近却无。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《酬乐天扬州初逢席上见赠》刘禹锡"}},[a("div",[t._v("1.《酬乐天扬州初席上见赠》中饱含诗人无限的辛酸和愤怒的诗句是：巴山楚水凄凉地，二十三年弃置身。\n            ")]),t._v(" "),a("div",[t._v("2.刘禹锡《酬乐天扬州初逢席上见赠》中蕴含哲理，表明新事物必将取代旧事物的诗句是：沉舟侧畔千帆过，病树前头万木春。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《观刈麦》白居易"}},[a("div",[t._v("1.《观刈麦》中正面描写刈麦时的艰苦劳动与紧张（或最能表现农民在烈日下在田间艰苦劳作）的诗句是：足蒸暑土气，背灼炎天光。\n            ")]),t._v(" "),a("div",[t._v("2.《观刈麦》中，最能表现割麦农民极度辛苦而又企盼延长干活时间这种矛盾心理的诗句是：力尽不知热，但惜夏日长。\n            ")]),t._v(" "),a("div",[t._v("3.白成易《观刈麦》中，描写妇女儿童支援农忙场景（或从侧面表现农民劳动繁忙）的句子的诗句是：妇姑荷箪食，童稚携壶浆。\n            ")]),t._v(" "),a("div",[t._v("4.白居易的《观刈麦》中直接提示劳动人民生活艰辛的原因的句子：家田输税尽，拾此充饥肠。\n            ")]),t._v(" "),a("div",[t._v("5.白居易的《观刈麦》中表现作者对农家的同情和关心．同时也表达作者深深自责的句子有：今我何功德？曾不事农桑。吏禄三百石，岁晏有余粮。念此私自愧，尽日不能忘。\n            ")]),t._v(" "),a("div",[t._v("6.白居易的《观刈麦》中揭示农民赋税繁重的句子：家田输税尽。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《钱塘湖春行》白居易"}},[a("div",[t._v("1.白居易在《钱塘湖春行》中，借莺燕的活动来传达春天来临的信息并表达自己喜悦之情的句子是：几处早莺争暖树，谁家新燕啄春泥。\n            ")]),t._v(" "),a("div",[t._v("2.白居易在《钱塘湖春行》中描绘春花初绽，春草吐绿的诗句是：乱花渐欲迷人眼，浅草才能没马蹄。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《雁门太守行》 李贺"}},[a("div",[t._v("1.“诗鬼”李贺在《雁门太守行》中写敌人兵临城下，战云笼罩，使人透不过气来，而战士整装待发，士气还很旺盛（或极力渲染敌军兵临城下的紧张气氛和危急形势）的诗句是：黑云压城城欲摧，甲光向日金鳞开。\n            ")]),t._v(" "),a("div",[t._v("2.李贺在《雁门太守行》中抒发誓死报国忠心的诗句是：报君黄金台上意，提携玉龙为君死。\n            ")]),t._v(" "),a("div",[t._v("3.李贺在《雁门太守行》中描写官军出其不意袭击敌人的诗句是：半卷红旗临易水，霜重鼓寒声不起。\n            ")]),t._v(" "),a("div",[t._v("4.李贺在《雁门太守行》中从声和色两个方面勾画了一幅激烈的战斗场面，渲染了沉重，紧张，肃杀的氛围的诗句是：角声满天秋色里，塞上燕脂凝夜紫。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《赤壁》杜牧"}},[a("div",[t._v("1.在《赤壁》中，作者杜牧对赤壁之战的历史结局进行判的句子是：东风不与周郎便，铜雀春深锁二乔。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《泊秦淮》杜牧"}},[a("div",[t._v("1.《泊秦淮》一诗中，诗人借“商女”而批评沉溺于歌舞升平而“不知”国之将亡的统治者的一句诗是：商女不知亡国恨，隔江犹唱后庭花。\n            ")]),t._v(" "),a("div",[t._v("2.杜牧的《泊秦淮》中描写秦淮河特有的夜间景致的句子是：烟笼寒水月笼沙，夜泊秦淮近酒家。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《夜雨寄北》李商隐"}},[a("div",[t._v("1.《夜雨寄北》中思念之情，亘古不变，千百年来为人们所传唱，潇潇夜雨中，李商隐客居寂寞，倚窗伫立，将相思之情转化为了重逢的希冀：何当共剪西窗烛，却话巴山夜雨时。\n            ")]),t._v(" "),a("div",[t._v("2.《夜雨寄北》中暗示诗人仕途失意，羁旅他乡思归不得的抑郁愁苦之情：君问归期未有期，巴山夜雨涨秋池。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《无题》李商隐"}},[a("div",[t._v("1.李商隐《无题》中赞美献身事业，奉献不止的精神的诗句是：春蚕到死丝方尽，蜡炬成灰泪始干。\n            ")]),t._v(" "),a("div",[t._v("2.李商隐的《无题》中寄托作者仕途苦闷的心情，以极其沉痛的心情写伤别的诗句是：相见时难别亦难，东风无力百花残。\n            ")]),t._v(" "),a("div",[t._v("3.李商隐的《无题》中写女子离别后的担心，含有两人要各自珍重的意思的句子是：晓镜但愁云鬓改，夜吟应觉月光寒。\n            ")]),t._v(" "),a("div",[t._v("4.李商隐的《无题》中通过祖籍找到慰藉自己的途径，表达了自己情感的诗句是：蓬山此去无多路，青鸟殷勤为探看。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《相见欢（无言独上西楼）》李煜"}},[a("div",[t._v("1.李煜《相见欢》中以丝的千头万绪比喻离愁的纷乱和难解的诗句是：剪不断，理还乱，是离愁，别是一般滋味在心头。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《渔家傲（塞下秋来风景异）》范仲淹"}},[a("div",[t._v("1.范仲淹在《渔家傲•秋思》中表达自己和征人们想家却又不甘无功而返的矛盾心理的句子是：浊酒一杯家万里，燕然未勒归无计。\n            ")]),t._v(" "),a("div",[t._v("2.《渔家傲•秋思》中抒发征夫戍边难归的无奈和对家乡的眷念之情且表达了主旨的诗句是：人不寐，将军白发征夫泪。\n            ")]),t._v(" "),a("div",[t._v("3.王维以“大漠孤烟直，长河落日圆”突出体现了边塞的壮美，范仲淹在《渔家傲•秋思》中运用相似的景物渲染了边塞的悲凉，这句词是：千嶂里，长烟落日孤城闭。\n            ")]),t._v(" "),a("div",[t._v("4.《渔家傲•秋思》中渲染古代西北边地秋景的悲凉奇异的诗句是：塞下秋来风景异，衡阳雁去无留意。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《浣溪沙（一曲新词酒一杯）》晏殊"}},[a("div",[t._v("1.晏殊《浣溪沙》一词中构成“新”与“旧”对比的词句是：一曲新词酒一杯，去年天气旧亭台。\n            ")]),t._v(" "),a("div",[t._v("2.晏殊在《浣溪沙》一词中表达对春光逝去的惋惜，怅惘之情的名句是：无可奈何花落去，似曾相识燕归来。\n            ")]),t._v(" "),a("div",[t._v("3.晏殊的《浣溪沙•一曲新词酒一杯》：词人由景触情，由自然规律的变迁更替，透露出对美好景物及难以忘怀情事的流连，流露出对光阴流逝的无限惆怅的句子是：无可奈何花落去，似曾相识燕归来。小园香径独徘徊。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《登飞来峰》王安石"}},[a("div",[t._v("1.王安石《登飞来峰》中富于哲理，借情抒景，表达自己锐意改革的远大政治抱负的诗句是：不畏浮云遮望眼，自缘身在最高层。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《江城子·密州出猎》苏轼"}},[a("div",[t._v("1.苏轼在《江城子•密州出猎》一词中，表明自己渴望为国御敌立功的词句是：会挽雕弓如满月，西北望，射天狼。\n            ")]),t._v(" "),a("div",[t._v("2.苏轼的《江城子•密州出猎》文笔豪迈奔放，有江河一泻千里的气概，词中表达作者渴望得到重用的愿望，于豪迈之外，稍含不满之意的两句是：持节云中，何日遣冯唐？\n            ")]),t._v(" "),a("div",[t._v("3.苏轼在《江城子•密州出猎》中以孙权自喻，表明建功立业心志的诗句是：为报倾城随太守，亲射虎，看孙郎。\n            ")]),t._v(" "),a("div",[t._v("4.苏轼的《江城子•密州出猎》中抒写人到中年的主人公，壮志未酬的感叹的诗句是：酒酣胸胆尚开张，鬓微霜，又何妨！\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《水调歌头（明月几时有）》苏轼"}},[a("div",[t._v("1.苏轼的《水调歌头•明月几时有》中通过写明月来表达对天下人美好祝愿，抒发离人心愿的语句是：但愿人长久，千里共婵娟。\n            ")]),t._v(" "),a("div",[t._v("2.苏轼《水调歌头•明月几时有》中“此事古难全”里“此事”是指：人有悲欢离合，月有阴晴圆缺。\n            ")]),t._v(" "),a("div",[t._v("3.从历史的角度看，台湾和祖国的分离只是暂时的，这正如苏轼在《水调歌头•明月几时有》中所说的“人有悲欢离合，月有阴晴圆缺，此事古难全。”我们坚信两岸终将统一，台湾定能回归祖国。\n            ")]),t._v(" "),a("div",[t._v("5.宋代著名词人苏轼在《水调歌头•明月几时有》的下阕开头描写月光流转的名句是：转朱阁，低绮户，照无眠。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《游山西村》陆游"}},[a("div",[t._v("1.陆游在《游山西村》一诗中流传最广，景物描写中寓含哲理，千百年来被人们广为传诵的两句是：山重水复疑无路，柳暗花明又一村。\n            ")]),t._v(" "),a("div",[t._v("2.陆游在《游山西村》一诗中，表现村中热闹景象．民风淳朴的语句：萧鼓追随春社近，衣冠简朴古风存。\n            ")]),t._v(" "),a("div",[t._v("3.陆游在《游山西村》一诗中，表现农家热情好客的淳朴性格的诗句是：莫笑农家腊酒浑，丰年留客足鸡豚。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《破阵子（醉里挑灯看剑）》辛弃疾"}},[a("div",[t._v("1.辛弃疾《破阵子•为陈同甫赋壮词以寄之》中描写战斗场面激烈，表现义军所向披靡（或从视角和听角着笔，描写激烈的操练演习场面）的句子是：马作的卢飞快，弓如霹雳弦惊。\n            ")]),t._v(" "),a("div",[t._v("2.辛弃疾《破阵子•为陈同甫赋壮词以寄之》中，表明作者对陈同甫寄予希望且直接表达他的报国情怀和人生追求的句子是：了却君王天下事，赢得生前身后名。\n            ")]),t._v(" "),a("div",[t._v("3.《破阵子•为陈同甫赋壮词以寄之》中由外在形象渗透到主人公的内心世界，刻画了一位落魄英雄的典型形象：醉里挑灯看剑，梦回吹角连营。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《过零丁洋》文天祥"}},[a("div",[t._v("1.文天祥的《过零丁洋》中，概括写出诗人被捕前的全部经历的诗句是：辛苦遭逢起一经，干戈寥落四周星。\n            ")]),t._v(" "),a("div",[t._v("2.文天祥《过零丁洋》中用比喻表现宋朝国势危亡，个人身世坎坷的句子是：山河破碎风飘絮，身世浮沉雨打萍。\n            ")]),t._v(" "),a("div",[t._v("3.文天祥在《过零丁洋》中借地名写出形势和情况的危急凄苦的诗句是：惶恐滩头说惶恐，零丁洋里叹零丁。\n            ")]),t._v(" "),a("div",[t._v("4.文天祥在《过零丁洋》中感召志士仁人为正义事业而英勇献身且点明诗歌主旨的诗句是：人生自古谁无死，留取丹心照汗青。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《天净沙·秋思》马致远"}},[a("div",[t._v("1.《天净沙•秋思》中写农村晚景的句子是：枯藤老树昏鸦，小桥流水人家，古道西风瘦马。\n            ")]),t._v(" "),a("div",[t._v("2.马致远在《天净沙•秋思》中渲染萧条．冷落．凄凉气氛的写景的句子是：枯藤老树昏鸦，古道西风瘦马。\n            ")]),t._v(" "),a("div",[t._v("3.马致远在《天净沙•秋思》中写游子孤寂愁苦之情的名句是：夕阳西下，断肠人在天涯。\n            ")]),t._v(" "),a("div",[t._v("4.《天净沙•秋思》该曲的主旨句是：（夕阳西下，）断肠人在天涯。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《山坡羊·潼关怀古》 张养浩"}},[a("div",[t._v("1.张养浩在《山坡羊•潼关怀古》这首曲中，对在离乱中遭受苦难的人民深表同情且点明该曲主旨的句子是：兴，百姓苦。亡，百姓苦。\n            ")]),t._v(" "),a("div",[t._v("2.张养浩的《山坡羊•潼关怀古》中揭示出历史是不断发展变化的，任何强大的统治者也避免不了最终的灭亡的诗句是：伤心秦汉经行处，宫阙万间都做了土。\n            ")]),t._v(" "),a("div",[t._v("3.《山坡羊•潼关怀古》中写潼关的雄伟气势，暗示它是兵家必争之地的诗句是：峰峦如聚，波涛如怒，山河表里潼关路。\n            ")]),t._v(" "),a("div",[t._v("4.张养浩的《山坡羊•潼关怀古》中从视觉和听觉两方面写出了潼关地势险要的句子是：峰峦如聚，波涛如怒。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《己亥杂诗》 龚自珍"}},[a("div",[t._v("1.龚自珍在《己亥杂诗》中形象地表达了自己虽然辞官，但仍会关心国家的前途和命运且代落花立意，倾吐心曲，表现崇高的献身精神的句子是：落红不是无情物，化作春泥更护花。\n            ")]),t._v(" "),a("div",[t._v("2.龚自珍的《己亥杂诗》：写诗人辞官之后的离愁别绪的诗句是：浩荡离愁白日斜，吟鞭东指即天涯。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《荀子·劝学》"}},[a("div",[t._v("1.人们常说，活到老，学到老，《劝学》篇中的“学不可以已”这句话印证了这句话。\n            ")]),t._v(" "),a("div",[t._v("2.韩愈《师说》中“ 是故弟子不必不如师，师不必贤于弟子”这句话与荀子《劝学》中的“ 青，取之于蓝，而青于蓝”观点相同。\n            ")]),t._v(" "),a("div",[t._v("3.荀子在《劝学》中说，君子需要通过广泛学习来提升自己的两个句子是：君子博学而日参省乎己，则知明而行无过矣。\n            ")]),t._v(" "),a("div",[t._v("4.《劝学》开篇就提出了全文的中心论点，即“ 学不可以已 ”。在后面又阐明了学习要持之以恒的句子是：锲而舍之，朽木不折；锲而不舍，金石可镂。\n            ")]),t._v(" "),a("div",[t._v("5.《劝学》篇中强调君子并非有何差异，只是善于借助外力的一句：君子生非异也，善假于物也。\n            ")]),t._v(" "),a("div",[t._v("6.《劝学》篇中强调空想不如学习的一句：吾尝终日而思矣，不如须臾之所学也。\n            ")]),t._v(" "),a("div",[t._v("7.《劝学》中强调学习应当用心专一，并且从正面设喻，指出即使像蚯蚓那样弱小，如果用心专一也会有所成的句子是：蚓无爪牙之利，筋骨之强，上食埃土，下饮黄泉，用心一也。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《庄子·逍遥游》"}},[a("div",[t._v("1.在《逍遥游》中描绘大鹏依然有所恃的句子是：抟扶摇而上者九万里，去以六月息者也。\n            ")]),t._v(" "),a("div",[t._v("2.《庄子·逍遥游》中以“朝菌”和“蟪蛄”为例来说明“小年”一词的两句是：朝菌不知晦朔，蟪蛄不知春秋。\n            ")]),t._v(" "),a("div",[t._v("3.《逍遥游》中作者举现实生活中的很小的实物也需要依凭外物实例与大鹏鸟的“海运将徙”作对比，形象地说明任何事物都有所凭借的句子是：野马也，尘埃也，生物之以息相吹也。\n            ")]),t._v(" "),a("div",[t._v("4.《逍遥游》中举现实生活中的实例，通过舟的浮动对水的依赖性，从而得出结论来说明大鹏鸟的飞翔对风的依赖性的句子是：风之积也不厚，则其负大翼也无力。\n            ")]),t._v(" "),a("div",[t._v("5.庄子从奇妙莫测的描写后接着以现实社会的四种人的具体描述，《逍遥游》中描写四种人的句子分别是：故夫知效一官，行比一乡，德合一君，而征一国者。\n            ")]),t._v(" "),a("div",[t._v("6.《逍遥游》中作者提出自己的观点——“无所待”才是真正的逍遥的并列句了三类人的句子是：至人无己，神人无功，圣人无名。\n            ")]),t._v(" "),a("div",[t._v("7.《逍遥游》中对天空的颜色成因进行了探寻，并发出了疑问的两句是：其正色邪？其远而无所至极邪？\n            ")]),t._v(" "),a("div",[t._v("8.《逍遥游》中写宋荣子看淡了世间的荣辱，不会因为外界的评价而更加奋勉或沮丧的句子是：且举世誉之而不加劝，举世非之而不加沮。\n            ")]),t._v(" "),a("div",[t._v("9.《逍遥游》中当看到大鹏经过一系列的准备才能“图南”之后，蜩与学鸠通过形象地描述自己在林中飞行和休息的样子来嘲笑大鹏鸟的句子是：我决起而飞，抢榆枋而止。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《师说》韩愈"}},[a("div",[t._v("1.《师说》所说的“师”，有其独特含义，明确自己所说的老师不是指启蒙教师的句子是：彼童子之师，授之书而习其句读者，非吾所谓传其道解其惑者也。\n            ")]),t._v(" "),a("div",[t._v("2.《师说》从多个方面进行对比，抨击“耻学于师”的人，先用古今对比，指出从师与不从师的两种结果，并用一个反问句推断圣人更圣明，愚人更愚笨的原因的语句是：圣人之所以为圣，愚人之所以为愚，其皆出于此乎？\n            ")]),t._v(" "),a("div",[t._v("3.《师说》中以为子择师和自己不从师作对比，韩愈直接点明自己的态度，认为这样做，最终导致的结果是：小学而大遗，吾未见其明也。\n            ")]),t._v(" "),a("div",[t._v("4.《师说》中韩愈认为老师的职能是：师者，所以传道受业解惑也；择师的标准是：是故无贵无贱，无长无少，道之所存，师之所存也。\n            ")]),t._v(" "),a("div",[t._v("5.《师说》中韩愈眼中的师生关系是怎样的：是故弟子不必不如师，师不必贤于弟子，闻道有先后，术业有专攻，如是而已。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《阿房宫赋》杜牧"}},[a("div",[t._v("1.古人写文章常常借古讽今。杜牧《阿房宫赋》：“呜呼! 灭六国者六国也，非秦也；族秦者秦也，非天下也。”借秦灭亡的教训批评唐敬宗广建宫室。\n            ")]),t._v(" "),a("div",[t._v("2.通过阿房宫的兴毁提示秦王历史教训，文中说：“秦人不暇自哀，而后人哀之；后人哀之而不鉴之，亦使后人而复哀后人也。”\n            ")]),t._v(" "),a("div",[t._v("3.不吸取经验教训让人痛惜，正如杜牧《阿房宫赋》中说：“后人哀之而不鉴之，亦使后人而复哀后人也。\n            ")]),t._v(" "),a("div",[t._v("4.《阿房宫赋》中作者泼墨写意，粗笔勾勒。言阿房宫占地之广，状其楼阁之高的句子是：覆压三百余里，隔离天日。\n            ")]),t._v(" "),a("div",[t._v("5.《阿房宫赋》中从人们的主观感受写宫内歌舞盛况。既是以歌舞之纷繁衬托宫殿之众多，又为下文美女充盈宫室预作铺垫的句子是：歌台暖响，春光融融；舞殿冷袖，风雨凄凄。\n            ")]),t._v(" "),a("div",[t._v("6.《阿房宫赋》中用倒置式的暗喻。以璀璨晶亮的明星来比喻纷纷打开的妆镜，既贴切又形象。将喻体置放在前，先予以人鲜明的画面，令人惊奇，再出现本体，解释原因，使读者印象更为强烈得语句是：明星荧荧，开妆镜也。\n            ")]),t._v(" "),a("div",[t._v("7.《阿房宫赋》中既在广阔的历史背景上引出阿房宫的修建，又起到了笼盖全篇、暗示主题的作用的句子是：六王毕，四海一；蜀山兀，阿房出。\n            ")]),t._v(" "),a("div",[t._v("8.《阿房宫赋》中从最普遍的民心人性的角度，说明人心没有区别，都追求幸福快乐、都挂念家小，对秦统治者的残民以自肥作了有力的抨击的语句是：一人之心，千万人之心也。秦爱纷奢，人亦念其家。\n            ")]),t._v(" "),a("div",[t._v("9.《阿房宫赋》中总括秦的纷奢是建立在对人民的剥削和掠夺之上的，并且还挥霍无度的语句是：奈何取之尽锱铢，用之如泥沙？\n            ")]),t._v(" "),a("div",[t._v("10.《阿房宫赋》中杜牧在本文中最后总结，六国和秦国的灭亡都是由于不修自身，咎由自取，怨不得别人的语句是：灭六国者六国也，非秦也。族秦者秦也，非天下也。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《赤壁赋》苏轼"}},[a("div",[t._v("1.《赤壁赋》中写江上水汽弥漫，江水无边无际和远方天际相接的句子是：白露横江，水光接天。\n            ")]),t._v(" "),a("div",[t._v("2.《赤壁赋》中概括了曹操军队在攻破荆州顺流而下的军容盛状的句子是：舳舻千里，旌旗蔽空。\n            ")]),t._v(" "),a("div",[t._v("3.《赤壁赋》中叙写江水流逝却始终长流不息，月亮盈亏却无所增减的哲理的句子：逝者如斯，而未尝往也，盈虚者如彼，而卒莫消长也。\n            ")]),t._v(" "),a("div",[t._v("4.《赤壁赋》中用高超的手法描写动人的音乐：舞幽壑之潜蛟，泣孤舟之嫠妇。\n            ")]),t._v(" "),a("div",[t._v("5.苏轼在《赤壁赋》中慨叹“人生短促，人很渺小”的句子是：寄蜉蝣于天地，渺沧海之一粟。\n            ")]),t._v(" "),a("div",[t._v("6.《赤壁赋》中写清风明月为吾享用的句子：惟江上之清风，与山间之明月，耳得之而为声，目遇之而成色。\n            ")]),t._v(" "),a("div",[t._v("7.《赤壁赋》中写清风与明月可尽情享用，无人禁止，无穷无尽的句子：取之无禁，用之不竭。\n            ")]),t._v(" "),a("div",[t._v("8.《赤壁赋》中写希望与神仙相交，与明月同在的句子：挟飞仙以遨游，抱明月而长终。\n            ")]),t._v(" "),a("div",[t._v("9.《赤壁赋》中写月亮升起后，对游人依依眷恋，脉脉含情，实则是游人对明月的喜爱的句子：少焉，月出于东山之上，徘徊于斗牛之间。\n            ")]),t._v(" "),a("div",[t._v("10.《赤壁赋》中写作者在江面上自由飘荡，似乎是在浩荡的宇宙间乘风飞行，飘飘忽忽升入仙境里去的句子：浩浩乎如冯虚御风，而不知其所止；飘飘乎如遗世独立，羽化而登仙。\n            ")]),t._v(" "),a("div",[t._v("11.《赤壁赋》中写作者引吭高歌，吟诵古代咏月的诗歌，召唤月亮飞行的句子：诵明月之诗，歌窈窕之章。\n            ")]),t._v(" "),a("div",[t._v("12.《赤壁赋》中描绘秋江的爽朗和澄清，也恰好体现作者怡然自得的心境的句子：清风徐来，水波不兴。\n            ")]),t._v(" "),a("div",[t._v("13.《赤壁赋》中写客人箫声之悲伤幽怨的句子：如怨如慕，如泣如诉，余音袅袅，不绝如缕。\n            ")]),t._v(" "),a("div",[t._v("14.《赤壁赋》中用蛟龙嫠妇听箫声的感受来突出箫声的悲凉与幽怨的句子：舞幽壑之潜蛟，泣孤舟之嫠妇。\n            ")]),t._v(" "),a("div",[t._v("15.《赤壁赋》中以月亮作比，描写世间万物变化的规律的句子是：盈虚者如彼，而卒莫消长也。\n            ")]),t._v(" "),a("div",[t._v("16.《赤壁赋》中从不变的角度，描述人与万物的关系：自其不变者而观之，则物与我皆无尽也。\n            ")]),t._v(" "),a("div",[t._v("17.《赤壁赋》中告诉我们别人的东西虽小也不能占有：苟非吾之所有，虽一毫而莫取。\n            ")]),t._v(" "),a("div",[t._v("18.《赤壁赋》中写作者荡漾江中，与麋鹿为伴的句子是：况吾与子渔樵于江渚之上，侣鱼虾而友麋鹿。\n            ")]),t._v(" "),a("div",[t._v("19.《赤壁赋》中写作者与友人于扁舟举杯共饮的句子是：驾一叶之扁舟，举匏樽以相属。\n            ")]),t._v(" "),a("div",[t._v("20.《赤壁赋》中用比喻的修辞手法，感叹我们个人在天地间生命的短暂和个体的渺小的句子：寄蜉蝣于天地，渺沧海之一粟。\n            ")]),t._v(" "),a("div",[t._v("21.《赤壁赋》中描写诗人行舟的感觉，像身上长上了翅膀：飘飘乎如遗世独立，羽化而登仙。\n            ")]),t._v(" "),a("div",[t._v("22.《赤壁赋》中诗人在饮酒后，唱出对远在天边的女子的思念：渺渺兮予怀，望美人兮天一方。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《诗经·氓》"}},[a("div",[t._v("1.《诗经·氓》中写女子在无奈下与男子约定婚期的句子是：将子无怒，秋以为期。\n            ")]),t._v(" "),a("div",[t._v("2.《诗经·氓》中用动物比喻女子不要沉迷爱情的句子是：于嗟鸠兮，无食桑葚。\n            ")]),t._v(" "),a("div",[t._v("3.《诗经·氓》中写女子家人对其不理解的句子是：兄弟不知，咥其笑矣。\n            ")]),t._v(" "),a("div",[t._v("4.《诗经·氓》中与“青梅竹马”意境相仿的一句是：总角之宴，言笑晏晏。\n            ")]),t._v(" "),a("div",[t._v("5.《诗经·氓》中写女子不愿同氓终老的句子是：及尔偕老，老使我怨。\n            ")]),t._v(" "),a("div",[t._v("6.《诗经·氓》中通过写桑叶凋落喻指女子年华逝去的一句是：桑之落矣，其黄而陨。\n            ")]),t._v(" "),a("div",[t._v("7.《诗经·氓》中写女子在断墙上眺望心上人，见到心上人后前后行为差异的句子是：不见复关，泣涕涟涟；既见复关，载笑载言。\n            ")]),t._v(" "),a("div",[t._v("8.《诗经·氓》中写女子回忆小时候与氓嬉戏玩耍的快乐场景的是：总角之宴，言笑晏晏。\n            ")]),t._v(" "),a("div",[t._v("9.《诗经·氓》中写女子为人妇后早晚辛苦劳动的句子是：三岁为妇，靡室劳矣；夙兴夜寐，靡有朝矣。\n            ")]),t._v(" "),a("div",[t._v("10.《诗经·氓》中写男子变化无常，三心二意的句子是：士也罔极，二三其德\n            ")]),t._v(" "),a("div",[t._v("11.《诗经·氓》中女子总述自己得出的生活经验的句子：“于嗟女兮，无与士耽!”\n            ")]),t._v(" "),a("div",[t._v("12.《诗经·氓》中女子表明自己不幸生活的感受和决心的句子：“反是不思，亦已焉哉!”\n            ")]),t._v(" "),a("div",[t._v("13.《诗经·氓》中表明文中女子热情、温柔的句子：既见复关，载笑载言。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《离骚》屈原"}},[a("div",[t._v("1.《离骚》一文中以博大的胸怀，对广大劳动人民寄予深深同情的语句是：长太息以掩涕兮,哀民生之多艰。\n            ")]),t._v(" "),a("div",[t._v("2.《离骚》中写自己虽崇尚美德约束自己，多少年仍然遭到贬黜的两句：余虽好修姱以鞿羁兮，謇朝谇而夕替。\n            ")]),t._v(" "),a("div",[t._v("3.《离骚》中“亦余心之所善兮，虽九死其犹未悔。”诗人直抒胸臆、表白心志写自己对美好德行的追求，至死不改。\n            ")]),t._v(" "),a("div",[t._v("4.《离骚》中用香草做比喻说明自己遭贬黜是因为德行高尚的两句：既替余以蕙纕兮,又申之以揽茝。\n            ")]),t._v(" "),a("div",[t._v("5.《离骚》中诗人怨恨楚怀王昏聩糊涂，轻信谣言的语句是：怨灵修之浩荡兮，终不察夫民心 。\n            ")]),t._v(" "),a("div",[t._v("6.《离骚》中表明自己遭到不公正对待的原因之一是在上位者的荒唐的两句：怨灵修之浩荡兮,终不察夫民心。\n            ")]),t._v(" "),a("div",[t._v("7.《离骚》中表明自己因为德行美好而遭到小人诽谤的两句：众女嫉余之蛾眉兮，谣诼谓余以善淫。\n            ")]),t._v(" "),a("div",[t._v("8.《离骚》中表明自己所处的社会本来就是善于投机取巧，违背规矩的现状的两句：固时俗之工巧兮，偭规矩而改错。\n            ")]),t._v(" "),a("div",[t._v("9.《离骚》中表明当时社会中的人们违背准则，把苟合取悦别人奉为信条的两句：背绳墨以追曲兮，竞周容以为度。\n            ")]),t._v(" "),a("div",[t._v("10.《离骚》中表明作者在黑暗混乱社会中烦闷失意，走投无路的两句：忳郁邑余侘傺兮，吾独穷困乎此时也。\n            ")]),t._v(" "),a("div",[t._v("11.《离骚》中表明作者宁可死去，也不会和世俗小人一样媚俗取巧的两句：宁溘死以流亡兮，余不忍为此态也。\n            ")]),t._v(" "),a("div",[t._v("12.《离骚》中用大鸟和小鸟不合群来比喻说明自己绝不随波逐流的两句：鸷鸟之不群兮，自前世而固然。\n            ")]),t._v(" "),a("div",[t._v("13.《离骚》中用方圆不相合说明自己和世俗小人不相容的两句：何方圜之能周兮？夫孰异道而相安？\n            ")]),t._v(" "),a("div",[t._v("14.《离骚》中表明作者保持清白为正道而死，也是以古贤为榜样的两句(表明自己追慕古代圣贤，宁死不失正义) ：“伏清白以死直兮，固前圣之所厚。”\n            ")]),t._v(" "),a("div",[t._v("15.《离骚》中屈原委婉表达自己后悔选择做官，想要归隐的两句：悔相道之不察兮，延伫乎吾将反。\n            ")]),t._v(" "),a("div",[t._v("16.《离骚》中屈原表达趁着迷途未远，赶紧回到正路的两句：回朕车以复路兮，及行迷之未远。\n            ")]),t._v(" "),a("div",[t._v("17.《离骚》中屈原通过自己退隐后骑马到达长满兰草的水边和长满椒树的山岗表明自己从朝廷隐退为了修养自己的两句：步余马于兰皋兮，驰椒丘且焉止息。\n            ")]),t._v(" "),a("div",[t._v("18.《离骚》中屈原表明自己在朝中被指责，不如隐退的两句：进不入以离尤兮，退将复修吾初服。\n            ")]),t._v(" "),a("div",[t._v("19.《离骚》中屈原用荷花表明自己要修养自己的两句：制芰荷以为衣兮，集芙蓉以为裳。\n            ")]),t._v(" "),a("div",[t._v("20.《离骚》中屈原表明即使没有人了解自己也无所谓，只要自己内心买好就可以的两句话：不吾知其亦已兮，苟余情其信芳。\n            ")]),t._v(" "),a("div",[t._v("21.《离骚》中屈原通过加高自己的帽子和佩带表明要使自己品格更加高洁的两句：高余冠之岌岌兮，长余佩之陆离。\n            ")]),t._v(" "),a("div",[t._v("22.《离骚》中屈原表明人各有各的乐趣，而他穷其一生追求美政的两句：民生各有所乐兮，余独好修以为常。\n            ")]),t._v(" "),a("div",[t._v("23.《离骚》中用反问句表明屈原即使受挫也不会改变自己志向的两句：虽体解吾犹未变兮，岂余心之可惩？\n            ")]),t._v(" "),a("div",[t._v("24.《离骚》中表明自己即使佩带芳草和玉佩，但是自己光明纯洁的品质没有亏损的两句：芳与泽其杂糅兮，唯昭质其犹未亏。\n            ")]),t._v(" "),a("div",[t._v("25.《离骚》中表现诗人忧国忧民、热爱祖国的诗句：长太息以掩涕兮，哀民生之多艰。\n            ")]),t._v(" "),a("div",[t._v("26.《离骚》中表现诗人坚持真理、献身理想的诗句：亦余心之所善兮，虽九死其犹未悔。\n            ")]),t._v(" "),a("div",[t._v("27.《离骚》中表现诗人嫉恶如仇、不同流合污的诗句：宁溘死以流亡兮，余不忍为此态也。\n            ")]),t._v(" "),a("div",[t._v("28.《离骚》中表现诗人刚正不阿、一身正气的诗句：伏清白以死直兮，固前圣之所厚。\n            ")]),t._v(" "),a("div",[t._v("29.《离骚》中表现诗人洁身自好、自我完善的诗句：民生各有所乐兮，余独好修以为常。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《蜀道难》李白"}},[a("div",[t._v("1.《蜀道难》的主旨句是：蜀道之难，难于上青天。\n            ")]),t._v(" "),a("div",[t._v("2.《蜀道难》中运用夸张修辞方法，写出秦蜀之间崇山叠岭、不可逾越的句子是：西当太白有鸟道，可以横绝峨眉巅。\n            ")]),t._v(" "),a("div",[t._v("3.《蜀道难》中写出水石相激、山谷轰鸣的惊险场面的句子是：飞湍瀑流争喧豗，砯崖转石万壑雷。\n            ")]),t._v(" "),a("div",[t._v("4.《蜀道难》中运用夸张极言山峰之高、绝壁之险，渲染惊险的气氛的句子：连峰去天不盈尺，枯松倒挂倚绝壁。\n            ")]),t._v(" "),a("div",[t._v("5.《蜀道难》中虚写映衬表现蜀道的雄奇险峻的句子：黄鹤之飞尚不得过，猿猱欲度愁攀援。\n            ")]),t._v(" "),a("div",[t._v("6.《蜀道难》中表明历史悠久，和外界交通不便的句子：尔来四万八千岁，不与秦塞通人烟。\n            ")]),t._v(" "),a("div",[t._v("7.李白在《蜀道难》一诗中，开篇以蜀地方言咏叹点出主题，为全诗奠下雄浑感情基调的句子是“噫吁嚱，危乎高哉！”。\n            ")]),t._v(" "),a("div",[t._v("8.李白在《蜀道难》一诗中，“尔来四万八千岁，不与秦塞通人烟。”运用夸张的手法表示自古以来秦、蜀之间少有往来。之所以如此，就是因为“西当太白有鸟道，可以横绝峨眉巅”，进一步表明秦、蜀之间为高山峻岭所阻挡。\n            ")]),t._v(" "),a("div",[t._v("9.李白在《蜀道难》一诗中引用神话传说为其增添了浪漫气息，如引用“五丁开山”一神话的句子是“地崩山摧壮士死，然后天梯石栈相钩连。”\n            ")]),t._v(" "),a("div",[t._v("10.李白在《蜀道难》一诗中，运用神话、夸张、衬托的手法来写蜀山之高险的句子有“上有六龙回日之高标，下有冲波逆折之回川。黄鹤之飞尚不得过，猿猱欲度愁攀援。”\n            ")]),t._v(" "),a("div",[t._v("11.李白在《蜀道难》一诗中，摹写行人艰难的步履、惶恐的神情的句子是“扪参历井仰胁息，以手抚膺坐长叹”。\n            ")]),t._v(" "),a("div",[t._v("12.李白在《蜀道难》一诗中，但见悲鸟号古木，雄飞雌从绕林间。又闻子规啼夜月，愁空山。为我们渲染了旅愁和蜀道上空寂苍凉的环境气氛。\n            ")]),t._v(" "),a("div",[t._v("13.李白在《蜀道难》一诗中指出逶迤千里的蜀道，还有更为奇险的风光。诗人先用“连峰去天不盈尺，枯松倒挂倚绝壁。”托出山势的高险，然后由静而动，“飞湍瀑流争喧豗，砯崖转石万壑雷”写出水石激荡、山谷空鸣的场景。\n            ")]),t._v(" "),a("div",[t._v("14.李白在《蜀道难》一诗中，写出了剑阁地势险要，易守难攻的特点的句子是“剑阁峥嵘而崔嵬，一夫当关，万夫莫开。”\n            ")]),t._v(" "),a("div",[t._v("15.李白在《蜀道难》一诗中，化用西晋张载《剑阁铭》中“形胜之地，匪亲勿居”语句的句子是“一夫当关，万夫莫开。所守或匪亲，化为狼与豺”，从而表达了对国事的忧虑与关切。\n            ")]),t._v(" "),a("div",[t._v("16.从李白《蜀道难》一诗中“蜀道之难，难于上青天，侧身西望长咨嗟！”的长叹中，我们似乎也感受到了诗人对功业难成的一声叹息。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《登高》杜甫"}},[a("div",[t._v("1.杜甫一生失意，常陷入病痛孤独之境，《登高》一诗对此都有直接描述，这些句子是：万里悲秋常作客，百年多病独登台。\n            ")]),t._v(" "),a("div",[t._v("2.杜甫在《登高》中发出：“万里悲秋常作客，百年多病独登台”的感慨，抒发了漂泊异乡，年老体衰的惆怅之情，也蕴含着与生命的衰弱顽强抗争的精神。\n            ")]),t._v(" "),a("div",[t._v("3.《登高》中由高到低，写诗人所见所闻，渲染秋江景物特点的句子是：风急天高猿啸哀，渚清沙白鸟飞回。\n            ")]),t._v(" "),a("div",[t._v("4.《登高》中写远望所见，用传神之笔描写凄冷江色和长江气势的句子是：无边落木萧萧下，不尽长江滚滚来。\n            ")]),t._v(" "),a("div",[t._v("5.《登高》中用落叶和江水抒发时光易逝．壮志难酬的感伤的句子是：无边落木萧萧下，不尽长江滚滚来。\n            ")]),t._v(" "),a("div",[t._v("6.《登高》中情景交融．意境旷达，极写自己羁旅之愁和孤独之感的句子是：万里悲秋常作客，百年多病独登台。\n            ")]),t._v(" "),a("div",[t._v("7.《登高》中道出郁积诗人心中的自身之苦和国运之恨，无限悲凉难以排遣的句子是：艰难苦恨繁霜鬓，潦倒新停浊酒杯。\n            ")]),t._v(" "),a("div",[t._v("8.《登高》中本诗的主旨句（表现诗人忧国伤时）的句子是：艰难苦恨繁霜鬓，潦倒新停浊酒杯。\n            ")]),t._v(" "),a("div",[t._v("9.杜甫《登高》中为我们营造了一幅气势磅礴的长江秋日图的句是: 无边落木萧萧下，不尽长江滚滚来。\n            ")]),t._v(" "),a("div",[t._v("10.杜甫《登高》中集中表现了夔州秋天的典型特征的句子是: 风急天高猿啸哀，渚清沙白鸟飞回。前人也曾把这两句誉为“古今独步”的“句中化境”。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《琵琶行》白居易"}},[a("div",[t._v("1.《琵琶行》中“嘈嘈切切错杂弹，大珠小珠落玉盘”由琴声想到珠玉声，是声音的类比联想。\n            ")]),t._v(" "),a("div",[t._v("2.《琵琶行》中描写琵琶女犹豫不决而出场的诗句是：千呼万唤始出来，犹抱琵琶半遮面\n            ")]),t._v(" "),a("div",[t._v("3.“同是天涯沦落人，相逢何必曾相识”是《琵琶行》的主旨，更是诗人与琵琶女感情的共鸣。\n            ")]),t._v(" "),a("div",[t._v("4.《琵琶行》中描写琵琶声的句子：“别有幽愁暗恨生，此时无声胜有声。银瓶乍破水浆迸，铁骑突出刀枪鸣”。\n            ")]),t._v(" "),a("div",[t._v("5.《琵琶行》中既交待秋天的背景又蕴含离别之意的句子是：浔阳江头夜送客，枫叶荻花秋瑟瑟。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《锦瑟》李商隐"}},[a("div",[t._v("1.《锦瑟》中以锦瑟起兴，引起对华年往事的追忆的句子是：锦瑟无端五十弦，一弦一柱思华年。\n            ")]),t._v(" "),a("div",[t._v("2.《锦瑟》一诗的颈联是：沧海月明珠有泪，蓝田日暖玉生烟，它表现的这种可望不可即的理想境界代表的是诗人全部的情感。\n            ")]),t._v(" "),a("div",[t._v("3.《锦瑟》用典的四句诗：庄生晓梦迷蝴蝶，望帝春心托杜鹃。沧海月明珠有泪，蓝田日暖玉生烟。\n            ")]),t._v(" "),a("div",[t._v("4.《锦瑟》一诗中回环曲折地表达了自己的惆怅苦痛，让人为之哀惋不已的句子是：此情可待成追忆，只是当时已惘然。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《虞美人（春花秋月何时了）》李煜"}},[a("div",[t._v("1.李煜的《虞美人》一词中一个诘句惊心动魄，把李煜的愁闷劈空倾泻下来，这个句子是：春花秋月何时了？往事知多少。这其中包涵宇宙的永恒和人生的短暂无常之意。\n            ")]),t._v(" "),a("div",[t._v("2.李煜的《虞美人》一词中含蓄地表现出李煜对人生绝望的句子是：春花秋月何时了？往事知多少。\n            ")]),t._v(" "),a("div",[t._v("3.李煜的《虞美人》一词中表现词人在永不停止消逝的时光面前感慨无限，同时放笔呼号，发出一声深沉的感叹的句子是：小楼昨夜又东风，故国不堪回首月明中。\n            ")]),t._v(" "),a("div",[t._v("4.李煜的《虞美人》一词中直接抒发亡国之恨的句子是：小楼昨夜又东风，故国不堪回首月明中。\n            ")]),t._v(" "),a("div",[t._v("5.李煜的《虞美人》一词中用对比手法，反衬出人生无常的句子是：雕栏玉砌应犹在，只是朱颜改。\n            ")]),t._v(" "),a("div",[t._v("6.李煜的《虞美人》一词中词人遥望金陵想象，并传出物是人非的无限怅恨的慨叹的句子是：雕栏玉砌应犹在，只是朱颜改。\n            ")]),t._v(" "),a("div",[t._v("7.李煜的《虞美人》一词中用比喻．夸张．设问手法写出愁思的多与深广的句子是：问君能有几多愁？恰似一江春水向东流。\n            ")]),t._v(" "),a("div",[t._v("8.李煜的《虞美人》一词中以水喻愁的名句，将抽象的情感形象化的句子是：问君能有几多愁？恰似一江春水向东流。\n            ")]),t._v(" "),a("div",[t._v("9.李煜的《虞美人》一词中将现实与过去对比来写的句子是：春花秋月何时了？往事知多少。小楼昨夜又东风，故国不堪回首月明中。\n            ")]),t._v(" "),a("div",[t._v("10.李煜的《虞美人》把抽象的感情形象化，写愁的多与绵绵不断的句子是：问君能有几多愁？恰似一江春水向东流。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《念奴娇·赤壁怀古》苏轼"}},[a("div",[t._v("1.苏轼《念奴娇•赤壁怀古》“谈笑间，樯橹灰飞烟灭”，描绘了周瑜的英气勃发。\n            ")]),t._v(" "),a("div",[t._v("2.苏轼《念奴娇•赤壁怀古》中，运用比喻修辞描写赤壁古战场的险要形势的一句：乱石穿空，惊涛拍岸，卷起千堆雪。\n            ")]),t._v(" "),a("div",[t._v("3.《念奴娇•赤壁怀古》中既点题，又为周瑜出场营造声势的句子是：大江东去，浪淘尽，千古风流人物。\n            ")]),t._v(" "),a("div",[t._v("4.《念奴娇•赤壁怀古》中具体描写“江山如画”之意的句子是：乱石穿空，惊涛拍岸，卷起千堆雪。\n            ")]),t._v(" "),a("div",[t._v("5.《念奴娇•赤壁怀古》中表达诗人旷达之情的句子是：人生如梦，一尊还酹江月。\n            ")])]),t._v(" "),a("el-collapse-item",{attrs:{title:"《永遇乐·京口北固亭怀古》辛弃疾"}},[a("div",[t._v("1.《永遇乐•京口北固亭怀古》作者登高望远，首先想到孙权这位著名的历史人物不禁感叹的两句：千古江山，英雄无觅孙仲谋处。\n            ")]),t._v(" "),a("div",[t._v("2.《永遇乐•京口北固亭怀古》感叹东吴那个强盛的局面，孙权那个英雄、风流余韵，都经历了无数的风雨，一去不返了的句子是：舞榭歌台，风流总被雨打风吹去。\n            ")]),t._v(" "),a("div",[t._v("3.《永遇乐•京口北固亭怀古》中辛弃疾赞叹刘裕北伐的赫赫战功的两句是：金戈铁马，气吞万里如虎。\n            ")]),t._v(" "),a("div",[t._v("4.《永遇乐•京口北固亭怀古》中写刘裕的儿子刘义隆轻率举兵北伐，结果吃了败仗，张皇南逃，狼狈不堪的句子是：元嘉草草，封狼居胥，赢得仓皇北顾。\n            ")]),t._v(" "),a("div",[t._v("5.《永遇乐•京口北固亭怀古》中词人借历史影射现实，说南宋的失败，金人的南侵，国家的耻辱随着时光的流逝，而渐渐地被人们淡忘了的句子是：可堪回首，佛狸祠下，一片神鸦社鼓。\n            ")]),t._v(" "),a("div",[t._v("6.《永遇乐•京口北固亭怀古》中苏轼借用廉颇的典故，表明自己显然年老却还是壮志犹存，希望能够为国立功的句子是：凭谁问：廉颇老矣，尚能饭否？\n            ")])])],1)],1)]),t._v(" "),a("div",{staticClass:"column"},[t._m(0),t._v(" "),a("svg",{attrs:{id:"graph"}}),t._v(" "),t._m(1),t._v(" "),a("div",{attrs:{id:"zoombtn"}},[a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_in",type:"primary",icon:"el-icon-plus",circle:""}}),t._v(" "),a("el-button",{staticClass:"zoomBtn",attrs:{id:"zoom_out",type:"primary",icon:"el-icon-minus",circle:""}})],1)]),t._v(" "),t._m(2)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"btnlist"},[e("div",{attrs:{id:"leibie"}},[e("div",{attrs:{id:"search"}},[e("input",{attrs:{type:"text",placeholder:"请输入您要搜索的内容..."}})])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"mode"}},[e("span",{staticClass:"active",staticStyle:{"border-top-right-radius":"0","border-bottom-right-radius":"0"}},[this._v("节点")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-5px"}},[this._v("文字")]),this._v(" "),e("span",{staticStyle:{"border-top-left-radius":"0","border-bottom-left-radius":"0",position:"relative",left:"-10px"}},[this._v("全选")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"column",attrs:{id:"tip"}},[e("div",[e("div",[e("img",{staticClass:"myimg",attrs:{src:"",alt:""}})]),this._v(" "),e("div",{attrs:{id:"info1"}},[e("h4")])])])}]};var bi=a("VU/8")(_i,xi,!1,function(t){a("j6Ww")},"data-v-57c33d4e",null).exports;a("/66K");var ki={methods:{tojinchao:function(){this.$router.push("./jinchao")},tolianghan:function(){this.$router.push("./lianghan")},tomingchao:function(){this.$router.push("./mingdai")},tonanbeichao:function(){this.$router.push("./nanbeichao")},toqingchao:function(){this.$router.push("./qing")},tosongchao:function(){this.$router.push("./song")},tosuichao:function(){this.$router.push("./sui")},totangchao:function(){this.$router.push("./tang")},toweijin:function(){this.$router.push("./weijin")},towudai:function(){this.$router.push("./wudai")},toxianqin:function(){this.$router.push("./xianqin")},toyuanchao:function(){this.$router.push("./yuan")},initMap:function(){var t,e=a("XLwt"),n=document.getElementById("mapchart"),i=e.init(n),r=[{name:"陆游",value:11052},{name:"苏轼",value:6487},{name:"刘克庄",value:5645},{name:"杨万里",value:5184},{name:"梅尧臣",value:3381},{name:"黄庭坚",value:3042},{name:"范成大",value:2598},{name:"欧阳修",value:2364},{name:"辛弃疾",value:2260},{name:"王安石",value:2243},{name:"苏辙",value:1915},{name:"吴文英",value:1775},{name:"宋祁",value:1758},{name:"曹勋",value:1740},{name:"司马光",value:1738},{name:"方岳",value:1722},{name:"邵雍",value:1689},{name:"李纲",value:1672},{name:"朱熹",value:1529},{name:"白玉蟾",value:1336}],s={"陆游":[120.58547847885335,30.0363693113069],"苏轼":[103.85656331579456,30.082526119421058],"刘克庄":[119.0145209781265,25.45986545592271],"杨万里":[115.00051072001253,27.119726826070448],"梅尧臣":[118.76553424276743,30.94660154529291],"黄庭坚":[115.96066124030492,29.666660847999456],"范成大":[120.59241222959322,31.303564074441766],"欧阳修":[115.44740243988527,27.324342103714045],"辛弃疾":[117.12639941261048,36.65655420178723],"王安石":[116.36453876864373,27.954892253419565],"苏辙":[103.85656331579456,30.082526119421058],"吴文英":[121.63084278185603,29.866068124069646],"宋祁":[113.69558292415309,31.261414994285975],"曹勋":[113.49522360557991,34.14826652246125],"司马光":[111.01338945447925,35.03270691290923],"方岳":[118.34543725314781,29.721889786591692],"邵雍":[115.98161971138242,39.49106583200048],"李纲":[117.49941950209916,27.346469966260766],"朱熹":[117.94945960312224,28.460625921851733],"白玉蟾":[119.30346983854001,26.080429420698078]},o=function(t){for(var e=[],a=0;a<t.length;a++){var n=s[t[a].name];n&&e.push({name:t[a].name,value:n.concat(t[a].value)})}return e},c=[],l=r.filter(function(t){return t.value>0});l=l.sort(function(t,e){return e.value-t.value});for(var u=0;u<20;u++)u<10?c.push("0"+u+l[u].name):c.push(u+l[u].name);function d(t){return t}t={title:{text:"",subtext:"",sublink:"",left:"center"},tooltip:{trigger:"item"},grid:{right:25,top:80,bottom:20,width:"200"},xAxis:{show:!1},yAxis:{type:"category",inverse:!0,nameGap:16,axisLine:{show:!1,lineStyle:{color:"#ddd"}},axisTick:{show:!1,lineStyle:{color:"#ddd"}},axisLabel:{interval:0,margin:105,textStyle:{align:"left",fontSize:14},rich:{a:{color:"#fff",backgroundColor:"#f0515e",width:20,height:20,align:"center",borderRadius:2},b:{color:"#fff",backgroundColor:"#24a5cd",width:20,height:20,align:"center",borderRadius:2},x:{color:"#f0515e"},y:{color:"#24a5cd"}},formatter:function(t){return parseInt(t.slice(0,2))<3?["{a|"+(parseInt(t.slice(0,2))+1)+"}  {x|"+d(t.slice(2))+"}"].join("\n"):["{b|"+(parseInt(t.slice(0,2))+1)+"}  {y|"+d(t.slice(2))+"}"].join("\n")}},data:c},bmap:{center:[113.01338945447925,33.03270691290923],zoom:6,roam:!0,mapStyle:{styleJson:[{featureType:"land",elementType:"geometry",stylers:{color:"#242f3eff"}},{featureType:"manmade",elementType:"geometry",stylers:{color:"#242f3eff"}},{featureType:"water",elementType:"geometry",stylers:{color:"#17263cff"}},{featureType:"road",elementType:"geometry.fill",stylers:{color:"#9e7d60ff"}},{featureType:"road",elementType:"geometry.stroke",stylers:{color:"#554631ff"}},{featureType:"districtlabel",elementType:"labels.text.fill",stylers:{color:"#d69563ff"}},{featureType:"districtlabel",elementType:"labels.text.stroke",stylers:{color:"#17263cff",weight:3}},{featureType:"poilabel",elementType:"labels.text.fill",stylers:{color:"#d69563ff"}},{featureType:"poilabel",elementType:"labels.text.stroke",stylers:{color:"#17263cff",weight:3}},{featureType:"subway",elementType:"geometry",stylers:{visibility:"off"}},{featureType:"railway",elementType:"geometry",stylers:{visibility:"off"}},{featureType:"poilabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"subwaylabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"subwaylabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"tertiarywaysign",elementType:"labels",stylers:{visibility:"off"}},{featureType:"tertiarywaysign",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"provincialwaysign",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"provincialwaysign",elementType:"labels",stylers:{visibility:"off"}},{featureType:"nationalwaysign",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"nationalwaysign",elementType:"labels",stylers:{visibility:"off"}},{featureType:"highwaysign",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"highwaysign",elementType:"labels",stylers:{visibility:"off"}},{featureType:"green",elementType:"geometry",stylers:{color:"#263b3eff"}},{featureType:"nationalwaysign",elementType:"labels.text.fill",stylers:{color:"#d0021bff"}},{featureType:"nationalwaysign",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"city",elementType:"labels",stylers:{visibility:"on"}},{featureType:"city",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"city",elementType:"labels.text.fill",stylers:{color:"#d69563ff"}},{featureType:"city",elementType:"labels.text.stroke",stylers:{color:"#17263cff"}},{featureType:"water",elementType:"labels.text.fill",stylers:{color:"#d69563ff"}},{featureType:"water",elementType:"labels.text.stroke",stylers:{color:"#242f3eff"}},{featureType:"local",elementType:"geometry.fill",stylers:{color:"#38414eff"}},{featureType:"local",elementType:"geometry.stroke",stylers:{color:"#ffffff00"}},{featureType:"fourlevelway",elementType:"geometry.fill",stylers:{color:"#38414eff"}},{featureType:"fourlevelway",elementType:"geometry.stroke",stylers:{color:"#ffffff00"}},{featureType:"tertiaryway",elementType:"geometry.fill",stylers:{color:"#38414eff"}},{featureType:"tertiaryway",elementType:"geometry.stroke",stylers:{color:"#ffffff00"}},{featureType:"tertiaryway",elementType:"labels.text.fill",stylers:{color:"#759879ff"}},{featureType:"fourlevelway",elementType:"labels.text.fill",stylers:{color:"#759879ff"}},{featureType:"highway",elementType:"labels.text.fill",stylers:{color:"#759879ff"}},{featureType:"highway",elementType:"geometry.fill",stylers:{color:"#9e7d60ff"}},{featureType:"highway",elementType:"geometry.stroke",stylers:{color:"#554631ff"}},{featureType:"provincialway",elementType:"geometry.fill",stylers:{color:"#9e7d60ff"}},{featureType:"provincialway",elementType:"geometry.stroke",stylers:{color:"#554631ff"}},{featureType:"tertiaryway",elementType:"labels.text.stroke",stylers:{color:"#1a2e1cff"}},{featureType:"fourlevelway",elementType:"labels.text.stroke",stylers:{color:"#1a2e1cff"}},{featureType:"highway",elementType:"labels.text.stroke",stylers:{color:"#1a2e1cff"}},{featureType:"nationalway",elementType:"labels.text.stroke",stylers:{color:"#1a2e1cff"}},{featureType:"nationalway",elementType:"labels.text.fill",stylers:{color:"#759879ff"}},{featureType:"nationalway",elementType:"geometry.fill",stylers:{color:"#9e7d60ff"}},{featureType:"nationalway",elementType:"geometry.stroke",stylers:{color:"#554631ff"}},{featureType:"cityhighway",elementType:"geometry.fill",stylers:{color:"#9e7d60ff"}},{featureType:"cityhighway",elementType:"geometry.stroke",stylers:{color:"#554631ff"}},{featureType:"arterial",elementType:"geometry.fill",stylers:{color:"#9e7d60ff"}},{featureType:"arterial",elementType:"geometry.stroke",stylers:{color:"#554631fa"}},{featureType:"medicallabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"medicallabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"entertainmentlabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"entertainmentlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"estatelabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"estatelabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"businesstowerlabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"businesstowerlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"companylabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"companylabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"governmentlabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"governmentlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"restaurantlabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"restaurantlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"hotellabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"hotellabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"shoppinglabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"shoppinglabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"lifeservicelabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"lifeservicelabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"carservicelabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"carservicelabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"financelabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"financelabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"otherlabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"otherlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"airportlabel",elementType:"labels",stylers:{visibility:"on"}},{featureType:"airportlabel",elementType:"labels.text.fill",stylers:{color:"#d69563ff"}},{featureType:"airportlabel",elementType:"labels.text.stroke",stylers:{color:"#17263cff"}},{featureType:"airportlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"highway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"6"}},{featureType:"highway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"7"}},{featureType:"highway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"8"}},{featureType:"highway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"9"}},{featureType:"highway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"10"}},{featureType:"highway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"6"}},{featureType:"highway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"7"}},{featureType:"highway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"8"}},{featureType:"highway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"9"}},{featureType:"highway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"10"}},{featureType:"nationalway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"6"}},{featureType:"nationalway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"7"}},{featureType:"nationalway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"8"}},{featureType:"nationalway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"9"}},{featureType:"nationalway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"10"}},{featureType:"nationalway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"6"}},{featureType:"nationalway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"7"}},{featureType:"nationalway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"8"}},{featureType:"nationalway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"9"}},{featureType:"nationalway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"10"}},{featureType:"nationalway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"6"}},{featureType:"nationalway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"7"}},{featureType:"nationalway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"8"}},{featureType:"nationalway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"9"}},{featureType:"nationalway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"10"}},{featureType:"highway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"6"}},{featureType:"highway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"7"}},{featureType:"highway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"8"}},{featureType:"highway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"9"}},{featureType:"highway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"10"}},{featureType:"provincialway",stylers:{curZoomRegionId:"0",curZoomRegion:"8,9",level:"8"}},{featureType:"provincialway",stylers:{curZoomRegionId:"0",curZoomRegion:"8,9",level:"9"}},{featureType:"provincialway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"8,9",level:"8"}},{featureType:"provincialway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"8,9",level:"9"}},{featureType:"provincialway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"8,9",level:"8"}},{featureType:"provincialway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"8,9",level:"9"}},{featureType:"cityhighway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"6"}},{featureType:"cityhighway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"7"}},{featureType:"cityhighway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"8"}},{featureType:"cityhighway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"9"}},{featureType:"cityhighway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"10"}},{featureType:"cityhighway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"6"}},{featureType:"cityhighway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"7"}},{featureType:"cityhighway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"8"}},{featureType:"cityhighway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"9"}},{featureType:"cityhighway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"10"}},{featureType:"cityhighway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"6"}},{featureType:"cityhighway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"7"}},{featureType:"cityhighway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"8"}},{featureType:"cityhighway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"9"}},{featureType:"cityhighway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"10"}},{featureType:"arterial",stylers:{curZoomRegionId:"0",curZoomRegion:"9,10",level:"9"}},{featureType:"arterial",stylers:{curZoomRegionId:"0",curZoomRegion:"9,10",level:"10"}},{featureType:"arterial",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"9,10",level:"9"}},{featureType:"arterial",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"9,10",level:"10"}},{featureType:"arterial",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"9,10",level:"9"}},{featureType:"arterial",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"9,10",level:"10"}},{featureType:"building",elementType:"geometry.topfill",stylers:{color:"#2a3341ff"}},{featureType:"building",elementType:"geometry.sidefill",stylers:{color:"#313b4cff"}},{featureType:"building",elementType:"geometry.stroke",stylers:{color:"#1a212eff"}},{featureType:"road",elementType:"labels.text.fill",stylers:{color:"#759879ff"}},{featureType:"road",elementType:"labels.text.stroke",stylers:{color:"#1a2e1cff"}},{featureType:"provincialway",elementType:"labels.text.fill",stylers:{color:"#759879ff"}},{featureType:"cityhighway",elementType:"labels.text.fill",stylers:{color:"#759879ff"}},{featureType:"arterial",elementType:"labels.text.fill",stylers:{color:"#759879ff"}},{featureType:"provincialway",elementType:"labels.text.stroke",stylers:{color:"#1a2e1cff"}},{featureType:"cityhighway",elementType:"labels.text.stroke",stylers:{color:"#1a2e1cff"}},{featureType:"arterial",elementType:"labels.text.stroke",stylers:{color:"#1a2e1cff"}},{featureType:"local",elementType:"labels",stylers:{visibility:"off"}},{featureType:"manmade",elementType:"labels.text.fill",stylers:{color:"#d69563ff"}},{featureType:"manmade",elementType:"labels.text.stroke",stylers:{color:"#17263cff"}},{featureType:"subwaystation",elementType:"geometry",stylers:{visibility:"off"}},{featureType:"transportationlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"transportationlabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"estate",elementType:"geometry",stylers:{color:"#2a3341ff"}}]}},series:[{name:"诗人的诗篇以及名句数量",type:"scatter",coordinateSystem:"bmap",data:o(r),symbolSize:function(t){return 10},encode:{value:2},label:{formatter:"{b}",position:"right",show:!1},emphasis:{label:{show:!0}}},{name:"诗人的诗篇以及名句数量",type:"scatter",coordinateSystem:"bmap",symbol:"pin",symbolSize:function(t){return 60},encode:{value:2},label:{normal:{show:!0,formatter:function(t){return t.data.name},textStyle:{color:"#fff",fontSize:13}}},itemStyle:{normal:{color:"#F62157"}},zlevel:6,data:o(r)},{name:"诗人的诗篇以及名句数量",type:"effectScatter",coordinateSystem:"bmap",data:o(r.sort(function(t,e){return e.value-t.value}).slice(0,6)),symbolSize:function(t){return t[2]/500},encode:{value:2},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{formatter:"{b}",position:"right",show:!0},itemStyle:{shadowBlur:10,shadowColor:"#333"},zlevel:1},{name:"诗人的诗篇以及名句数量",type:"bar",itemStyle:{normal:{color:function(t){var e=[{colorStops:[{offset:0,color:"#336633"},{offset:1,color:"#336633"}]},{colorStops:[{offset:0,color:"#336666"},{offset:1,color:"#336666"}]}];return t.dataIndex<3?e[0]:e[1]}},emphasis:{color:"#f0515e"}},label:{normal:{show:!0,position:"right",textBorderWidth:0}},data:l.slice(0,20)}]},i.setOption(t)}},mounted:function(){this.initMap()}},Ci={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("section",{staticClass:"mainbox"},[e("div",{staticClass:"column"},[e("div",{staticClass:"box mapchart",attrs:{id:"mapchart"}})])])])}]};var wi=a("VU/8")(ki,Ci,!1,function(t){a("rOJI")},"data-v-32cb3a56",null).exports;a("/66K");var Ei={methods:{tojinchao:function(){this.$router.push("./jinchao")},tolianghan:function(){this.$router.push("./lianghan")},tomingchao:function(){this.$router.push("./mingdai")},tonanbeichao:function(){this.$router.push("./nanbeichao")},toqingchao:function(){this.$router.push("./qing")},tosongchao:function(){this.$router.push("./song")},tosuichao:function(){this.$router.push("./sui")},totangchao:function(){this.$router.push("./tang")},toweijin:function(){this.$router.push("./weijin")},towudai:function(){this.$router.push("./wudai")},toxianqin:function(){this.$router.push("./xianqin")},toyuanchao:function(){this.$router.push("./yuan")},initMap:function(){var t,e=a("XLwt"),n=document.getElementById("mapchart"),i=e.init(n),r=[{name:"李白",value:6579},{name:"白居易",value:4208},{name:"杜甫",value:3438},{name:"韩愈",value:1772},{name:"柳宗元",value:1525},{name:"李商隐",value:1157},{name:"刘禹锡",value:1128},{name:"岑参",value:903},{name:"温庭筠",value:880},{name:"齐己",value:831},{name:"杜牧",value:795},{name:"王建",value:740},{name:"高适",value:688},{name:"刘长卿",value:650},{name:"陆龟蒙",value:639},{name:"贯休",value:626},{name:"孟郊",value:616},{name:"孟浩然",value:614},{name:"许浑",value:564},{name:"皎然",value:559}],s={"李白":[105.73141674566955,34.58741188165064],"白居易":[112.55639149167204,37.87698902884778],"杜甫":[113.02843100495258,34.754096888696935],"韩愈":[112.79739491253585,34.91359781788649],"柳宗元":[111.01338945447925,35.03270691290923],"李商隐":[113.24854783457334,35.22096325403899],"刘禹锡":[112.4594212983115,34.62426277921943],"岑参":[112.53450131351325,32.99656220465144],"温庭筠":[112.34244242768281,37.36413128347519],"齐己":[112.94547319535287,28.23488939994364],"杜牧":[108.94646555063274,34.34726881662395],"王建":[113.85847553685502,34.04143161161871],"高适":[115.6754061376161,37.745191408077424],"刘长卿":[118.76553424276743,30.94660154529291],"陆龟蒙":[120.59241222959322,31.303564074441766],"贯休":[119.4665987055372,29.214044345079238],"孟郊":[116.36555674397471,37.441308454576266],"孟浩然":[112.12853720100244,32.014796804669224],"许浑":[119.43048944567383,32.19471592052375],"皎然":[120.09451660915789,30.898963937294184]},o=function(t){for(var e=[],a=0;a<t.length;a++){var n=s[t[a].name];n&&e.push({name:t[a].name,value:n.concat(t[a].value)})}return e},c=[],l=r.filter(function(t){return t.value>0});l=l.sort(function(t,e){return e.value-t.value});for(var u=0;u<20;u++)u<10?c.push("0"+u+l[u].name):c.push(u+l[u].name);function d(t){return t}t={title:{text:"",subtext:"",sublink:"",left:"center"},tooltip:{trigger:"item"},grid:{right:25,top:80,bottom:20,width:"200"},xAxis:{show:!1},yAxis:{type:"category",inverse:!0,nameGap:16,axisLine:{show:!1,lineStyle:{color:"#ddd"}},axisTick:{show:!1,lineStyle:{color:"#ddd"}},axisLabel:{interval:0,margin:105,textStyle:{align:"left",fontSize:14},rich:{a:{color:"#fff",backgroundColor:"#f0515e",width:20,height:20,align:"center",borderRadius:2},b:{color:"#fff",backgroundColor:"#24a5cd",width:20,height:20,align:"center",borderRadius:2},x:{color:"#f0515e"},y:{color:"#24a5cd"}},formatter:function(t){return parseInt(t.slice(0,2))<3?["{a|"+(parseInt(t.slice(0,2))+1)+"}  {x|"+d(t.slice(2))+"}"].join("\n"):["{b|"+(parseInt(t.slice(0,2))+1)+"}  {y|"+d(t.slice(2))+"}"].join("\n")}},data:c},bmap:{center:[118.01338945447925,35.03270691290923],zoom:7,roam:!0,mapStyle:{styleJson:[{featureType:"land",elementType:"geometry",stylers:{color:"#242f3eff"}},{featureType:"manmade",elementType:"geometry",stylers:{color:"#242f3eff"}},{featureType:"water",elementType:"geometry",stylers:{color:"#17263cff"}},{featureType:"road",elementType:"geometry.fill",stylers:{color:"#9e7d60ff"}},{featureType:"road",elementType:"geometry.stroke",stylers:{color:"#554631ff"}},{featureType:"districtlabel",elementType:"labels.text.fill",stylers:{color:"#d69563ff"}},{featureType:"districtlabel",elementType:"labels.text.stroke",stylers:{color:"#17263cff",weight:3}},{featureType:"poilabel",elementType:"labels.text.fill",stylers:{color:"#d69563ff"}},{featureType:"poilabel",elementType:"labels.text.stroke",stylers:{color:"#17263cff",weight:3}},{featureType:"subway",elementType:"geometry",stylers:{visibility:"off"}},{featureType:"railway",elementType:"geometry",stylers:{visibility:"off"}},{featureType:"poilabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"subwaylabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"subwaylabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"tertiarywaysign",elementType:"labels",stylers:{visibility:"off"}},{featureType:"tertiarywaysign",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"provincialwaysign",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"provincialwaysign",elementType:"labels",stylers:{visibility:"off"}},{featureType:"nationalwaysign",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"nationalwaysign",elementType:"labels",stylers:{visibility:"off"}},{featureType:"highwaysign",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"highwaysign",elementType:"labels",stylers:{visibility:"off"}},{featureType:"green",elementType:"geometry",stylers:{color:"#263b3eff"}},{featureType:"nationalwaysign",elementType:"labels.text.fill",stylers:{color:"#d0021bff"}},{featureType:"nationalwaysign",elementType:"labels.text.stroke",stylers:{color:"#ffffffff"}},{featureType:"city",elementType:"labels",stylers:{visibility:"on"}},{featureType:"city",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"city",elementType:"labels.text.fill",stylers:{color:"#d69563ff"}},{featureType:"city",elementType:"labels.text.stroke",stylers:{color:"#17263cff"}},{featureType:"water",elementType:"labels.text.fill",stylers:{color:"#d69563ff"}},{featureType:"water",elementType:"labels.text.stroke",stylers:{color:"#242f3eff"}},{featureType:"local",elementType:"geometry.fill",stylers:{color:"#38414eff"}},{featureType:"local",elementType:"geometry.stroke",stylers:{color:"#ffffff00"}},{featureType:"fourlevelway",elementType:"geometry.fill",stylers:{color:"#38414eff"}},{featureType:"fourlevelway",elementType:"geometry.stroke",stylers:{color:"#ffffff00"}},{featureType:"tertiaryway",elementType:"geometry.fill",stylers:{color:"#38414eff"}},{featureType:"tertiaryway",elementType:"geometry.stroke",stylers:{color:"#ffffff00"}},{featureType:"tertiaryway",elementType:"labels.text.fill",stylers:{color:"#759879ff"}},{featureType:"fourlevelway",elementType:"labels.text.fill",stylers:{color:"#759879ff"}},{featureType:"highway",elementType:"labels.text.fill",stylers:{color:"#759879ff"}},{featureType:"highway",elementType:"geometry.fill",stylers:{color:"#9e7d60ff"}},{featureType:"highway",elementType:"geometry.stroke",stylers:{color:"#554631ff"}},{featureType:"provincialway",elementType:"geometry.fill",stylers:{color:"#9e7d60ff"}},{featureType:"provincialway",elementType:"geometry.stroke",stylers:{color:"#554631ff"}},{featureType:"tertiaryway",elementType:"labels.text.stroke",stylers:{color:"#1a2e1cff"}},{featureType:"fourlevelway",elementType:"labels.text.stroke",stylers:{color:"#1a2e1cff"}},{featureType:"highway",elementType:"labels.text.stroke",stylers:{color:"#1a2e1cff"}},{featureType:"nationalway",elementType:"labels.text.stroke",stylers:{color:"#1a2e1cff"}},{featureType:"nationalway",elementType:"labels.text.fill",stylers:{color:"#759879ff"}},{featureType:"nationalway",elementType:"geometry.fill",stylers:{color:"#9e7d60ff"}},{featureType:"nationalway",elementType:"geometry.stroke",stylers:{color:"#554631ff"}},{featureType:"cityhighway",elementType:"geometry.fill",stylers:{color:"#9e7d60ff"}},{featureType:"cityhighway",elementType:"geometry.stroke",stylers:{color:"#554631ff"}},{featureType:"arterial",elementType:"geometry.fill",stylers:{color:"#9e7d60ff"}},{featureType:"arterial",elementType:"geometry.stroke",stylers:{color:"#554631fa"}},{featureType:"medicallabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"medicallabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"entertainmentlabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"entertainmentlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"estatelabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"estatelabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"businesstowerlabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"businesstowerlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"companylabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"companylabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"governmentlabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"governmentlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"restaurantlabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"restaurantlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"hotellabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"hotellabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"shoppinglabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"shoppinglabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"lifeservicelabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"lifeservicelabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"carservicelabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"carservicelabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"financelabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"financelabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"otherlabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"otherlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"airportlabel",elementType:"labels",stylers:{visibility:"on"}},{featureType:"airportlabel",elementType:"labels.text.fill",stylers:{color:"#d69563ff"}},{featureType:"airportlabel",elementType:"labels.text.stroke",stylers:{color:"#17263cff"}},{featureType:"airportlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"highway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"6"}},{featureType:"highway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"7"}},{featureType:"highway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"8"}},{featureType:"highway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"9"}},{featureType:"highway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"10"}},{featureType:"highway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"6"}},{featureType:"highway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"7"}},{featureType:"highway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"8"}},{featureType:"highway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"9"}},{featureType:"highway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"10"}},{featureType:"nationalway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"6"}},{featureType:"nationalway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"7"}},{featureType:"nationalway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"8"}},{featureType:"nationalway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"9"}},{featureType:"nationalway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"10"}},{featureType:"nationalway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"6"}},{featureType:"nationalway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"7"}},{featureType:"nationalway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"8"}},{featureType:"nationalway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"9"}},{featureType:"nationalway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"10"}},{featureType:"nationalway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"6"}},{featureType:"nationalway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"7"}},{featureType:"nationalway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"8"}},{featureType:"nationalway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"9"}},{featureType:"nationalway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"10"}},{featureType:"highway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"6"}},{featureType:"highway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"7"}},{featureType:"highway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"8"}},{featureType:"highway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"9"}},{featureType:"highway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"10"}},{featureType:"provincialway",stylers:{curZoomRegionId:"0",curZoomRegion:"8,9",level:"8"}},{featureType:"provincialway",stylers:{curZoomRegionId:"0",curZoomRegion:"8,9",level:"9"}},{featureType:"provincialway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"8,9",level:"8"}},{featureType:"provincialway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"8,9",level:"9"}},{featureType:"provincialway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"8,9",level:"8"}},{featureType:"provincialway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"8,9",level:"9"}},{featureType:"cityhighway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"6"}},{featureType:"cityhighway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"7"}},{featureType:"cityhighway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"8"}},{featureType:"cityhighway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"9"}},{featureType:"cityhighway",stylers:{curZoomRegionId:"0",curZoomRegion:"6,10",level:"10"}},{featureType:"cityhighway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"6"}},{featureType:"cityhighway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"7"}},{featureType:"cityhighway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"8"}},{featureType:"cityhighway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"9"}},{featureType:"cityhighway",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"10"}},{featureType:"cityhighway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"6"}},{featureType:"cityhighway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"7"}},{featureType:"cityhighway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"8"}},{featureType:"cityhighway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"9"}},{featureType:"cityhighway",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"6,10",level:"10"}},{featureType:"arterial",stylers:{curZoomRegionId:"0",curZoomRegion:"9,10",level:"9"}},{featureType:"arterial",stylers:{curZoomRegionId:"0",curZoomRegion:"9,10",level:"10"}},{featureType:"arterial",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"9,10",level:"9"}},{featureType:"arterial",elementType:"geometry",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"9,10",level:"10"}},{featureType:"arterial",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"9,10",level:"9"}},{featureType:"arterial",elementType:"labels",stylers:{visibility:"off",curZoomRegionId:"0",curZoomRegion:"9,10",level:"10"}},{featureType:"building",elementType:"geometry.topfill",stylers:{color:"#2a3341ff"}},{featureType:"building",elementType:"geometry.sidefill",stylers:{color:"#313b4cff"}},{featureType:"building",elementType:"geometry.stroke",stylers:{color:"#1a212eff"}},{featureType:"road",elementType:"labels.text.fill",stylers:{color:"#759879ff"}},{featureType:"road",elementType:"labels.text.stroke",stylers:{color:"#1a2e1cff"}},{featureType:"provincialway",elementType:"labels.text.fill",stylers:{color:"#759879ff"}},{featureType:"cityhighway",elementType:"labels.text.fill",stylers:{color:"#759879ff"}},{featureType:"arterial",elementType:"labels.text.fill",stylers:{color:"#759879ff"}},{featureType:"provincialway",elementType:"labels.text.stroke",stylers:{color:"#1a2e1cff"}},{featureType:"cityhighway",elementType:"labels.text.stroke",stylers:{color:"#1a2e1cff"}},{featureType:"arterial",elementType:"labels.text.stroke",stylers:{color:"#1a2e1cff"}},{featureType:"local",elementType:"labels",stylers:{visibility:"off"}},{featureType:"manmade",elementType:"labels.text.fill",stylers:{color:"#d69563ff"}},{featureType:"manmade",elementType:"labels.text.stroke",stylers:{color:"#17263cff"}},{featureType:"subwaystation",elementType:"geometry",stylers:{visibility:"off"}},{featureType:"transportationlabel",elementType:"labels.icon",stylers:{visibility:"off"}},{featureType:"transportationlabel",elementType:"labels",stylers:{visibility:"off"}},{featureType:"estate",elementType:"geometry",stylers:{color:"#2a3341ff"}}]}},series:[{name:"诗人的诗篇以及名句数量",type:"scatter",coordinateSystem:"bmap",data:o(r),symbolSize:function(t){return 10},encode:{value:2},label:{formatter:"{b}",position:"right",show:!1},emphasis:{label:{show:!0}}},{name:"诗人的诗篇以及名句数量",type:"scatter",coordinateSystem:"bmap",symbol:"pin",symbolSize:function(t){return 60},encode:{value:2},label:{normal:{show:!0,formatter:function(t){return t.data.name},textStyle:{color:"#fff",fontSize:13}}},itemStyle:{normal:{color:"#F62157"}},zlevel:6,data:o(r)},{name:"诗人的诗篇以及名句数量",type:"effectScatter",coordinateSystem:"bmap",data:o(r.sort(function(t,e){return e.value-t.value}).slice(0,6)),symbolSize:function(t){return t[2]/400},encode:{value:2},showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{formatter:"{b}",position:"right",show:!0},itemStyle:{shadowBlur:10,shadowColor:"#333"},zlevel:1},{name:"诗人的诗篇以及名句数量",type:"bar",itemStyle:{normal:{color:function(t){var e=[{colorStops:[{offset:0,color:"#336633"},{offset:1,color:"#336633"}]},{colorStops:[{offset:0,color:"#336666"},{offset:1,color:"#336666"}]}];return t.dataIndex<3?e[0]:e[1]}},emphasis:{color:"#f0515e"}},label:{normal:{show:!0,position:"right",textBorderWidth:0}},data:l.slice(0,20)}]},i.setOption(t)}},mounted:function(){this.initMap()}},zi={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("section",{staticClass:"mainbox"},[e("div",{staticClass:"column"},[e("div",{staticClass:"box mapchart",attrs:{id:"mapchart"}})])])])}]};var Ti=a("VU/8")(Ei,zi,!1,function(t){a("49a/")},"data-v-1e3fb292",null).exports;n.default.use(l.a);var Mi=new l.a({routes:[{path:"/",name:"Login",component:b},{path:"/Home",name:"Home",component:C,children:[{path:"/shouye",name:"shouye",component:g},{path:"/primary1",name:"primary1",component:z},{path:"/primary2",name:"primary2",component:j},{path:"/primary3",name:"primary3",component:A},{path:"/primary4",name:"primary4",component:S},{path:"/primary5",name:"primary5",component:X},{path:"/primary6",name:"primary6",component:Y},{path:"/junior1",name:"junior1",component:D},{path:"/junior2",name:"junior2",component:W},{path:"/junior3",name:"junior3",component:V},{path:"/high1",name:"high1",component:Q},{path:"/high2",name:"high2",component:at},{path:"/high3",name:"high3",component:rt},{path:"/tang300",name:"tang300",component:$n},{path:"/song300",name:"song300",component:Rn},{path:"/gushi300",name:"gushi300",component:On},{path:"/aiguo",name:"aiguo",component:ct},{path:"/aiqing",name:"aiqing",component:dt},{path:"/daowang",name:"daowang",component:pt},{path:"/libie",name:"libie",component:mt},{path:"/lizhi",name:"lizhi",component:xt},{path:"/sinian",name:"sinian",component:Ct},{path:"/sixiang",name:"sixiang",component:zt},{path:"/songbie",name:"songbie",component:jt},{path:"/youguoyoumin",name:"youguoyoumin",component:At},{path:"/youqing",name:"youqing",component:St},{path:"/guiyuan",name:"guiyuan",component:Xt},{path:"/haofang",name:"haofang",component:Yt},{path:"/huaigu",name:"huaigu",component:Dt},{path:"/shuqing",name:"shuqing",component:Wt},{path:"/wanyue",name:"wanyue",component:Vt},{path:"/xishi",name:"xishi",component:Qt},{path:"/yongwu",name:"yongwu",component:ae},{path:"/zheli",name:"zheli",component:re},{path:"/chuntian",name:"chuntian",component:ce},{path:"/xiatian",name:"xiatian",component:de},{path:"/qiutian",name:"qiutian",component:pe},{path:"/dongtian",name:"dongtian",component:me},{path:"/chunjie",name:"chunjie",component:xe},{path:"/duanwu",name:"duanwu",component:Ce},{path:"/hanshi",name:"hanshi",component:ze},{path:"/jieri",name:"jieri",component:je},{path:"/qixi",name:"qixi",component:Ae},{path:"/qingming",name:"qingming",component:Se},{path:"/yuanxiao",name:"yuanxiao",component:Xe},{path:"/zhongqiu",name:"zhongqiu",component:Ye},{path:"/chongyang",name:"chongyang",component:Ge},{path:"/changjiang",name:"changjiang",component:Je},{path:"/diming",name:"diming",component:ea},{path:"/feng",name:"feng",component:ia},{path:"/hua",name:"hua",component:ca},{path:"/huanghe",name:"huanghe",component:ha},{path:"/liushu",name:"liushu",component:ya},{path:"/ma",name:"ma",component:xa},{path:"/niao",name:"niao",component:wa},{path:"/shanshui",name:"shanshui",component:Ma},{path:"/tianyuan",name:"tianyuan",component:Aa},{path:"/xiejing",name:"xiejing",component:Oa},{path:"/xue",name:"xue",component:qa},{path:"/yu",name:"yu",component:Da},{path:"/yueliang",name:"yueliang",component:Wa},{path:"/ertong",name:"ertong",component:Va},{path:"/laoshi",name:"laoshi",component:Qa},{path:"/muqin",name:"muqin",component:an},{path:"/qitarenwu",name:"qitarenwu",component:sn},{path:"/biansai",name:"biansai",component:ln},{path:"/dushu",name:"dushu",component:vn},{path:"/yuefu",name:"yuefu",component:gn},{path:"/chuci",name:"chuci",component:hn},{path:"/minyao",name:"minyao",component:bn},{path:"/shijing",name:"shijing",component:wn},{path:"/zhanzheng",name:"zhanzheng",component:Tn},{path:"/jinchao",name:"jinchao",component:Pn},{path:"/lianghan",name:"lianghan",component:Un},{path:"/mingdai",name:"mingdai",component:Gn},{path:"/nanbeichao",name:"nanbeichao",component:Hn},{path:"/qing",name:"qing",component:Jn},{path:"/song",name:"song",component:ti},{path:"/sui",name:"sui",component:ni},{path:"/tang",name:"tang",component:si},{path:"/weijin",name:"weijin",component:li},{path:"/wudai",name:"wudai",component:hi},{path:"/xianqin",name:"xianqin",component:vi},{path:"/yuan",name:"yuan",component:gi},{path:"/gaokao",name:"gaokao",component:bi},{path:"/songmap",name:"songmap",component:wi},{path:"/tangmap",name:"tangmap",component:Ti}]}]});n.default.use(o.a),n.default.use(l.a),n.default.config.productionTip=!1,n.default.prototype.$echarts=c,new n.default({el:"#app",router:Mi,components:{App:r},template:"<App/>"})},NmnT:function(t,e){},Ou2Z:function(t,e){},Q8pm:function(t,e){},RHDf:function(t,e){},RKdN:function(t,e){},RStm:function(t,e){},Rder:function(t,e){},SYTp:function(t,e){},TdMg:function(t,e){},VLl6:function(t,e){},Wftw:function(t,e){},WyeB:function(t,e){},Z1wC:function(t,e){},aNMM:function(t,e){},ayON:function(t,e){},cLDH:function(t,e){},"d/Yw":function(t,e){},dWFH:function(t,e){},dcPL:function(t,e){},eHgL:function(t,e){},eZYF:function(t,e){},ghW0:function(t,e){},"iyi/":function(t,e){},"j+DQ":function(t,e){},j6Ww:function(t,e){},jAP6:function(t,e){},jUfG:function(t,e){},jbRJ:function(t,e){},jwMz:function(t,e){},kr0K:function(t,e){},mFds:function(t,e){},"oBW+":function(t,e){},oPDm:function(t,e){},p697:function(t,e){},rOJI:function(t,e){},"s/qf":function(t,e){},sYr9:function(t,e){},tWZF:function(t,e){},tvR6:function(t,e){},twaZ:function(t,e){},utJ7:function(t,e){},vFll:function(t,e){},vWYO:function(t,e){},vkFP:function(t,e){},xY3M:function(t,e){},yPTM:function(t,e){}},["NHnr"]);